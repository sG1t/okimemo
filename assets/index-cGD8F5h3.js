(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var em={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function uw(){if(ev)return xl;ev=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return xl.Fragment=e,xl.jsx=n,xl.jsxs=n,xl}var tv;function cw(){return tv||(tv=1,em.exports=uw()),em.exports}var R=cw(),tm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function hw(){if(nv)return Ce;nv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,W={};function Q(x,K,X){this.props=x,this.context=K,this.refs=W,this.updater=X||j}Q.prototype.isReactComponent={},Q.prototype.setState=function(x,K){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,K,"setState")},Q.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function $(){}$.prototype=Q.prototype;function oe(x,K,X){this.props=x,this.context=K,this.refs=W,this.updater=X||j}var se=oe.prototype=new $;se.constructor=oe,G(se,Q.prototype),se.isPureReactComponent=!0;var Ee=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},Ie=Object.prototype.hasOwnProperty;function M(x,K,X,ne,ce,Re){return X=Re.ref,{$$typeof:r,type:x,key:K,ref:X!==void 0?X:null,props:Re}}function A(x,K){return M(x.type,K,void 0,void 0,void 0,x.props)}function C(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function O(x){var K={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(X){return K[X]})}var V=/\/+/g;function k(x,K){return typeof x=="object"&&x!==null&&x.key!=null?O(""+x.key):K.toString(36)}function D(){}function tt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(D,D):(x.status="pending",x.then(function(K){x.status==="pending"&&(x.status="fulfilled",x.value=K)},function(K){x.status==="pending"&&(x.status="rejected",x.reason=K)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function We(x,K,X,ne,ce){var Re=typeof x;(Re==="undefined"||Re==="boolean")&&(x=null);var pe=!1;if(x===null)pe=!0;else switch(Re){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(x.$$typeof){case r:case e:pe=!0;break;case E:return pe=x._init,We(pe(x._payload),K,X,ne,ce)}}if(pe)return ce=ce(x),pe=ne===""?"."+k(x,0):ne,Ee(ce)?(X="",pe!=null&&(X=pe.replace(V,"$&/")+"/"),We(ce,K,X,"",function(Hn){return Hn})):ce!=null&&(C(ce)&&(ce=A(ce,X+(ce.key==null||x&&x.key===ce.key?"":(""+ce.key).replace(V,"$&/")+"/")+pe)),K.push(ce)),1;pe=0;var Nt=ne===""?".":ne+":";if(Ee(x))for(var Je=0;Je<x.length;Je++)ne=x[Je],Re=Nt+k(ne,Je),pe+=We(ne,K,X,Re,ce);else if(Je=S(x),typeof Je=="function")for(x=Je.call(x),Je=0;!(ne=x.next()).done;)ne=ne.value,Re=Nt+k(ne,Je++),pe+=We(ne,K,X,Re,ce);else if(Re==="object"){if(typeof x.then=="function")return We(tt(x),K,X,ne,ce);throw K=String(x),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return pe}function P(x,K,X){if(x==null)return x;var ne=[],ce=0;return We(x,ne,"","",function(Re){return K.call(X,Re,ce++)}),ne}function ie(x){if(x._status===-1){var K=x._result;K=K(),K.then(function(X){(x._status===0||x._status===-1)&&(x._status=1,x._result=X)},function(X){(x._status===0||x._status===-1)&&(x._status=2,x._result=X)}),x._status===-1&&(x._status=0,x._result=K)}if(x._status===1)return x._result.default;throw x._result}var le=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function we(){}return Ce.Children={map:P,forEach:function(x,K,X){P(x,function(){K.apply(this,arguments)},X)},count:function(x){var K=0;return P(x,function(){K++}),K},toArray:function(x){return P(x,function(K){return K})||[]},only:function(x){if(!C(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ce.Component=Q,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=oe,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(x){return he.H.useMemoCache(x)}},Ce.cache=function(x){return function(){return x.apply(null,arguments)}},Ce.cloneElement=function(x,K,X){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ne=G({},x.props),ce=x.key,Re=void 0;if(K!=null)for(pe in K.ref!==void 0&&(Re=void 0),K.key!==void 0&&(ce=""+K.key),K)!Ie.call(K,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&K.ref===void 0||(ne[pe]=K[pe]);var pe=arguments.length-2;if(pe===1)ne.children=X;else if(1<pe){for(var Nt=Array(pe),Je=0;Je<pe;Je++)Nt[Je]=arguments[Je+2];ne.children=Nt}return M(x.type,ce,void 0,void 0,Re,ne)},Ce.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Ce.createElement=function(x,K,X){var ne,ce={},Re=null;if(K!=null)for(ne in K.key!==void 0&&(Re=""+K.key),K)Ie.call(K,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ce[ne]=K[ne]);var pe=arguments.length-2;if(pe===1)ce.children=X;else if(1<pe){for(var Nt=Array(pe),Je=0;Je<pe;Je++)Nt[Je]=arguments[Je+2];ce.children=Nt}if(x&&x.defaultProps)for(ne in pe=x.defaultProps,pe)ce[ne]===void 0&&(ce[ne]=pe[ne]);return M(x,Re,void 0,void 0,null,ce)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(x){return{$$typeof:m,render:x}},Ce.isValidElement=C,Ce.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:ie}},Ce.memo=function(x,K){return{$$typeof:y,type:x,compare:K===void 0?null:K}},Ce.startTransition=function(x){var K=he.T,X={};he.T=X;try{var ne=x(),ce=he.S;ce!==null&&ce(X,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(we,le)}catch(Re){le(Re)}finally{he.T=K}},Ce.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Ce.use=function(x){return he.H.use(x)},Ce.useActionState=function(x,K,X){return he.H.useActionState(x,K,X)},Ce.useCallback=function(x,K){return he.H.useCallback(x,K)},Ce.useContext=function(x){return he.H.useContext(x)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(x,K){return he.H.useDeferredValue(x,K)},Ce.useEffect=function(x,K,X){var ne=he.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(x,K)},Ce.useId=function(){return he.H.useId()},Ce.useImperativeHandle=function(x,K,X){return he.H.useImperativeHandle(x,K,X)},Ce.useInsertionEffect=function(x,K){return he.H.useInsertionEffect(x,K)},Ce.useLayoutEffect=function(x,K){return he.H.useLayoutEffect(x,K)},Ce.useMemo=function(x,K){return he.H.useMemo(x,K)},Ce.useOptimistic=function(x,K){return he.H.useOptimistic(x,K)},Ce.useReducer=function(x,K,X){return he.H.useReducer(x,K,X)},Ce.useRef=function(x){return he.H.useRef(x)},Ce.useState=function(x){return he.H.useState(x)},Ce.useSyncExternalStore=function(x,K,X){return he.H.useSyncExternalStore(x,K,X)},Ce.useTransition=function(){return he.H.useTransition()},Ce.version="19.1.1",Ce}var iv;function Xm(){return iv||(iv=1,tm.exports=hw()),tm.exports}var B=Xm(),nm={exports:{}},Nl={},im={exports:{}},rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function fw(){return rv||(rv=1,function(r){function e(P,ie){var le=P.length;P.push(ie);e:for(;0<le;){var we=le-1>>>1,x=P[we];if(0<o(x,ie))P[we]=ie,P[le]=x,le=we;else break e}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var ie=P[0],le=P.pop();if(le!==ie){P[0]=le;e:for(var we=0,x=P.length,K=x>>>1;we<K;){var X=2*(we+1)-1,ne=P[X],ce=X+1,Re=P[ce];if(0>o(ne,le))ce<x&&0>o(Re,ne)?(P[we]=Re,P[ce]=le,we=ce):(P[we]=ne,P[X]=le,we=X);else if(ce<x&&0>o(Re,le))P[we]=Re,P[ce]=le,we=ce;else break e}}return ie}function o(P,ie){var le=P.sortIndex-ie.sortIndex;return le!==0?le:P.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,w=null,S=3,j=!1,G=!1,W=!1,Q=!1,$=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Ee(P){for(var ie=n(y);ie!==null;){if(ie.callback===null)s(y);else if(ie.startTime<=P)s(y),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=n(y)}}function he(P){if(W=!1,Ee(P),!G)if(n(p)!==null)G=!0,Ie||(Ie=!0,k());else{var ie=n(y);ie!==null&&We(he,ie.startTime-P)}}var Ie=!1,M=-1,A=5,C=-1;function O(){return Q?!0:!(r.unstable_now()-C<A)}function V(){if(Q=!1,Ie){var P=r.unstable_now();C=P;var ie=!0;try{e:{G=!1,W&&(W=!1,oe(M),M=-1),j=!0;var le=S;try{t:{for(Ee(P),w=n(p);w!==null&&!(w.expirationTime>P&&O());){var we=w.callback;if(typeof we=="function"){w.callback=null,S=w.priorityLevel;var x=we(w.expirationTime<=P);if(P=r.unstable_now(),typeof x=="function"){w.callback=x,Ee(P),ie=!0;break t}w===n(p)&&s(p),Ee(P)}else s(p);w=n(p)}if(w!==null)ie=!0;else{var K=n(y);K!==null&&We(he,K.startTime-P),ie=!1}}break e}finally{w=null,S=le,j=!1}ie=void 0}}finally{ie?k():Ie=!1}}}var k;if(typeof se=="function")k=function(){se(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,tt=D.port2;D.port1.onmessage=V,k=function(){tt.postMessage(null)}}else k=function(){$(V,0)};function We(P,ie){M=$(function(){P(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(P){P.callback=null},r.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(P){switch(S){case 1:case 2:case 3:var ie=3;break;default:ie=S}var le=S;S=ie;try{return P()}finally{S=le}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(P,ie){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var le=S;S=P;try{return ie()}finally{S=le}},r.unstable_scheduleCallback=function(P,ie,le){var we=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?we+le:we):le=we,P){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=le+x,P={id:E++,callback:ie,priorityLevel:P,startTime:le,expirationTime:x,sortIndex:-1},le>we?(P.sortIndex=le,e(y,P),n(p)===null&&P===n(y)&&(W?(oe(M),M=-1):W=!0,We(he,le-we))):(P.sortIndex=x,e(p,P),G||j||(G=!0,Ie||(Ie=!0,k()))),P},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(P){var ie=S;return function(){var le=S;S=ie;try{return P.apply(this,arguments)}finally{S=le}}}}(rm)),rm}var sv;function dw(){return sv||(sv=1,im.exports=fw()),im.exports}var sm={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function mw(){if(av)return Yt;av=1;var r=Xm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Yt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Yt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:j}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:S,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Yt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,y){return p(y)},Yt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.1.1",Yt}var ov;function pw(){if(ov)return sm.exports;ov=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sm.exports=mw(),sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function gw(){if(lv)return Nl;lv=1;var r=dw(),e=Xm(),n=pw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),oe=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case Q:return"Profiler";case W:return"StrictMode";case he:return"Suspense";case Ie:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case se:return(t.displayName||"Context")+".Provider";case oe:return(t._context.displayName||"Context")+".Consumer";case Ee:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return i=t.displayName||null,i!==null?i:tt(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return tt(t(i))}catch{}}return null}var We=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},we=[],x=-1;function K(t){return{current:t}}function X(t){0>x||(t.current=we[x],we[x]=null,x--)}function ne(t,i){x++,we[x]=t.current,t.current=i}var ce=K(null),Re=K(null),pe=K(null),Nt=K(null);function Je(t,i){switch(ne(pe,i),ne(Re,t),ne(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?I_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=I_(i),t=D_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ce),ne(ce,t)}function Hn(){X(ce),X(Re),X(pe)}function lr(t){t.memoizedState!==null&&ne(Nt,t);var i=ce.current,a=D_(i,t.type);i!==a&&(ne(Re,t),ne(ce,a))}function bi(t){Re.current===t&&(X(ce),X(Re)),Nt.current===t&&(X(Nt),Al._currentValue=le)}var rs=Object.prototype.hasOwnProperty,ss=r.unstable_scheduleCallback,as=r.unstable_cancelCallback,bo=r.unstable_shouldYield,_u=r.unstable_requestPaint,vn=r.unstable_now,Jh=r.unstable_getCurrentPriorityLevel,wo=r.unstable_ImmediatePriority,Js=r.unstable_UserBlockingPriority,os=r.unstable_NormalPriority,ef=r.unstable_LowPriority,ea=r.unstable_IdlePriority,So=r.log,vu=r.unstable_setDisableYieldValue,ut=null,Fe=null;function un(t){if(typeof So=="function"&&vu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ut,t)}catch{}}var Kt=Math.clz32?Math.clz32:ls,Eu=Math.log,tf=Math.LN2;function ls(t){return t>>>=0,t===0?32:31-(Eu(t)/tf|0)|0}var us=256,cs=4194304;function Pn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ta(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Pn(l):(v&=T,v!==0?h=Pn(v):a||(a=T&~t,a!==0&&(h=Pn(a))))):(T=l&~d,T!==0?h=Pn(T):v!==0?h=Pn(v):a||(a=l&~t,a!==0&&(h=Pn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function hs(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ao(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(){var t=us;return us<<=1,(us&4194048)===0&&(us=256),t}function Co(){var t=cs;return cs<<=1,(cs&62914560)===0&&(cs=4194304),t}function wi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Si(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Io(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var Z=31-Kt(a),ee=1<<Z;T[Z]=0,I[Z]=-1;var H=q[Z];if(H!==null)for(q[Z]=null,Z=0;Z<H.length;Z++){var F=H[Z];F!==null&&(F.lane&=-536870913)}a&=~ee}l!==0&&Fn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Fn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Kt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Do(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Kt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function ur(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function na(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cr(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:Y_(t.type))}function Tu(t,i){var a=ie.p;try{return ie.p=t,i()}finally{ie.p=a}}var it=Math.random().toString(36).slice(2),St="__reactFiber$"+it,yt="__reactProps$"+it,En="__reactContainer$"+it,xo="__reactEvents$"+it,nf="__reactListeners$"+it,hr="__reactHandles$"+it,bu="__reactResources$"+it,fs="__reactMarker$"+it;function fr(t){delete t[St],delete t[yt],delete t[xo],delete t[nf],delete t[hr]}function Ai(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[En]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=M_(t);t!==null;){if(a=t[St])return a;t=M_(t)}return i}t=a,a=t.parentNode}return null}function Gn(t){if(t=t[St]||t[En]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Kn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Jt(t){var i=t[bu];return i||(i=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function dt(t){t[fs]=!0}var No=new Set,ia={};function kn(t,i){Ri(t,i),Ri(t+"Capture",i)}function Ri(t,i){for(ia[t]=i,t=0;t<i.length;t++)No.add(i[t])}var wu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Su={},ds={};function Au(t){return rs.call(ds,t)?!0:rs.call(Su,t)?!1:wu.test(t)?ds[t]=!0:(Su[t]=!0,!1)}function dr(t,i,a){if(Au(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Qn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ut(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var ms,Ru;function Ci(t){if(ms===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ms=i&&i[1]||"",Ru=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ms+t+Ru}var ra=!1;function sa(t,i){if(!t||ra)return"";ra=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(F){var H=F}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(F){H=F}t.call(ee.prototype)}}else{try{throw Error()}catch(F){H=F}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),q=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===q.length)for(l=I.length-1,h=q.length-1;1<=l&&0<=h&&I[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==q[h]){var Z=`
`+I[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{ra=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ci(a):""}function Oo(t){switch(t.tag){case 26:case 27:case 5:return Ci(t.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return sa(t.type,!1);case 11:return sa(t.type.render,!1);case 1:return sa(t.type,!0);case 31:return Ci("Activity");default:return""}}function aa(t){try{var i="";do i+=Oo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function rf(t){var i=Mo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function oa(t){t._valueTracker||(t._valueTracker=rf(t))}function Vo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Mo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var sf=/[\n"\\]/g;function _t(t){return t.replace(sf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cn(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+en(i)):t.value!==""+en(i)&&(t.value=""+en(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?mr(t,v,en(i)):a!=null?mr(t,v,en(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+en(T):t.removeAttribute("name")}function gs(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+en(a):"",i=i!=null?""+en(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function mr(t,i,a){i==="number"&&ps(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ii(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Qe(t,i,a){if(i!=null&&(i=""+en(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+en(a):""}function ys(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(We(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=en(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Tn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var _s=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||_s.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Po(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Cu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Cu(t,d,i[d])}function ko(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var af=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(t){return of.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Di=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xi=null,Ni=null;function Lo(t){var i=Gn(t);if(i&&(t=i.stateNode)){var a=t[yt]||null;e:switch(t=i.stateNode,i.type){case"input":if(cn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_t(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[yt]||null;if(!h)throw Error(s(90));cn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Vo(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ii(t,!!a.multiple,i,!1)}}}var Yn=!1;function Iu(t,i,a){if(Yn)return t(i,a);Yn=!0;try{var l=t(i);return l}finally{if(Yn=!1,(xi!==null||Ni!==null)&&(Tc(),xi&&(i=xi,t=Ni,Ni=xi=null,Lo(i),t)))for(i=0;i<t.length;i++)Lo(t[i])}}function vs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wn=!1;if(Ln)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){wn=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{wn=!1}var Xn=null,pr=null,Oi=null;function Uo(){if(Oi)return Oi;var t,i=pr,a=i.length,l,h="value"in Xn?Xn.value:Xn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Oi=h.slice(t,1<l?1-l:void 0)}function $n(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Wn(){return!0}function jo(){return!1}function Ot(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wn:jo,this.isPropagationStopped=jo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),i}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=Ot(qe),Ts=E({},qe,{view:0,detail:0}),Du=Ot(Ts),ca,ha,Zn,bs=E({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zn&&(Zn&&t.type==="mousemove"?(ca=t.screenX-Zn.screenX,ha=t.screenY-Zn.screenY):ha=ca=0,Zn=t),ca)},movementY:function(t){return"movementY"in t?t.movementY:ha}}),Sn=Ot(bs),xu=E({},bs,{dataTransfer:0}),lf=Ot(xu),ws=E({},Ts,{relatedTarget:0}),fa=Ot(ws),zo=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),da=Ot(zo),Nu=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ma=Ot(Nu),uf=E({},qe,{data:0}),Bo=Ot(uf),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Mu[t])?!!i[t]:!1}function As(){return qo}var Vu=E({},Ts,{key:function(t){if(t.key){var i=Ss[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=$n(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(t){return t.type==="keypress"?$n(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$n(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pa=Ot(Vu),Pu=E({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ho=Ot(Pu),Mi=E({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),ku=Ot(Mi),Lu=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uu=Ot(Lu),ju=E({},bs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ga=Ot(ju),tn=E({},qe,{newState:0,oldState:0}),zu=Ot(tn),Bu=[9,13,27,32],Jn=Ln&&"CompositionEvent"in window,c=null;Ln&&"documentMode"in document&&(c=document.documentMode);var g=Ln&&"TextEvent"in window&&!c,_=Ln&&(!Jn||c&&8<c&&11>=c),b=" ",U=!1;function Y(t,i){switch(t){case"keyup":return Bu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ke=!1;function At(t,i){switch(t){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(U=!0,b);case"textInput":return t=i.data,t===b&&U?null:t;default:return null}}function Le(t,i){if(ke)return t==="compositionend"||!Jn&&Y(t,i)?(t=Uo(),Oi=pr=Xn=null,ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Mt[t.type]:i==="textarea"}function Vi(t,i,a,l){xi?Ni?Ni.push(l):Ni=[l]:xi=l,i=Cc(i,"onChange"),0<i.length&&(a=new ua("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var jt=null,ei=null;function Fo(t){w_(t,0)}function qu(t){var i=Kn(t);if(Vo(i))return t}function Fp(t,i){if(t==="change")return i}var Gp=!1;if(Ln){var cf;if(Ln){var hf="oninput"in document;if(!hf){var Kp=document.createElement("div");Kp.setAttribute("oninput","return;"),hf=typeof Kp.oninput=="function"}cf=hf}else cf=!1;Gp=cf&&(!document.documentMode||9<document.documentMode)}function Qp(){jt&&(jt.detachEvent("onpropertychange",Yp),ei=jt=null)}function Yp(t){if(t.propertyName==="value"&&qu(ei)){var i=[];Vi(i,ei,t,bn(t)),Iu(Fo,i)}}function j1(t,i,a){t==="focusin"?(Qp(),jt=i,ei=a,jt.attachEvent("onpropertychange",Yp)):t==="focusout"&&Qp()}function z1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qu(ei)}function B1(t,i){if(t==="click")return qu(i)}function q1(t,i){if(t==="input"||t==="change")return qu(i)}function H1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var hn=typeof Object.is=="function"?Object.is:H1;function Go(t,i){if(hn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!rs.call(i,h)||!hn(t[h],i[h]))return!1}return!0}function Xp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $p(t,i){var a=Xp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xp(a)}}function Wp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Wp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Zp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ps(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ps(t.document)}return i}function ff(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var F1=Ln&&"documentMode"in document&&11>=document.documentMode,ya=null,df=null,Ko=null,mf=!1;function Jp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mf||ya==null||ya!==ps(l)||(l=ya,"selectionStart"in l&&ff(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Go(Ko,l)||(Ko=l,l=Cc(df,"onSelect"),0<l.length&&(i=new ua("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ya)))}function Rs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var _a={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},pf={},eg={};Ln&&(eg=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Cs(t){if(pf[t])return pf[t];if(!_a[t])return t;var i=_a[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in eg)return pf[t]=i[a];return t}var tg=Cs("animationend"),ng=Cs("animationiteration"),ig=Cs("animationstart"),G1=Cs("transitionrun"),K1=Cs("transitionstart"),Q1=Cs("transitioncancel"),rg=Cs("transitionend"),sg=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function Un(t,i){sg.set(t,i),kn(i,[t])}var ag=new WeakMap;function An(t,i){if(typeof t=="object"&&t!==null){var a=ag.get(t);return a!==void 0?a:(i={value:t,source:i,stack:aa(i)},ag.set(t,i),i)}return{value:t,source:i,stack:aa(i)}}var Rn=[],va=0,yf=0;function Hu(){for(var t=va,i=yf=va=0;i<t;){var a=Rn[i];Rn[i++]=null;var l=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var d=Rn[i];if(Rn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&og(a,h,d)}}function Fu(t,i,a,l){Rn[va++]=t,Rn[va++]=i,Rn[va++]=a,Rn[va++]=l,yf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _f(t,i,a,l){return Fu(t,i,a,l),Gu(t)}function Ea(t,i){return Fu(t,null,null,i),Gu(t)}function og(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Kt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Gu(t){if(50<yl)throw yl=0,Sd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ta={};function Y1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,i,a,l){return new Y1(t,i,a,l)}function vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pi(t,i){var a=t.alternate;return a===null?(a=fn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function lg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ku(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")vf(t)&&(v=1);else if(typeof t=="string")v=$b(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=fn(31,a,i,h),t.elementType=C,t.lanes=d,t;case G:return Is(a.children,h,d,i);case W:v=8,h|=24;break;case Q:return t=fn(12,a,i,h|2),t.elementType=Q,t.lanes=d,t;case he:return t=fn(13,a,i,h),t.elementType=he,t.lanes=d,t;case Ie:return t=fn(19,a,i,h),t.elementType=Ie,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case se:v=10;break e;case oe:v=9;break e;case Ee:v=11;break e;case M:v=14;break e;case A:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=fn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Is(t,i,a,l){return t=fn(7,t,l,i),t.lanes=a,t}function Ef(t,i,a){return t=fn(6,t,null,i),t.lanes=a,t}function Tf(t,i,a){return i=fn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ba=[],wa=0,Qu=null,Yu=0,Cn=[],In=0,Ds=null,ki=1,Li="";function xs(t,i){ba[wa++]=Yu,ba[wa++]=Qu,Qu=t,Yu=i}function ug(t,i,a){Cn[In++]=ki,Cn[In++]=Li,Cn[In++]=Ds,Ds=t;var l=ki;t=Li;var h=32-Kt(l)-1;l&=~(1<<h),a+=1;var d=32-Kt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,ki=1<<32-Kt(i)+h|a<<h|l,Li=d+t}else ki=1<<d|a<<h|l,Li=t}function bf(t){t.return!==null&&(xs(t,1),ug(t,1,0))}function wf(t){for(;t===Qu;)Qu=ba[--wa],ba[wa]=null,Yu=ba[--wa],ba[wa]=null;for(;t===Ds;)Ds=Cn[--In],Cn[In]=null,Li=Cn[--In],Cn[In]=null,ki=Cn[--In],Cn[In]=null}var nn=null,ct=null,Be=!1,Ns=null,ti=!1,Sf=Error(s(519));function Os(t){var i=Error(s(418,""));throw Xo(An(i,t)),Sf}function cg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[yt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<vl.length;a++)Oe(vl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),gs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),oa(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),ys(i,l.value,l.defaultValue,l.children),oa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||C_(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Ic),i=!0):i=!1,i||Os(t)}function hg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:nn=nn.return}}function Qo(t){if(t!==nn)return!1;if(!Be)return hg(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||zd(t.type,t.memoizedProps)),a=!a),a&&ct&&Os(t),hg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ct=zn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ct=null}}else i===27?(i=ct,Nr(t.type)?(t=Fd,Fd=null,ct=t):ct=i):ct=nn?zn(t.stateNode.nextSibling):null;return!0}function Yo(){ct=nn=null,Be=!1}function fg(){var t=Ns;return t!==null&&(an===null?an=t:an.push.apply(an,t),Ns=null),t}function Xo(t){Ns===null?Ns=[t]:Ns.push(t)}var Af=K(null),Ms=null,Ui=null;function gr(t,i,a){ne(Af,i._currentValue),i._currentValue=a}function ji(t){t._currentValue=Af.current,X(Af)}function Rf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Cf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Rf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Rf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function $o(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Nt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}h=h.return}t!==null&&Cf(i,t,a,l),i.flags|=262144}function Xu(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){Ms=t,Ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return dg(Ms,t)}function $u(t,i){return Ms===null&&Vs(t),dg(t,i)}function dg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ui===null){if(t===null)throw Error(s(308));Ui=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ui=Ui.next=i;return a}var X1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},$1=r.unstable_scheduleCallback,W1=r.unstable_NormalPriority,Ct={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new X1,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&$1(W1,function(){t.controller.abort()})}var Zo=null,Df=0,Sa=0,Aa=null;function Z1(t,i){if(Zo===null){var a=Zo=[];Df=0,Sa=Nd(),Aa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Df++,i.then(mg,mg),i}function mg(){if(--Df===0&&Zo!==null){Aa!==null&&(Aa.status="fulfilled");var t=Zo;Zo=null,Sa=0,Aa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function J1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var pg=P.S;P.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Z1(t,i),pg!==null&&pg(t,i)};var Ps=K(null);function xf(){var t=Ps.current;return t!==null?t:et.pooledCache}function Wu(t,i){i===null?ne(Ps,Ps.current):ne(Ps,i.pool)}function gg(){var t=xf();return t===null?null:{parent:Ct._currentValue,pool:t}}var Jo=Error(s(460)),yg=Error(s(474)),Zu=Error(s(542)),Nf={then:function(){}};function _g(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ju(){}function vg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ju,Ju),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Tg(t),t;default:if(typeof i.status=="string")i.then(Ju,Ju);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Tg(t),t}throw el=i,Jo}}var el=null;function Eg(){if(el===null)throw Error(s(459));var t=el;return el=null,t}function Tg(t){if(t===Jo||t===Zu)throw Error(s(483))}var yr=!1;function Of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _r(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function vr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Gu(t),og(t,null,a),i}return Fu(t,l,i,a),Gu(t)}function tl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Do(t,a)}}function Vf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Pf=!1;function nl(){if(Pf){var t=Aa;if(t!==null)throw t}}function il(t,i,a,l){Pf=!1;var h=t.updateQueue;yr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,q=I.next;I.next=null,v===null?d=q:v.next=q,v=I;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==v&&(T===null?Z.firstBaseUpdate=q:T.next=q,Z.lastBaseUpdate=I))}if(d!==null){var ee=h.baseState;v=0,Z=q=I=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Ue&H)===H:(l&H)===H){H!==0&&H===Sa&&(Pf=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=t,ye=T;H=i;var $e=a;switch(ye.tag){case 1:if(be=ye.payload,typeof be=="function"){ee=be.call($e,ee,H);break e}ee=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ye.payload,H=typeof be=="function"?be.call($e,ee,H):be,H==null)break e;ee=E({},ee,H);break e;case 2:yr=!0}}H=T.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(q=Z=F,I=ee):Z=Z.next=F,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Z===null&&(I=ee),h.baseState=I,h.firstBaseUpdate=q,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Cr|=v,t.lanes=v,t.memoizedState=ee}}function bg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function wg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)bg(a[t],i)}var Ra=K(null),ec=K(0);function Sg(t,i){t=Ki,ne(ec,t),ne(Ra,i),Ki=t|i.baseLanes}function kf(){ne(ec,Ki),ne(Ra,Ra.current)}function Lf(){Ki=ec.current,X(Ra),X(ec)}var Er=0,De=null,Ye=null,vt=null,tc=!1,Ca=!1,ks=!1,nc=0,rl=0,Ia=null,eb=0;function mt(){throw Error(s(321))}function Uf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!hn(t[a],i[a]))return!1;return!0}function jf(t,i,a,l,h,d){return Er=d,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,P.H=t===null||t.memoizedState===null?oy:ly,ks=!1,d=a(l,h),ks=!1,Ca&&(d=Rg(i,a,l,h)),Ag(t),d}function Ag(t){P.H=lc;var i=Ye!==null&&Ye.next!==null;if(Er=0,vt=Ye=De=null,tc=!1,rl=0,Ia=null,i)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&Xu(t)&&(Vt=!0))}function Rg(t,i,a,l){De=t;var h=0;do{if(Ca&&(Ia=null),rl=0,Ca=!1,25<=h)throw Error(s(301));if(h+=1,vt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=ob,d=i(a,l)}while(Ca);return d}function tb(){var t=P.H,i=t.useState()[0];return i=typeof i.then=="function"?sl(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(De.flags|=1024),i}function zf(){var t=nc!==0;return nc=0,t}function Bf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function qf(t){if(tc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}tc=!1}Er=0,vt=Ye=De=null,Ca=!1,rl=nc=0,Ia=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?De.memoizedState=vt=t:vt=vt.next=t,vt}function Et(){if(Ye===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=vt===null?De.memoizedState:vt.next;if(i!==null)vt=i,Ye=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},vt===null?De.memoizedState=vt=t:vt=vt.next=t}return vt}function Hf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var i=rl;return rl+=1,Ia===null&&(Ia=[]),t=vg(Ia,t,i),i=De,(vt===null?i.memoizedState:vt.next)===null&&(i=i.alternate,P.H=i===null||i.memoizedState===null?oy:ly),t}function ic(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===se)return Qt(t)}throw Error(s(438,String(t)))}function Ff(t){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Hf(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function zi(t,i){return typeof i=="function"?i(t):i}function rc(t){var i=Et();return Gf(i,Ye,t)}function Gf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,I=null,q=i,Z=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Ue&ee)===ee:(Er&ee)===ee){var H=q.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===Sa&&(Z=!0);else if((Er&H)===H){q=q.next,H===Sa&&(Z=!0);continue}else ee={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=ee,v=d):I=I.next=ee,De.lanes|=H,Cr|=H;ee=q.action,ks&&a(d,ee),d=q.hasEagerState?q.eagerState:a(d,ee)}else H={lane:ee,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=H,v=d):I=I.next=H,De.lanes|=ee,Cr|=ee;q=q.next}while(q!==null&&q!==i);if(I===null?v=d:I.next=T,!hn(d,t.memoizedState)&&(Vt=!0,Z&&(a=Aa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Kf(t){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(Vt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Cg(t,i,a){var l=De,h=Et(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!hn((Ye||h).memoizedState,a);v&&(h.memoizedState=a,Vt=!0),h=h.queue;var T=xg.bind(null,l,h,t);if(al(2048,8,T,[t]),h.getSnapshot!==i||v||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Da(9,sc(),Dg.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(Er&124)!==0||Ig(l,i,a)}return a}function Ig(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=Hf(),De.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Dg(t,i,a,l){i.value=a,i.getSnapshot=l,Ng(i)&&Og(t)}function xg(t,i,a){return a(function(){Ng(i)&&Og(t)})}function Ng(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!hn(t,a)}catch{return!0}}function Og(t){var i=Ea(t,2);i!==null&&yn(i,t,2)}function Qf(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),ks){un(!0);try{a()}finally{un(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},i}function Mg(t,i,a,l){return t.baseState=a,Gf(t,Ye,typeof l=="function"?l:zi)}function nb(t,i,a,l,h){if(oc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};P.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Vg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Vg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=P.T,v={};P.T=v;try{var T=a(h,l),I=P.S;I!==null&&I(v,T),Pg(t,i,T)}catch(q){Yf(t,i,q)}finally{P.T=d}}else try{d=a(h,l),Pg(t,i,d)}catch(q){Yf(t,i,q)}}function Pg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){kg(t,i,l)},function(l){return Yf(t,i,l)}):kg(t,i,a)}function kg(t,i,a){i.status="fulfilled",i.value=a,Lg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Vg(t,a)))}function Yf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Lg(i),i=i.next;while(i!==l)}t.action=null}function Lg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ug(t,i){return i}function jg(t,i){if(Be){var a=et.formState;if(a!==null){e:{var l=De;if(Be){if(ct){t:{for(var h=ct,d=ti;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=zn(h.nextSibling),l=h.data==="F!";break e}}Os(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ug,lastRenderedState:i},a.queue=l,a=ry.bind(null,De,l),l.dispatch=a,l=Qf(!1),d=Jf.bind(null,De,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=nb.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function zg(t){var i=Et();return Bg(i,Ye,t)}function Bg(t,i,a){if(i=Gf(t,i,Ug)[0],t=rc(zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=sl(i)}catch(v){throw v===Jo?Zu:v}else l=i;i=Et();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(De.flags|=2048,Da(9,sc(),ib.bind(null,h,a),null)),[l,d,t]}function ib(t,i){t.action=i}function qg(t){var i=Et(),a=Ye;if(a!==null)return Bg(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Da(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=De.updateQueue,i===null&&(i=Hf(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function sc(){return{destroy:void 0,resource:void 0}}function Hg(){return Et().memoizedState}function ac(t,i,a,l){var h=rn();l=l===void 0?null:l,De.flags|=t,h.memoizedState=Da(1|i,sc(),a,l)}function al(t,i,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&Uf(l,Ye.memoizedState.deps)?h.memoizedState=Da(i,d,a,l):(De.flags|=t,h.memoizedState=Da(1|i,d,a,l))}function Fg(t,i){ac(8390656,8,t,i)}function Gg(t,i){al(2048,8,t,i)}function Kg(t,i){return al(4,2,t,i)}function Qg(t,i){return al(4,4,t,i)}function Yg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Xg(t,i,a){a=a!=null?a.concat([t]):null,al(4,4,Yg.bind(null,i,t),a)}function Xf(){}function $g(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Uf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Wg(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Uf(i,l[1]))return l[0];if(l=t(),ks){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,i],l}function $f(t,i,a){return a===void 0||(Er&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=e_(),De.lanes|=t,Cr|=t,a)}function Zg(t,i,a,l){return hn(a,i)?a:Ra.current!==null?(t=$f(t,a,l),hn(t,i)||(Vt=!0),t):(Er&42)===0?(Vt=!0,t.memoizedState=a):(t=e_(),De.lanes|=t,Cr|=t,i)}function Jg(t,i,a,l,h){var d=ie.p;ie.p=d!==0&&8>d?d:8;var v=P.T,T={};P.T=T,Jf(t,!1,i,a);try{var I=h(),q=P.S;if(q!==null&&q(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=J1(I,l);ol(t,i,Z,gn(t))}else ol(t,i,l,gn(t))}catch(ee){ol(t,i,{then:function(){},status:"rejected",reason:ee},gn())}finally{ie.p=d,P.T=v}}function rb(){}function Wf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=ey(t).queue;Jg(t,h,i,le,a===null?rb:function(){return ty(t),a(l)})}function ey(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:le},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ty(t){var i=ey(t).next.queue;ol(t,i,{},gn())}function Zf(){return Qt(Al)}function ny(){return Et().memoizedState}function iy(){return Et().memoizedState}function sb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();t=_r(a);var l=vr(i,t,a);l!==null&&(yn(l,i,a),tl(l,i,a)),i={cache:If()},t.payload=i;return}i=i.return}}function ab(t,i,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},oc(t)?sy(i,a):(a=_f(t,i,a,l),a!==null&&(yn(a,t,l),ay(a,i,l)))}function ry(t,i,a){var l=gn();ol(t,i,a,l)}function ol(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(t))sy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return Fu(t,i,h,0),et===null&&Hu(),!1}catch{}finally{}if(a=_f(t,i,h,l),a!==null)return yn(a,t,l),ay(a,i,l),!0}return!1}function Jf(t,i,a,l){if(l={lane:2,revertLane:Nd(),action:l,hasEagerState:!1,eagerState:null,next:null},oc(t)){if(i)throw Error(s(479))}else i=_f(t,a,l,2),i!==null&&yn(i,t,2)}function oc(t){var i=t.alternate;return t===De||i!==null&&i===De}function sy(t,i){Ca=tc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ay(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Do(t,a)}}var lc={readContext:Qt,use:ic,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},oy={readContext:Qt,use:ic,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:Fg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ac(4194308,4,Yg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ac(4194308,4,t,i)},useInsertionEffect:function(t,i){ac(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(ks){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(ks){un(!0);try{a(i)}finally{un(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ab.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Qf(t);var i=t.queue,a=ry.bind(null,De,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Xf,useDeferredValue:function(t,i){var a=rn();return $f(a,t,i)},useTransition:function(){var t=Qf(!1);return t=Jg.bind(null,De,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=De,h=rn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Ue&124)!==0||Ig(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Fg(xg.bind(null,l,d,t),[t]),l.flags|=2048,Da(9,sc(),Dg.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=et.identifierPrefix;if(Be){var a=Li,l=ki;a=(l&~(1<<32-Kt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=nc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=eb++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Zf,useFormState:jg,useActionState:jg,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Jf.bind(null,De,!0,a),a.dispatch=i,[t,i]},useMemoCache:Ff,useCacheRefresh:function(){return rn().memoizedState=sb.bind(null,De)}},ly={readContext:Qt,use:ic,useCallback:$g,useContext:Qt,useEffect:Gg,useImperativeHandle:Xg,useInsertionEffect:Kg,useLayoutEffect:Qg,useMemo:Wg,useReducer:rc,useRef:Hg,useState:function(){return rc(zi)},useDebugValue:Xf,useDeferredValue:function(t,i){var a=Et();return Zg(a,Ye.memoizedState,t,i)},useTransition:function(){var t=rc(zi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:Cg,useId:ny,useHostTransitionStatus:Zf,useFormState:zg,useActionState:zg,useOptimistic:function(t,i){var a=Et();return Mg(a,Ye,t,i)},useMemoCache:Ff,useCacheRefresh:iy},ob={readContext:Qt,use:ic,useCallback:$g,useContext:Qt,useEffect:Gg,useImperativeHandle:Xg,useInsertionEffect:Kg,useLayoutEffect:Qg,useMemo:Wg,useReducer:Kf,useRef:Hg,useState:function(){return Kf(zi)},useDebugValue:Xf,useDeferredValue:function(t,i){var a=Et();return Ye===null?$f(a,t,i):Zg(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Kf(zi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:Cg,useId:ny,useHostTransitionStatus:Zf,useFormState:qg,useActionState:qg,useOptimistic:function(t,i){var a=Et();return Ye!==null?Mg(a,Ye,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ff,useCacheRefresh:iy},xa=null,ll=0;function uc(t){var i=ll;return ll+=1,xa===null&&(xa=[]),vg(xa,t,i)}function ul(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function cc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function uy(t){var i=t._init;return i(t._payload)}function cy(t){function i(L,N){if(t){var z=L.deletions;z===null?(L.deletions=[N],L.flags|=16):z.push(N)}}function a(L,N){if(!t)return null;for(;N!==null;)i(L,N),N=N.sibling;return null}function l(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function h(L,N){return L=Pi(L,N),L.index=0,L.sibling=null,L}function d(L,N,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<N?(L.flags|=67108866,N):z):(L.flags|=67108866,N)):(L.flags|=1048576,N)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,N,z,J){return N===null||N.tag!==6?(N=Ef(z,L.mode,J),N.return=L,N):(N=h(N,z),N.return=L,N)}function I(L,N,z,J){var fe=z.type;return fe===G?Z(L,N,z.props.children,J,z.key):N!==null&&(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&uy(fe)===N.type)?(N=h(N,z.props),ul(N,z),N.return=L,N):(N=Ku(z.type,z.key,z.props,null,L.mode,J),ul(N,z),N.return=L,N)}function q(L,N,z,J){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=Tf(z,L.mode,J),N.return=L,N):(N=h(N,z.children||[]),N.return=L,N)}function Z(L,N,z,J,fe){return N===null||N.tag!==7?(N=Is(z,L.mode,J,fe),N.return=L,N):(N=h(N,z),N.return=L,N)}function ee(L,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ef(""+N,L.mode,z),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return z=Ku(N.type,N.key,N.props,null,L.mode,z),ul(z,N),z.return=L,z;case j:return N=Tf(N,L.mode,z),N.return=L,N;case A:var J=N._init;return N=J(N._payload),ee(L,N,z)}if(We(N)||k(N))return N=Is(N,L.mode,z,null),N.return=L,N;if(typeof N.then=="function")return ee(L,uc(N),z);if(N.$$typeof===se)return ee(L,$u(L,N),z);cc(L,N)}return null}function H(L,N,z,J){var fe=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:T(L,N,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===fe?I(L,N,z,J):null;case j:return z.key===fe?q(L,N,z,J):null;case A:return fe=z._init,z=fe(z._payload),H(L,N,z,J)}if(We(z)||k(z))return fe!==null?null:Z(L,N,z,J,null);if(typeof z.then=="function")return H(L,N,uc(z),J);if(z.$$typeof===se)return H(L,N,$u(L,z),J);cc(L,z)}return null}function F(L,N,z,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(z)||null,T(N,L,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return L=L.get(J.key===null?z:J.key)||null,I(N,L,J,fe);case j:return L=L.get(J.key===null?z:J.key)||null,q(N,L,J,fe);case A:var xe=J._init;return J=xe(J._payload),F(L,N,z,J,fe)}if(We(J)||k(J))return L=L.get(z)||null,Z(N,L,J,fe,null);if(typeof J.then=="function")return F(L,N,z,uc(J),fe);if(J.$$typeof===se)return F(L,N,z,$u(N,J),fe);cc(N,J)}return null}function be(L,N,z,J){for(var fe=null,xe=null,me=N,_e=N=0,kt=null;me!==null&&_e<z.length;_e++){me.index>_e?(kt=me,me=null):kt=me.sibling;var ze=H(L,me,z[_e],J);if(ze===null){me===null&&(me=kt);break}t&&me&&ze.alternate===null&&i(L,me),N=d(ze,N,_e),xe===null?fe=ze:xe.sibling=ze,xe=ze,me=kt}if(_e===z.length)return a(L,me),Be&&xs(L,_e),fe;if(me===null){for(;_e<z.length;_e++)me=ee(L,z[_e],J),me!==null&&(N=d(me,N,_e),xe===null?fe=me:xe.sibling=me,xe=me);return Be&&xs(L,_e),fe}for(me=l(me);_e<z.length;_e++)kt=F(me,L,_e,z[_e],J),kt!==null&&(t&&kt.alternate!==null&&me.delete(kt.key===null?_e:kt.key),N=d(kt,N,_e),xe===null?fe=kt:xe.sibling=kt,xe=kt);return t&&me.forEach(function(kr){return i(L,kr)}),Be&&xs(L,_e),fe}function ye(L,N,z,J){if(z==null)throw Error(s(151));for(var fe=null,xe=null,me=N,_e=N=0,kt=null,ze=z.next();me!==null&&!ze.done;_e++,ze=z.next()){me.index>_e?(kt=me,me=null):kt=me.sibling;var kr=H(L,me,ze.value,J);if(kr===null){me===null&&(me=kt);break}t&&me&&kr.alternate===null&&i(L,me),N=d(kr,N,_e),xe===null?fe=kr:xe.sibling=kr,xe=kr,me=kt}if(ze.done)return a(L,me),Be&&xs(L,_e),fe;if(me===null){for(;!ze.done;_e++,ze=z.next())ze=ee(L,ze.value,J),ze!==null&&(N=d(ze,N,_e),xe===null?fe=ze:xe.sibling=ze,xe=ze);return Be&&xs(L,_e),fe}for(me=l(me);!ze.done;_e++,ze=z.next())ze=F(me,L,_e,ze.value,J),ze!==null&&(t&&ze.alternate!==null&&me.delete(ze.key===null?_e:ze.key),N=d(ze,N,_e),xe===null?fe=ze:xe.sibling=ze,xe=ze);return t&&me.forEach(function(lw){return i(L,lw)}),Be&&xs(L,_e),fe}function $e(L,N,z,J){if(typeof z=="object"&&z!==null&&z.type===G&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:e:{for(var fe=z.key;N!==null;){if(N.key===fe){if(fe=z.type,fe===G){if(N.tag===7){a(L,N.sibling),J=h(N,z.props.children),J.return=L,L=J;break e}}else if(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&uy(fe)===N.type){a(L,N.sibling),J=h(N,z.props),ul(J,z),J.return=L,L=J;break e}a(L,N);break}else i(L,N);N=N.sibling}z.type===G?(J=Is(z.props.children,L.mode,J,z.key),J.return=L,L=J):(J=Ku(z.type,z.key,z.props,null,L.mode,J),ul(J,z),J.return=L,L=J)}return v(L);case j:e:{for(fe=z.key;N!==null;){if(N.key===fe)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(L,N.sibling),J=h(N,z.children||[]),J.return=L,L=J;break e}else{a(L,N);break}else i(L,N);N=N.sibling}J=Tf(z,L.mode,J),J.return=L,L=J}return v(L);case A:return fe=z._init,z=fe(z._payload),$e(L,N,z,J)}if(We(z))return be(L,N,z,J);if(k(z)){if(fe=k(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),ye(L,N,z,J)}if(typeof z.then=="function")return $e(L,N,uc(z),J);if(z.$$typeof===se)return $e(L,N,$u(L,z),J);cc(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(L,N.sibling),J=h(N,z),J.return=L,L=J):(a(L,N),J=Ef(z,L.mode,J),J.return=L,L=J),v(L)):a(L,N)}return function(L,N,z,J){try{ll=0;var fe=$e(L,N,z,J);return xa=null,fe}catch(me){if(me===Jo||me===Zu)throw me;var xe=fn(29,me,null,L.mode);return xe.lanes=J,xe.return=L,xe}finally{}}}var Na=cy(!0),hy=cy(!1),Dn=K(null),ni=null;function Tr(t){var i=t.alternate;ne(It,It.current&1),ne(Dn,t),ni===null&&(i===null||Ra.current!==null||i.memoizedState!==null)&&(ni=t)}function fy(t){if(t.tag===22){if(ne(It,It.current),ne(Dn,t),ni===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ni=t)}}else br()}function br(){ne(It,It.current),ne(Dn,Dn.current)}function Bi(t){X(Dn),ni===t&&(ni=null),X(It)}var It=K(0);function hc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Hd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ed(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var td={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=gn(),h=_r(l);h.payload=i,a!=null&&(h.callback=a),i=vr(t,h,l),i!==null&&(yn(i,t,l),tl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=gn(),h=_r(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=vr(t,h,l),i!==null&&(yn(i,t,l),tl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=gn(),l=_r(a);l.tag=2,i!=null&&(l.callback=i),i=vr(t,l,a),i!==null&&(yn(i,t,a),tl(i,t,a))}};function dy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Go(a,l)||!Go(h,d):!0}function my(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&td.enqueueReplaceState(i,i.state,null)}function Ls(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var fc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function py(t){fc(t)}function gy(t){console.error(t)}function yy(t){fc(t)}function dc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function _y(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function nd(t,i,a){return a=_r(a),a.tag=3,a.payload={element:null},a.callback=function(){dc(t,i)},a}function vy(t){return t=_r(t),t.tag=3,t}function Ey(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){_y(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){_y(i,a,l),typeof h!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function lb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&$o(i,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return ni===null?Rd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Nf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Id(t,l,h)),!1;case 22:return a.flags|=65536,l===Nf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Id(t,l,h)),!1}throw Error(s(435,a.tag))}return Id(t,l,h),Rd(),!1}if(Be)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Sf&&(t=Error(s(422),{cause:l}),Xo(An(t,a)))):(l!==Sf&&(i=Error(s(423),{cause:l}),Xo(An(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=An(l,a),h=nd(t.stateNode,l,h),Vf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=An(d,a),gl===null?gl=[d]:gl.push(d),ht!==4&&(ht=2),i===null)return!0;l=An(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=nd(a.stateNode,l,t),Vf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ir===null||!Ir.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=vy(h),Ey(h,t,a,l),Vf(a,h),!1}a=a.return}while(a!==null);return!1}var Ty=Error(s(461)),Vt=!1;function zt(t,i,a,l){i.child=t===null?hy(i,null,a,l):Na(i,t.child,a,l)}function by(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Vs(i),l=jf(t,i,a,v,d,h),T=zf(),t!==null&&!Vt?(Bf(t,i,h),qi(t,i,h)):(Be&&T&&bf(i),i.flags|=1,zt(t,i,l,h),i.child)}function wy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!vf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Sy(t,i,d,l,h)):(t=Ku(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!cd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(v,l)&&t.ref===i.ref)return qi(t,i,h)}return i.flags|=1,t=Pi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Sy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Go(d,l)&&t.ref===i.ref)if(Vt=!1,i.pendingProps=l=d,cd(t,h))(t.flags&131072)!==0&&(Vt=!0);else return i.lanes=t.lanes,qi(t,i,h)}return id(t,i,a,l,h)}function Ay(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Ry(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wu(i,d!==null?d.cachePool:null),d!==null?Sg(i,d):kf(),fy(i);else return i.lanes=i.childLanes=536870912,Ry(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Wu(i,d.cachePool),Sg(i,d),br(),i.memoizedState=null):(t!==null&&Wu(i,null),kf(),br());return zt(t,i,h,a),i.child}function Ry(t,i,a,l){var h=xf();return h=h===null?null:{parent:Ct._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Wu(i,null),kf(),fy(i),t!==null&&$o(t,i,l,!0),null}function mc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function id(t,i,a,l,h){return Vs(i),a=jf(t,i,a,l,void 0,h),l=zf(),t!==null&&!Vt?(Bf(t,i,h),qi(t,i,h)):(Be&&l&&bf(i),i.flags|=1,zt(t,i,a,h),i.child)}function Cy(t,i,a,l,h,d){return Vs(i),i.updateQueue=null,a=Rg(i,l,a,h),Ag(t),l=zf(),t!==null&&!Vt?(Bf(t,i,d),qi(t,i,d)):(Be&&l&&bf(i),i.flags|=1,zt(t,i,a,d),i.child)}function Iy(t,i,a,l,h){if(Vs(i),i.stateNode===null){var d=Ta,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=td,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Of(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):Ta,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ed(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&td.enqueueReplaceState(d,d.state,null),il(i,l,d,h),nl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=Ls(a,T);d.props=I;var q=d.context,Z=a.contextType;v=Ta,typeof Z=="object"&&Z!==null&&(v=Qt(Z));var ee=a.getDerivedStateFromProps;Z=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==v)&&my(i,d,l,v),yr=!1;var H=i.memoizedState;d.state=H,il(i,l,d,h),nl(),q=i.memoizedState,T||H!==q||yr?(typeof ee=="function"&&(ed(i,a,ee,l),q=i.memoizedState),(I=yr||dy(i,a,I,l,H,q,v))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Mf(t,i),v=i.memoizedProps,Z=Ls(a,v),d.props=Z,ee=i.pendingProps,H=d.context,q=a.contextType,I=Ta,typeof q=="object"&&q!==null&&(I=Qt(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||H!==I)&&my(i,d,l,I),yr=!1,H=i.memoizedState,d.state=H,il(i,l,d,h),nl();var F=i.memoizedState;v!==ee||H!==F||yr||t!==null&&t.dependencies!==null&&Xu(t.dependencies)?(typeof T=="function"&&(ed(i,a,T,l),F=i.memoizedState),(Z=yr||dy(i,a,Z,l,H,F,I)||t!==null&&t.dependencies!==null&&Xu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=I,l=Z):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,mc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Na(i,t.child,null,h),i.child=Na(i,null,a,h)):zt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=qi(t,i,h),t}function Dy(t,i,a,l){return Yo(),i.flags|=256,zt(t,i,a,l),i.child}var rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sd(t){return{baseLanes:t,cachePool:gg()}}function ad(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=xn),t}function xy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?Tr(i):br(),Be){var T=ct,I;if(I=T){e:{for(I=T,T=ti;I.nodeType!==8;){if(!T){T=null;break e}if(I=zn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ds!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},I=fn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,nn=i,ct=null,I=!0):I=!1}I||Os(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Hd(T)?i.lanes=32:i.lanes=536870912,null;Bi(i)}return T=l.children,l=l.fallback,h?(br(),h=i.mode,T=pc({mode:"hidden",children:T},h),l=Is(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=sd(a),h.childLanes=ad(t,v,a),i.memoizedState=rd,l):(Tr(i),od(i,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Tr(i),i.flags&=-257,i=ld(t,i,a)):i.memoizedState!==null?(br(),i.child=t.child,i.flags|=128,i=null):(br(),h=l.fallback,T=i.mode,l=pc({mode:"visible",children:l.children},T),h=Is(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Na(i,t.child,null,a),l=i.child,l.memoizedState=sd(a),l.childLanes=ad(t,v,a),i.memoizedState=rd,i=h);else if(Tr(i),Hd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,Xo({value:l,source:null,stack:null}),i=ld(t,i,a)}else if(Vt||$o(t,i,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=et,v!==null&&(l=a&-a,l=(l&42)!==0?1:ur(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ea(t,l),yn(v,t,l),Ty;T.data==="$?"||Rd(),i=ld(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,ct=zn(T.nextSibling),nn=i,Be=!0,Ns=null,ti=!1,t!==null&&(Cn[In++]=ki,Cn[In++]=Li,Cn[In++]=Ds,ki=t.id,Li=t.overflow,Ds=i),i=od(i,l.children),i.flags|=4096);return i}return h?(br(),h=l.fallback,T=i.mode,I=t.child,q=I.sibling,l=Pi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?h=Pi(q,h):(h=Is(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=sd(a):(I=T.cachePool,I!==null?(q=Ct._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=gg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=ad(t,v,a),i.memoizedState=rd,l):(Tr(i),a=t.child,t=a.sibling,a=Pi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function od(t,i){return i=pc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function pc(t,i){return t=fn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ld(t,i,a){return Na(i,t.child,null,a),t=od(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ny(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Rf(t.return,i,a)}function ud(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Oy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(zt(t,i,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ny(t,a,i);else if(t.tag===19)Ny(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ne(It,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&hc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ud(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&hc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ud(i,!0,a,null,d);break;case"together":ud(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function qi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Cr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if($o(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Pi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Pi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function cd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Xu(t)))}function ub(t,i,a){switch(i.tag){case 3:Je(i,i.stateNode.containerInfo),gr(i,Ct,t.memoizedState.cache),Yo();break;case 27:case 5:lr(i);break;case 4:Je(i,i.stateNode.containerInfo);break;case 10:gr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Tr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?xy(t,i,a):(Tr(i),t=qi(t,i,a),t!==null?t.sibling:null);Tr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||($o(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Oy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(It,It.current),l)break;return null;case 22:case 23:return i.lanes=0,Ay(t,i,a);case 24:gr(i,Ct,t.memoizedState.cache)}return qi(t,i,a)}function My(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Vt=!0;else{if(!cd(t,a)&&(i.flags&128)===0)return Vt=!1,ub(t,i,a);Vt=(t.flags&131072)!==0}else Vt=!1,Be&&(i.flags&1048576)!==0&&ug(i,Yu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")vf(l)?(t=Ls(l,t),i.tag=1,i=Iy(null,i,l,t,a)):(i.tag=0,i=id(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===Ee){i.tag=11,i=by(null,i,l,t,a);break e}else if(h===M){i.tag=14,i=wy(null,i,l,t,a);break e}}throw i=tt(l)||l,Error(s(306,i,""))}}return i;case 0:return id(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ls(l,i.pendingProps),Iy(t,i,l,h,a);case 3:e:{if(Je(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Mf(t,i),il(i,l,null,a);var v=i.memoizedState;if(l=v.cache,gr(i,Ct,l),l!==d.cache&&Cf(i,[Ct],a,!0),nl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Dy(t,i,l,a);break e}else if(l!==h){h=An(Error(s(424)),i),Xo(h),i=Dy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=zn(t.firstChild),nn=i,Be=!0,Ns=null,ti=!0,a=hy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yo(),l===h){i=qi(t,i,a);break e}zt(t,i,l,a)}i=i.child}return i;case 26:return mc(t,i),t===null?(a=L_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=Dc(pe.current).createElement(a),l[St]=i,l[yt]=t,qt(l,a,t),dt(l),i.stateNode=l):i.memoizedState=L_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return lr(i),t===null&&Be&&(l=i.stateNode=V_(i.type,i.pendingProps,pe.current),nn=i,ti=!0,h=ct,Nr(i.type)?(Fd=h,ct=zn(l.firstChild)):ct=h),zt(t,i,i.pendingProps.children,a),mc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=ct)&&(l=Lb(l,i.type,i.pendingProps,ti),l!==null?(i.stateNode=l,nn=i,ct=zn(l.firstChild),ti=!1,h=!0):h=!1),h||Os(i)),lr(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,zd(h,d)?l=null:v!==null&&zd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=jf(t,i,tb,null,null,a),Al._currentValue=h),mc(t,i),zt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=ct)&&(a=Ub(a,i.pendingProps,ti),a!==null?(i.stateNode=a,nn=i,ct=null,t=!0):t=!1),t||Os(i)),null;case 13:return xy(t,i,a);case 4:return Je(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Na(i,null,l,a):zt(t,i,l,a),i.child;case 11:return by(t,i,i.type,i.pendingProps,a);case 7:return zt(t,i,i.pendingProps,a),i.child;case 8:return zt(t,i,i.pendingProps.children,a),i.child;case 12:return zt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,gr(i,i.type,l.value),zt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Vs(i),h=Qt(h),l=l(h),i.flags|=1,zt(t,i,l,a),i.child;case 14:return wy(t,i,i.type,i.pendingProps,a);case 15:return Sy(t,i,i.type,i.pendingProps,a);case 19:return Oy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=pc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Pi(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Ay(t,i,a);case 24:return Vs(i),l=Qt(Ct),t===null?(h=xf(),h===null&&(h=et,d=If(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Of(i),gr(i,Ct,h)):((t.lanes&a)!==0&&(Mf(t,i),il(i,null,null,a),nl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),gr(i,Ct,l)):(l=d.cache,gr(i,Ct,l),l!==h.cache&&Cf(i,[Ct],a,!0))),zt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Hi(t){t.flags|=4}function Vy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!q_(i)){if(i=Dn.current,i!==null&&((Ue&4194048)===Ue?ni!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==ni))throw el=Nf,yg;t.flags|=8192}}function gc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Co():536870912,t.lanes|=i,Pa|=i)}function cl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function cb(t,i,a){var l=i.pendingProps;switch(wf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ji(Ct),Hn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qo(i)?Hi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,fg())),st(i),null;case 26:return a=i.memoizedState,t===null?(Hi(i),a!==null?(st(i),Vy(i,a)):(st(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Hi(i),st(i),Vy(i,a)):(st(i),i.flags&=-16777217):(t.memoizedProps!==l&&Hi(i),st(i),i.flags&=-16777217),null;case 27:bi(i),a=pe.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=ce.current,Qo(i)?cg(i):(t=V_(h,l,a),i.stateNode=t,Hi(i))}return st(i),null;case 5:if(bi(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(t=ce.current,Qo(i))cg(i);else{switch(h=Dc(pe.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[St]=i,t[yt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hi(i)}}return st(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=pe.current,Qo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||C_(t.nodeValue,a)),t||Os(i)}else t=Dc(t).createTextNode(l),t[St]=i,i.stateNode=t}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Qo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else Yo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else h=fg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Bi(i),i):(Bi(i),null)}if(Bi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),gc(i,i.updateQueue),st(i),null;case 4:return Hn(),t===null&&Pd(i.stateNode.containerInfo),st(i),null;case 10:return ji(i.type),st(i),null;case 19:if(X(It),h=i.memoizedState,h===null)return st(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)cl(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=hc(t),d!==null){for(i.flags|=128,cl(h,!1),t=d.updateQueue,i.updateQueue=t,gc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)lg(a,t),a=a.sibling;return ne(It,It.current&1|2),i.child}t=t.sibling}h.tail!==null&&vn()>vc&&(i.flags|=128,l=!0,cl(h,!1),i.lanes=4194304)}else{if(!l)if(t=hc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,gc(i,t),cl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return st(i),null}else 2*vn()-h.renderingStartTime>vc&&a!==536870912&&(i.flags|=128,l=!0,cl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=vn(),i.sibling=null,t=It.current,ne(It,l?t&1|2:t&1),i):(st(i),null);case 22:case 23:return Bi(i),Lf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&gc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&X(Ps),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ji(Ct),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function hb(t,i){switch(wf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ji(Ct),Hn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return bi(i),null;case 13:if(Bi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Yo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(It),null;case 4:return Hn(),null;case 10:return ji(i.type),null;case 22:case 23:return Bi(i),Lf(),t!==null&&X(Ps),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ji(Ct),null;case 25:return null;default:return null}}function Py(t,i){switch(wf(i),i.tag){case 3:ji(Ct),Hn();break;case 26:case 27:case 5:bi(i);break;case 4:Hn();break;case 13:Bi(i);break;case 19:X(It);break;case 10:ji(i.type);break;case 22:case 23:Bi(i),Lf(),t!==null&&X(Ps);break;case 24:ji(Ct)}}function hl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Ze(i,i.return,T)}}function wr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,q=T;try{q()}catch(Z){Ze(h,I,Z)}}}l=l.next}while(l!==d)}}catch(Z){Ze(i,i.return,Z)}}function ky(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{wg(i,a)}catch(l){Ze(t,t.return,l)}}}function Ly(t,i,a){a.props=Ls(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function fl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,i,h)}}function ii(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function Uy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function hd(t,i,a){try{var l=t.stateNode;Ob(l,t.type,a,i),l[yt]=i}catch(h){Ze(t,t.return,h)}}function jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Nr(t.type)||t.tag===4}function fd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Nr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ic));else if(l!==4&&(l===27&&Nr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(dd(t,i,a),t=t.sibling;t!==null;)dd(t,i,a),t=t.sibling}function yc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Nr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yc(t,i,a),t=t.sibling;t!==null;)yc(t,i,a),t=t.sibling}function zy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);qt(i,l,a),i[St]=t,i[yt]=a}catch(d){Ze(t,t.return,d)}}var Fi=!1,pt=!1,md=!1,By=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function fb(t,i){if(t=t.containerInfo,Ud=Pc,t=Zp(t),ff(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,q=0,Z=0,ee=t,H=null;t:for(;;){for(var F;ee!==a||h!==0&&ee.nodeType!==3||(T=v+h),ee!==d||l!==0&&ee.nodeType!==3||(I=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(F=ee.firstChild)!==null;)H=ee,ee=F;for(;;){if(ee===t)break t;if(H===a&&++q===h&&(T=v),H===d&&++Z===l&&(I=v),(F=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=F}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(jd={focusedElem:t,selectionRange:a},Pc=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=Ls(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ze(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)qd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}}function qy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Sr(t,a),l&4&&hl(5,a);break;case 1:if(Sr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var h=Ls(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}l&64&&ky(a),l&512&&fl(a,a.return);break;case 3:if(Sr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{wg(t,i)}catch(v){Ze(a,a.return,v)}}break;case 27:i===null&&l&4&&zy(a);case 26:case 5:Sr(t,a),i===null&&l&4&&Uy(a),l&512&&fl(a,a.return);break;case 12:Sr(t,a);break;case 13:Sr(t,a),l&4&&Gy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Tb.bind(null,a),jb(t,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){i=i!==null&&i.memoizedState!==null||pt,h=Fi;var d=pt;Fi=l,(pt=i)&&!d?Ar(t,a,(a.subtreeFlags&8772)!==0):Sr(t,a),Fi=h,pt=d}break;case 30:break;default:Sr(t,a)}}function Hy(t){var i=t.alternate;i!==null&&(t.alternate=null,Hy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&fr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,sn=!1;function Gi(t,i,a){for(a=a.child;a!==null;)Fy(t,i,a),a=a.sibling}function Fy(t,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:pt||ii(a,i),Gi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||ii(a,i);var l=rt,h=sn;Nr(a.type)&&(rt=a.stateNode,sn=!1),Gi(t,i,a),Tl(a.stateNode),rt=l,sn=h;break;case 5:pt||ii(a,i);case 6:if(l=rt,h=sn,rt=null,Gi(t,i,a),rt=l,sn=h,rt!==null)if(sn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{rt.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:rt!==null&&(sn?(t=rt,O_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Dl(t)):O_(rt,a.stateNode));break;case 4:l=rt,h=sn,rt=a.stateNode.containerInfo,sn=!0,Gi(t,i,a),rt=l,sn=h;break;case 0:case 11:case 14:case 15:pt||wr(2,a,i),pt||wr(4,a,i),Gi(t,i,a);break;case 1:pt||(ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ly(a,i,l)),Gi(t,i,a);break;case 21:Gi(t,i,a);break;case 22:pt=(l=pt)||a.memoizedState!==null,Gi(t,i,a),pt=l;break;default:Gi(t,i,a)}}function Gy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Dl(t)}catch(a){Ze(i,i.return,a)}}function db(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new By),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new By),i;default:throw Error(s(435,t.tag))}}function pd(t,i){var a=db(t);i.forEach(function(l){var h=bb.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Nr(T.type)){rt=T.stateNode,sn=!1;break e}break;case 5:rt=T.stateNode,sn=!1;break e;case 3:case 4:rt=T.stateNode.containerInfo,sn=!0;break e}T=T.return}if(rt===null)throw Error(s(160));Fy(d,v,h),rt=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ky(i,t),i=i.sibling}var jn=null;function Ky(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),mn(t),l&4&&(wr(3,t,t.return),hl(3,t),wr(5,t,t.return));break;case 1:dn(i,t),mn(t),l&512&&(pt||a===null||ii(a,a.return)),l&64&&Fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=jn;if(dn(i,t),mn(t),l&512&&(pt||a===null||ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[fs]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[St]=t,dt(d),l=d;break e;case"link":var v=z_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=z_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,dt(d),l=d}t.stateNode=l}else B_(h,t.type,t.stateNode);else t.stateNode=j_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?B_(h,t.type,t.stateNode):j_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&hd(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(i,t),mn(t),l&512&&(pt||a===null||ii(a,a.return)),a!==null&&l&4&&hd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,t),mn(t),l&512&&(pt||a===null||ii(a,a.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(F){Ze(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,hd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(md=!0);break;case 6:if(dn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){Ze(t,t.return,F)}}break;case 3:if(Oc=null,h=jn,jn=xc(i.containerInfo),dn(i,t),jn=h,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Dl(i.containerInfo)}catch(F){Ze(t,t.return,F)}md&&(md=!1,Qy(t));break;case 4:l=jn,jn=xc(t.stateNode.containerInfo),dn(i,t),mn(t),jn=l;break;case 12:dn(i,t),mn(t);break;case 13:dn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Td=vn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=Fi,Z=pt;if(Fi=q||h,pt=Z||I,dn(i,t),pt=Z,Fi=q,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Fi||pt||Us(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var ee=I.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){Ze(I,I.return,F)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(F){Ze(I,I.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,pd(t,a))));break;case 19:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pd(t,l)));break;case 30:break;case 21:break;default:dn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(jy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=fd(t);yc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Tn(v,""),a.flags&=-33);var T=fd(t);yc(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,q=fd(t);dd(t,q,I);break;default:throw Error(s(161))}}catch(Z){Ze(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Sr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)qy(t,i.alternate,i),i=i.sibling}function Us(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:wr(4,i,i.return),Us(i);break;case 1:ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ly(i,i.return,a),Us(i);break;case 27:Tl(i.stateNode);case 26:case 5:ii(i,i.return),Us(i);break;case 22:i.memoizedState===null&&Us(i);break;case 30:Us(i);break;default:Us(i)}t=t.sibling}}function Ar(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ar(h,d,a),hl(4,d);break;case 1:if(Ar(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Ze(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)bg(I[h],T)}catch(q){Ze(l,l.return,q)}}a&&v&64&&ky(d),fl(d,d.return);break;case 27:zy(d);case 26:case 5:Ar(h,d,a),a&&l===null&&v&4&&Uy(d),fl(d,d.return);break;case 12:Ar(h,d,a);break;case 13:Ar(h,d,a),a&&v&4&&Gy(h,d);break;case 22:d.memoizedState===null&&Ar(h,d,a),fl(d,d.return);break;case 30:break;default:Ar(h,d,a)}i=i.sibling}}function gd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Wo(a))}function yd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Wo(t))}function ri(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yy(t,i,a,l),i=i.sibling}function Yy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(t,i,a,l),h&2048&&hl(9,i);break;case 1:ri(t,i,a,l);break;case 3:ri(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Wo(t)));break;case 12:if(h&2048){ri(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ze(i,i.return,I)}}else ri(t,i,a,l);break;case 13:ri(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ri(t,i,a,l):dl(t,i):d._visibility&2?ri(t,i,a,l):(d._visibility|=2,Oa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&gd(v,i);break;case 24:ri(t,i,a,l),h&2048&&yd(i.alternate,i);break;default:ri(t,i,a,l)}}function Oa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,I=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Oa(d,v,T,I,h),hl(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?Oa(d,v,T,I,h):dl(d,v):(Z._visibility|=2,Oa(d,v,T,I,h)),h&&q&2048&&gd(v.alternate,v);break;case 24:Oa(d,v,T,I,h),h&&q&2048&&yd(v.alternate,v);break;default:Oa(d,v,T,I,h)}i=i.sibling}}function dl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:dl(a,l),h&2048&&gd(l.alternate,l);break;case 24:dl(a,l),h&2048&&yd(l.alternate,l);break;default:dl(a,l)}i=i.sibling}}var ml=8192;function Ma(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)Xy(t),t=t.sibling}function Xy(t){switch(t.tag){case 26:Ma(t),t.flags&ml&&t.memoizedState!==null&&Zb(jn,t.memoizedState,t.memoizedProps);break;case 5:Ma(t);break;case 3:case 4:var i=jn;jn=xc(t.stateNode.containerInfo),Ma(t),jn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ml,ml=16777216,Ma(t),ml=i):Ma(t));break;default:Ma(t)}}function $y(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function pl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,Zy(l,t)}$y(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wy(t),t=t.sibling}function Wy(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&wr(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,_c(t)):pl(t);break;default:pl(t)}}function _c(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,Zy(l,t)}$y(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:wr(8,i,i.return),_c(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,_c(i));break;default:_c(i)}t=t.sibling}}function Zy(t,i){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:wr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(Hy(l),l===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var mb={getCacheForType:function(t){var i=Qt(Ct),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},pb=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Ne=null,Ue=0,Ke=0,pn=null,Rr=!1,Va=!1,_d=!1,Ki=0,ht=0,Cr=0,js=0,vd=0,xn=0,Pa=0,gl=null,an=null,Ed=!1,Td=0,vc=1/0,Ec=null,Ir=null,Bt=0,Dr=null,ka=null,La=0,bd=0,wd=null,Jy=null,yl=0,Sd=null;function gn(){if((Ge&2)!==0&&Ue!==0)return Ue&-Ue;if(P.T!==null){var t=Sa;return t!==0?t:Nd()}return cr()}function e_(){xn===0&&(xn=(Ue&536870912)===0||Be?Ro():536870912);var t=Dn.current;return t!==null&&(t.flags|=32),xn}function yn(t,i,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ua(t,0),xr(t,Ue,xn,!1)),Si(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(js|=a),ht===4&&xr(t,Ue,xn,!1)),si(t))}function t_(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||hs(t,i),h=l?_b(t,i):Cd(t,i,!0),d=l;do{if(h===0){Va&&!l&&xr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!gb(a)){h=Cd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=gl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ua(T,v).flags|=256),v=Cd(T,v,!1),v!==2){if(_d&&!I){T.errorRecoveryDisabledLanes|=d,js|=d,h=4;break e}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ua(t,0),xr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:xr(l,i,xn,!Rr);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Td+300-vn(),10<h)){if(xr(l,i,xn,!Rr),ta(l,0,!0)!==0)break e;l.timeoutHandle=x_(n_.bind(null,l,a,an,Ec,Ed,i,xn,js,Pa,Rr,d,2,-0,0),h);break e}n_(l,a,an,Ec,Ed,i,xn,js,Pa,Rr,d,0,-0,0)}}break}while(!0);si(t)}function n_(t,i,a,l,h,d,v,T,I,q,Z,ee,H,F){if(t.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Sl={stylesheets:null,count:0,unsuspend:Wb},Xy(i),ee=Jb(),ee!==null)){t.cancelPendingCommit=ee(u_.bind(null,t,i,d,a,l,h,v,T,I,Z,1,H,F)),xr(t,d,v,!q);return}u_(t,i,d,a,l,h,v,T,I)}function gb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xr(t,i,a,l){i&=~vd,i&=~js,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Kt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Fn(t,a,i)}function Tc(){return(Ge&6)===0?(_l(0),!1):!0}function Ad(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,Ui=Ms=null,qf(t),xa=null,ll=0,t=Ne;for(;t!==null;)Py(t.alternate,t),t=t.return;Ne=null}}function Ua(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Vb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ad(),et=t,Ne=a=Pi(t.current,null),Ue=i,Ke=0,pn=null,Rr=!1,Va=hs(t,i),_d=!1,Pa=xn=vd=js=Cr=ht=0,an=gl=null,Ed=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Kt(l),d=1<<h;i|=t[h],l&=~d}return Ki=i,Hu(),a}function i_(t,i){De=null,P.H=lc,i===Jo||i===Zu?(i=Eg(),Ke=3):i===yg?(i=Eg(),Ke=4):Ke=i===Ty?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pn=i,Ne===null&&(ht=1,dc(t,An(i,t.current)))}function r_(){var t=P.H;return P.H=lc,t===null?lc:t}function s_(){var t=P.A;return P.A=mb,t}function Rd(){ht=4,Rr||(Ue&4194048)!==Ue&&Dn.current!==null||(Va=!0),(Cr&134217727)===0&&(js&134217727)===0||et===null||xr(et,Ue,xn,!1)}function Cd(t,i,a){var l=Ge;Ge|=2;var h=r_(),d=s_();(et!==t||Ue!==i)&&(Ec=null,Ua(t,i)),i=!1;var v=ht;e:do try{if(Ke!==0&&Ne!==null){var T=Ne,I=pn;switch(Ke){case 8:Ad(),v=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var q=Ke;if(Ke=0,pn=null,ja(t,T,I,q),a&&Va){v=0;break e}break;default:q=Ke,Ke=0,pn=null,ja(t,T,I,q)}}yb(),v=ht;break}catch(Z){i_(t,Z)}while(!0);return i&&t.shellSuspendCounter++,Ui=Ms=null,Ge=l,P.H=h,P.A=d,Ne===null&&(et=null,Ue=0,Hu()),v}function yb(){for(;Ne!==null;)a_(Ne)}function _b(t,i){var a=Ge;Ge|=2;var l=r_(),h=s_();et!==t||Ue!==i?(Ec=null,vc=vn()+500,Ua(t,i)):Va=hs(t,i);e:do try{if(Ke!==0&&Ne!==null){i=Ne;var d=pn;t:switch(Ke){case 1:Ke=0,pn=null,ja(t,i,d,1);break;case 2:case 9:if(_g(d)){Ke=0,pn=null,o_(i);break}i=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),si(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:_g(d)?(Ke=0,pn=null,o_(i)):(Ke=0,pn=null,ja(t,i,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var T=Ne;if(!v||q_(v)){Ke=0,pn=null;var I=T.sibling;if(I!==null)Ne=I;else{var q=T.return;q!==null?(Ne=q,bc(q)):Ne=null}break t}}Ke=0,pn=null,ja(t,i,d,5);break;case 6:Ke=0,pn=null,ja(t,i,d,6);break;case 8:Ad(),ht=6;break e;default:throw Error(s(462))}}vb();break}catch(Z){i_(t,Z)}while(!0);return Ui=Ms=null,P.H=l,P.A=h,Ge=a,Ne!==null?0:(et=null,Ue=0,Hu(),ht)}function vb(){for(;Ne!==null&&!bo();)a_(Ne)}function a_(t){var i=My(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,i===null?bc(t):Ne=i}function o_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Cy(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=Cy(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:qf(i);default:Py(a,i),i=Ne=lg(i,Ki),i=My(a,i,Ki)}t.memoizedProps=t.pendingProps,i===null?bc(t):Ne=i}function ja(t,i,a,l){Ui=Ms=null,qf(i),xa=null,ll=0;var h=i.return;try{if(lb(t,h,i,a,Ue)){ht=1,dc(t,An(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ht=1,dc(t,An(a,t.current)),Ne=null;return}i.flags&32768?(Be||l===1?t=!0:Va||(Ue&536870912)!==0?t=!1:(Rr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),l_(i,t)):bc(i)}function bc(t){var i=t;do{if((i.flags&32768)!==0){l_(i,Rr);return}t=i.return;var a=cb(i.alternate,i,Ki);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ht===0&&(ht=5)}function l_(t,i){do{var a=hb(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ht=6,Ne=null}function u_(t,i,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do wc();while(Bt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=yf,Io(t,a,d,v,T,I),t===et&&(Ne=et=null,Ue=0),ka=i,Dr=t,La=a,bd=d,wd=h,Jy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wb(os,function(){return m_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,h=ie.p,ie.p=2,v=Ge,Ge|=4;try{fb(t,i,a)}finally{Ge=v,ie.p=h,P.T=l}}Bt=1,c_(),h_(),f_()}}function c_(){if(Bt===1){Bt=0;var t=Dr,i=ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var l=ie.p;ie.p=2;var h=Ge;Ge|=4;try{Ky(i,t);var d=jd,v=Zp(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Wp(T.ownerDocument.documentElement,T)){if(I!==null&&ff(T)){var q=I.start,Z=I.end;if(Z===void 0&&(Z=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(Z,T.value.length);else{var ee=T.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var F=H.getSelection(),be=T.textContent.length,ye=Math.min(I.start,be),$e=I.end===void 0?ye:Math.min(I.end,be);!F.extend&&ye>$e&&(v=$e,$e=ye,ye=v);var L=$p(T,ye),N=$p(T,$e);if(L&&N&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==N.node||F.focusOffset!==N.offset)){var z=ee.createRange();z.setStart(L.node,L.offset),F.removeAllRanges(),ye>$e?(F.addRange(z),F.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),F.addRange(z))}}}}for(ee=[],F=T;F=F.parentNode;)F.nodeType===1&&ee.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var J=ee[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Pc=!!Ud,jd=Ud=null}finally{Ge=h,ie.p=l,P.T=a}}t.current=i,Bt=2}}function h_(){if(Bt===2){Bt=0;var t=Dr,i=ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var l=ie.p;ie.p=2;var h=Ge;Ge|=4;try{qy(t,i.alternate,i)}finally{Ge=h,ie.p=l,P.T=a}}Bt=3}}function f_(){if(Bt===4||Bt===3){Bt=0,_u();var t=Dr,i=ka,a=La,l=Jy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Bt=5:(Bt=0,ka=Dr=null,d_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ir=null),na(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=P.T,h=ie.p,ie.p=2,P.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{P.T=i,ie.p=h}}(La&3)!==0&&wc(),si(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Sd?yl++:(yl=0,Sd=t):yl=0,_l(0)}}function d_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Wo(i)))}function wc(t){return c_(),h_(),f_(),m_()}function m_(){if(Bt!==5)return!1;var t=Dr,i=bd;bd=0;var a=na(La),l=P.T,h=ie.p;try{ie.p=32>a?32:a,P.T=null,a=wd,wd=null;var d=Dr,v=La;if(Bt=0,ka=Dr=null,La=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,Wy(d.current),Yy(d,d.current,v,a),Ge=T,_l(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ut,d)}catch{}return!0}finally{ie.p=h,P.T=l,d_(t,i)}}function p_(t,i,a){i=An(a,i),i=nd(t.stateNode,i,2),t=vr(t,i,2),t!==null&&(Si(t,2),si(t))}function Ze(t,i,a){if(t.tag===3)p_(t,t,a);else for(;i!==null;){if(i.tag===3){p_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ir===null||!Ir.has(l))){t=An(a,t),a=vy(2),l=vr(i,a,2),l!==null&&(Ey(a,l,i,t),Si(l,2),si(l));break}}i=i.return}}function Id(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new pb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(_d=!0,h.add(a),t=Eb.bind(null,t,i,a),i.then(t,t))}function Eb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Ue&a)===a&&(ht===4||ht===3&&(Ue&62914560)===Ue&&300>vn()-Td?(Ge&2)===0&&Ua(t,0):vd|=a,Pa===Ue&&(Pa=0)),si(t)}function g_(t,i){i===0&&(i=Co()),t=Ea(t,i),t!==null&&(Si(t,i),si(t))}function Tb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),g_(t,a)}function bb(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),g_(t,a)}function wb(t,i){return ss(t,i)}var Sc=null,za=null,Dd=!1,Ac=!1,xd=!1,zs=0;function si(t){t!==za&&t.next===null&&(za===null?Sc=za=t:za=za.next=t),Ac=!0,Dd||(Dd=!0,Ab())}function _l(t,i){if(!xd&&Ac){xd=!0;do for(var a=!1,l=Sc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Kt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,E_(l,d))}else d=Ue,d=ta(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||hs(l,d)||(a=!0,E_(l,d));l=l.next}while(a);xd=!1}}function Sb(){y_()}function y_(){Ac=Dd=!1;var t=0;zs!==0&&(Mb()&&(t=zs),zs=0);for(var i=vn(),a=null,l=Sc;l!==null;){var h=l.next,d=__(l,i);d===0?(l.next=null,a===null?Sc=h:a.next=h,h===null&&(za=a)):(a=l,(t!==0||(d&3)!==0)&&(Ac=!0)),l=h}_l(t)}function __(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Kt(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Ao(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=et,a=Ue,a=ta(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&as(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||hs(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&as(l),na(a)){case 2:case 8:a=Js;break;case 32:a=os;break;case 268435456:a=ea;break;default:a=os}return l=v_.bind(null,t),a=ss(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&as(l),t.callbackPriority=2,t.callbackNode=null,2}function v_(t,i){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wc()&&t.callbackNode!==a)return null;var l=Ue;return l=ta(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(t_(t,l,i),__(t,vn()),t.callbackNode!=null&&t.callbackNode===a?v_.bind(null,t):null)}function E_(t,i){if(wc())return null;t_(t,i,!0)}function Ab(){Pb(function(){(Ge&6)!==0?ss(wo,Sb):y_()})}function Nd(){return zs===0&&(zs=Ro()),zs}function T_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:la(""+t)}function b_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Rb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=T_((h[yt]||null).action),v=l.submitter;v&&(i=(i=v[yt]||null)?T_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new ua("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zs!==0){var I=v?b_(h,v):new FormData(h);Wf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?b_(h,v):new FormData(h),Wf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Od=0;Od<gf.length;Od++){var Md=gf[Od],Cb=Md.toLowerCase(),Ib=Md[0].toUpperCase()+Md.slice(1);Un(Cb,"on"+Ib)}Un(tg,"onAnimationEnd"),Un(ng,"onAnimationIteration"),Un(ig,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(G1,"onTransitionRun"),Un(K1,"onTransitionStart"),Un(Q1,"onTransitionCancel"),Un(rg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Db=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function w_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,q=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(Z){fc(Z)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,q=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(Z){fc(Z)}h.currentTarget=null,d=I}}}}function Oe(t,i){var a=i[xo];a===void 0&&(a=i[xo]=new Set);var l=t+"__bubble";a.has(l)||(S_(i,t,2,!1),a.add(l))}function Vd(t,i,a){var l=0;i&&(l|=4),S_(a,t,l,i)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Pd(t){if(!t[Rc]){t[Rc]=!0,No.forEach(function(a){a!=="selectionchange"&&(Db.has(a)||Vd(a,!1,t),Vd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Rc]||(i[Rc]=!0,Vd("selectionchange",!1,i))}}function S_(t,i,a,l){switch(Y_(i)){case 2:var h=nw;break;case 8:h=iw;break;default:h=Xd}a=h.bind(null,i,a,t),h=void 0,!wn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function kd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ai(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Iu(function(){var q=d,Z=bn(a),ee=[];e:{var H=sg.get(t);if(H!==void 0){var F=ua,be=t;switch(t){case"keypress":if($n(a)===0)break e;case"keydown":case"keyup":F=pa;break;case"focusin":be="focus",F=fa;break;case"focusout":be="blur",F=fa;break;case"beforeblur":case"afterblur":F=fa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=ku;break;case tg:case ng:case ig:F=da;break;case rg:F=Uu;break;case"scroll":case"scrollend":F=Du;break;case"wheel":F=ga;break;case"copy":case"cut":case"paste":F=ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ho;break;case"toggle":case"beforetoggle":F=zu}var ye=(i&4)!==0,$e=!ye&&(t==="scroll"||t==="scrollend"),L=ye?H!==null?H+"Capture":null:H;ye=[];for(var N=q,z;N!==null;){var J=N;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||L===null||(J=vs(N,L),J!=null&&ye.push(El(N,J,z))),$e)break;N=N.return}0<ye.length&&(H=new F(H,be,null,a,Z),ee.push({event:H,listeners:ye}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==Di&&(be=a.relatedTarget||a.fromElement)&&(Ai(be)||be[En]))break e;if((F||H)&&(H=Z.window===Z?Z:(H=Z.ownerDocument)?H.defaultView||H.parentWindow:window,F?(be=a.relatedTarget||a.toElement,F=q,be=be?Ai(be):null,be!==null&&($e=u(be),ye=be.tag,be!==$e||ye!==5&&ye!==27&&ye!==6)&&(be=null)):(F=null,be=q),F!==be)){if(ye=Sn,J="onMouseLeave",L="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Ho,J="onPointerLeave",L="onPointerEnter",N="pointer"),$e=F==null?H:Kn(F),z=be==null?H:Kn(be),H=new ye(J,N+"leave",F,a,Z),H.target=$e,H.relatedTarget=z,J=null,Ai(Z)===q&&(ye=new ye(L,N+"enter",be,a,Z),ye.target=z,ye.relatedTarget=$e,J=ye),$e=J,F&&be)t:{for(ye=F,L=be,N=0,z=ye;z;z=Ba(z))N++;for(z=0,J=L;J;J=Ba(J))z++;for(;0<N-z;)ye=Ba(ye),N--;for(;0<z-N;)L=Ba(L),z--;for(;N--;){if(ye===L||L!==null&&ye===L.alternate)break t;ye=Ba(ye),L=Ba(L)}ye=null}else ye=null;F!==null&&A_(ee,H,F,ye,!1),be!==null&&$e!==null&&A_(ee,$e,be,ye,!0)}}e:{if(H=q?Kn(q):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var fe=Fp;else if(Rt(H))if(Gp)fe=q1;else{fe=z1;var xe=j1}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&ko(q.elementType)&&(fe=Fp):fe=B1;if(fe&&(fe=fe(t,q))){Vi(ee,fe,a,Z);break e}xe&&xe(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&mr(H,"number",H.value)}switch(xe=q?Kn(q):window,t){case"focusin":(Rt(xe)||xe.contentEditable==="true")&&(ya=xe,df=q,Ko=null);break;case"focusout":Ko=df=ya=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,Jp(ee,a,Z);break;case"selectionchange":if(F1)break;case"keydown":case"keyup":Jp(ee,a,Z)}var me;if(Jn)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ke?Y(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(ke||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ke&&(me=Uo()):(Xn=Z,pr="value"in Xn?Xn.value:Xn.textContent,ke=!0)),xe=Cc(q,_e),0<xe.length&&(_e=new Bo(_e,t,null,a,Z),ee.push({event:_e,listeners:xe}),me?_e.data=me:(me=ae(a),me!==null&&(_e.data=me)))),(me=g?At(t,a):Le(t,a))&&(_e=Cc(q,"onBeforeInput"),0<_e.length&&(xe=new Bo("onBeforeInput","beforeinput",null,a,Z),ee.push({event:xe,listeners:_e}),xe.data=me)),Rb(ee,t,q,a,Z)}w_(ee,i)})}function El(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Cc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=vs(t,a),h!=null&&l.unshift(El(t,h,d)),h=vs(t,i),h!=null&&l.push(El(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ba(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function A_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,q=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||q===null||(I=q,h?(q=vs(a,d),q!=null&&v.unshift(El(a,q,I))):h||(q=vs(a,d),q!=null&&v.push(El(a,q,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var xb=/\r\n?/g,Nb=/\u0000|\uFFFD/g;function R_(t){return(typeof t=="string"?t:""+t).replace(xb,`
`).replace(Nb,"")}function C_(t,i){return i=R_(i),R_(t)===i}function Ic(){}function Xe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Tn(t,""+l);break;case"className":Qn(t,"class",l);break;case"tabIndex":Qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(t,a,l);break;case"style":Po(t,l,d);break;case"data":if(i!=="object"){Qn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=la(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=la(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ic);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=la(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),dr(t,"popover",l);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=af.get(a)||a,dr(t,a,l))}}function Ld(t,i,a,l,h,d){switch(a){case"style":Po(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ia.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):dr(t,a,l)}}}function qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,d,v,a,null)}}h&&Xe(t,i,"srcSet",a.srcSet,a,null),l&&Xe(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var T=d=v=h=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":v=Z;break;case"checked":I=Z;break;case"defaultChecked":q=Z;break;case"value":d=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:Xe(t,i,l,Z,a,null)}}gs(t,d,T,I,q,v,h,!1),oa(t);return;case"select":Oe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xe(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Ii(t,!!l,i,!1):a!=null&&Ii(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xe(t,i,v,T,a,null)}ys(t,l,h,d),oa(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,I,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)Oe(vl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,q,l,a,null)}return;default:if(ko(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Ld(t,i,Z,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xe(t,i,T,l,a,null))}function Ob(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,q=null,Z=null;for(F in a){var ee=a[F];if(a.hasOwnProperty(F)&&ee!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(F)||Xe(t,i,F,null,l,ee)}}for(var H in l){var F=l[H];if(ee=a[H],l.hasOwnProperty(H)&&(F!=null||ee!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":q=F;break;case"defaultChecked":Z=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==ee&&Xe(t,i,H,F,l,ee)}}cn(t,v,T,I,q,Z,d,h);return;case"select":F=v=T=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Xe(t,i,h,d,l,I)}i=T,a=v,l=F,H!=null?Ii(t,!!a,H,!1):!!l!=!!a&&(i!=null?Ii(t,!!a,i,!0):Ii(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,i,v,h,l,d)}Qe(t,H,F);return;case"option":for(var be in a)if(H=a[be],a.hasOwnProperty(be)&&H!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:Xe(t,i,be,null,l,H)}for(I in l)if(H=l[I],F=a[I],l.hasOwnProperty(I)&&H!==F&&(H!=null||F!=null))switch(I){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xe(t,i,I,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)H=a[ye],a.hasOwnProperty(ye)&&H!=null&&!l.hasOwnProperty(ye)&&Xe(t,i,ye,null,l,H);for(q in l)if(H=l[q],F=a[q],l.hasOwnProperty(q)&&H!==F&&(H!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Xe(t,i,q,H,l,F)}return;default:if(ko(i)){for(var $e in a)H=a[$e],a.hasOwnProperty($e)&&H!==void 0&&!l.hasOwnProperty($e)&&Ld(t,i,$e,void 0,l,H);for(Z in l)H=l[Z],F=a[Z],!l.hasOwnProperty(Z)||H===F||H===void 0&&F===void 0||Ld(t,i,Z,H,l,F);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&Xe(t,i,L,null,l,H);for(ee in l)H=l[ee],F=a[ee],!l.hasOwnProperty(ee)||H===F||H==null&&F==null||Xe(t,i,ee,H,l,F)}var Ud=null,jd=null;function Dc(t){return t.nodeType===9?t:t.ownerDocument}function I_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function zd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bd=null;function Mb(){var t=window.event;return t&&t.type==="popstate"?t===Bd?!1:(Bd=t,!0):(Bd=null,!1)}var x_=typeof setTimeout=="function"?setTimeout:void 0,Vb=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,Pb=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(t){return N_.resolve(null).then(t).catch(kb)}:x_;function kb(t){setTimeout(function(){throw t})}function Nr(t){return t==="head"}function O_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Tl(v.documentElement),a&2&&Tl(v.body),a&4)for(a=v.head,Tl(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[fs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Dl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Dl(i)}function qd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qd(a),fr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Lb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function Ub(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function Hd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function jb(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Fd=null;function M_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function V_(t,i,a){switch(i=Dc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Tl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fr(t)}var Nn=new Map,P_=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qi=ie.d;ie.d={f:zb,r:Bb,D:qb,C:Hb,L:Fb,m:Gb,X:Qb,S:Kb,M:Yb};function zb(){var t=Qi.f(),i=Tc();return t||i}function Bb(t){var i=Gn(t);i!==null&&i.tag===5&&i.type==="form"?ty(i):Qi.r(t)}var qa=typeof document>"u"?null:document;function k_(t,i,a){var l=qa;if(l&&typeof i=="string"&&i){var h=_t(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),P_.has(h)||(P_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qt(i,"link",t),dt(i),l.head.appendChild(i)))}}function qb(t){Qi.D(t),k_("dns-prefetch",t,null)}function Hb(t,i){Qi.C(t,i),k_("preconnect",t,i)}function Fb(t,i,a){Qi.L(t,i,a);var l=qa;if(l&&t&&i){var h='link[rel="preload"][as="'+_t(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_t(a.imageSizes)+'"]')):h+='[href="'+_t(t)+'"]';var d=h;switch(i){case"style":d=Ha(t);break;case"script":d=Fa(t)}Nn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Nn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(bl(d))||i==="script"&&l.querySelector(wl(d))||(i=l.createElement("link"),qt(i,"link",t),dt(i),l.head.appendChild(i)))}}function Gb(t,i){Qi.m(t,i);var a=qa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+_t(l)+'"][href="'+_t(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Fa(t)}if(!Nn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Nn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),qt(l,"link",t),dt(l),a.head.appendChild(l)}}}function Kb(t,i,a){Qi.S(t,i,a);var l=qa;if(l&&t){var h=Jt(l).hoistableStyles,d=Ha(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(bl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Nn.get(d))&&Gd(t,a);var I=v=l.createElement("link");dt(I),qt(I,"link",t),I._p=new Promise(function(q,Z){I.onload=q,I.onerror=Z}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Nc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function Qb(t,i){Qi.X(t,i);var a=qa;if(a&&t){var l=Jt(a).hoistableScripts,h=Fa(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=E({src:t,async:!0},i),(i=Nn.get(h))&&Kd(t,i),d=a.createElement("script"),dt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Yb(t,i){Qi.M(t,i);var a=qa;if(a&&t){var l=Jt(a).hoistableScripts,h=Fa(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Nn.get(h))&&Kd(t,i),d=a.createElement("script"),dt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function L_(t,i,a,l){var h=(h=pe.current)?xc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ha(a.href),a=Jt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ha(a.href);var d=Jt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(bl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Nn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(t,a),d||Xb(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fa(a),a=Jt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ha(t){return'href="'+_t(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function U_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Xb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",a),dt(i),t.head.appendChild(i))}function Fa(t){return'[src="'+_t(t)+'"]'}function wl(t){return"script[async]"+t}function j_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+_t(a.href)+'"]');if(l)return i.instance=l,dt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),dt(l),qt(l,"style",h),Nc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ha(a.href);var d=t.querySelector(bl(h));if(d)return i.state.loading|=4,i.instance=d,dt(d),d;l=U_(a),(h=Nn.get(h))&&Gd(l,h),d=(t.ownerDocument||t).createElement("link"),dt(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),qt(d,"link",l),i.state.loading|=4,Nc(d,a.precedence,t),i.instance=d;case"script":return d=Fa(a.src),(h=t.querySelector(wl(d)))?(i.instance=h,dt(h),h):(l=a,(h=Nn.get(d))&&(l=E({},a),Kd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),dt(h),qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Nc(l,a.precedence,t));return i.instance}function Nc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Gd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Oc=null;function z_(t,i,a){if(Oc===null){var l=new Map,h=Oc=new Map;h.set(a,l)}else h=Oc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[fs]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function B_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function $b(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function q_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Sl=null;function Wb(){}function Zb(t,i,a){if(Sl===null)throw Error(s(475));var l=Sl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ha(a.href),d=t.querySelector(bl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Mc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,dt(d);return}d=t.ownerDocument||t,a=U_(a),(h=Nn.get(h))&&Gd(a,h),d=d.createElement("link"),dt(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),qt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Mc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Jb(){if(Sl===null)throw Error(s(475));var t=Sl;return t.stylesheets&&t.count===0&&Qd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Qd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Mc(){if(this.count--,this.count===0){if(this.stylesheets)Qd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function Qd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,i.forEach(ew,t),Vc=null,Mc.call(t))}function ew(t,i){if(!(i.state.loading&4)){var a=Vc.get(t);if(a)var l=a.get(null);else{a=new Map,Vc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Al={$$typeof:se,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function tw(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function H_(t,i,a,l,h,d,v,T,I,q,Z,ee){return t=new tw(t,i,a,v,T,I,q,ee),i=1,d===!0&&(i|=24),d=fn(3,null,null,i),t.current=d,d.stateNode=t,i=If(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Of(d),t}function F_(t){return t?(t=Ta,t):Ta}function G_(t,i,a,l,h,d){h=F_(h),l.context===null?l.context=h:l.pendingContext=h,l=_r(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=vr(t,l,i),a!==null&&(yn(a,t,i),tl(a,t,i))}function K_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Yd(t,i){K_(t,i),(t=t.alternate)&&K_(t,i)}function Q_(t){if(t.tag===13){var i=Ea(t,67108864);i!==null&&yn(i,t,67108864),Yd(t,67108864)}}var Pc=!0;function nw(t,i,a,l){var h=P.T;P.T=null;var d=ie.p;try{ie.p=2,Xd(t,i,a,l)}finally{ie.p=d,P.T=h}}function iw(t,i,a,l){var h=P.T;P.T=null;var d=ie.p;try{ie.p=8,Xd(t,i,a,l)}finally{ie.p=d,P.T=h}}function Xd(t,i,a,l){if(Pc){var h=$d(l);if(h===null)kd(t,i,l,kc,a),X_(t,l);else if(sw(h,t,i,a,l))l.stopPropagation();else if(X_(t,l),i&4&&-1<rw.indexOf(t)){for(;h!==null;){var d=Gn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Pn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Kt(v);T.entanglements[1]|=I,v&=~I}si(d),(Ge&6)===0&&(vc=vn()+500,_l(0))}}break;case 13:T=Ea(d,2),T!==null&&yn(T,d,2),Tc(),Yd(d,2)}if(d=$d(l),d===null&&kd(t,i,l,kc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else kd(t,i,l,null,a)}}function $d(t){return t=bn(t),Wd(t)}var kc=null;function Wd(t){if(kc=null,t=Ai(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return kc=t,null}function Y_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jh()){case wo:return 2;case Js:return 8;case os:case ef:return 32;case ea:return 268435456;default:return 32}default:return 32}}var Zd=!1,Or=null,Mr=null,Vr=null,Rl=new Map,Cl=new Map,Pr=[],rw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X_(t,i){switch(t){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(i.pointerId)}}function Il(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Gn(i),i!==null&&Q_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function sw(t,i,a,l,h){switch(i){case"focusin":return Or=Il(Or,t,i,a,l,h),!0;case"dragenter":return Mr=Il(Mr,t,i,a,l,h),!0;case"mouseover":return Vr=Il(Vr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Rl.set(d,Il(Rl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Cl.set(d,Il(Cl.get(d)||null,t,i,a,l,h)),!0}return!1}function $_(t){var i=Ai(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Tu(t.priority,function(){if(a.tag===13){var l=gn();l=ur(l);var h=Ea(a,l);h!==null&&yn(h,a,l),Yd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=$d(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Di=l,a.target.dispatchEvent(l),Di=null}else return i=Gn(a),i!==null&&Q_(i),t.blockedOn=a,!1;i.shift()}return!0}function W_(t,i,a){Lc(t)&&a.delete(i)}function aw(){Zd=!1,Or!==null&&Lc(Or)&&(Or=null),Mr!==null&&Lc(Mr)&&(Mr=null),Vr!==null&&Lc(Vr)&&(Vr=null),Rl.forEach(W_),Cl.forEach(W_)}function Uc(t,i){t.blockedOn===i&&(t.blockedOn=null,Zd||(Zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,aw)))}var jc=null;function Z_(t){jc!==t&&(jc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){jc===t&&(jc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Wd(l||a)===null)continue;break}var d=Gn(a);d!==null&&(t.splice(i,3),i-=3,Wf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Dl(t){function i(I){return Uc(I,t)}Or!==null&&Uc(Or,t),Mr!==null&&Uc(Mr,t),Vr!==null&&Uc(Vr,t),Rl.forEach(i),Cl.forEach(i);for(var a=0;a<Pr.length;a++){var l=Pr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Pr.length&&(a=Pr[0],a.blockedOn===null);)$_(a),a.blockedOn===null&&Pr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[yt]||null;if(typeof d=="function")v||Z_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[yt]||null)T=v.formAction;else if(Wd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Z_(a)}}}function Jd(t){this._internalRoot=t}zc.prototype.render=Jd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=gn();G_(a,l,t,i,null,null)},zc.prototype.unmount=Jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;G_(t.current,2,null,t,null,null),Tc(),i[En]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var i=cr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Pr.length&&i!==0&&i<Pr[a].priority;a++);Pr.splice(a,0,t),a===0&&$_(t)}};var J_=e.version;if(J_!=="19.1.1")throw Error(s(527,J_,"19.1.1"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var ow={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{ut=Bc.inject(ow),Fe=Bc}catch{}}return Nl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=py,d=gy,v=yy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=H_(t,1,!1,null,null,a,l,h,d,v,T,null),t[En]=i.current,Pd(t),new Jd(i)},Nl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=py,v=gy,T=yy,I=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),i=H_(t,1,!0,i,a??null,l,h,d,v,T,I,q),i.context=F_(null),a=i.current,l=gn(),l=ur(l),h=_r(l),h.callback=null,vr(a,h,l),a=l,i.current.lanes=a,Si(i,a),si(i),t[En]=i.current,Pd(t),new zc(i)},Nl.version="19.1.1",Nl}var uv;function yw(){if(uv)return nm.exports;uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nm.exports=gw(),nm.exports}var _w=yw();/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cv="popstate";function vw(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Tm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Gl(o)}return Tw(e,n,null,r)}function ot(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function yi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ew(){return Math.random().toString(36).substring(2,10)}function hv(r,e){return{usr:r.state,key:r.key,idx:e}}function Tm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?mo(e):e,state:n,key:e&&e.key||s||Ew()}}function Gl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function mo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Tw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let Q=E(),$=Q==null?null:Q-y;y=Q,p&&p({action:m,location:W.location,delta:$})}function S(Q,$){m="PUSH";let oe=Tm(W.location,Q,$);y=E()+1;let se=hv(oe,y),Ee=W.createHref(oe);try{f.pushState(se,"",Ee)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(Ee)}u&&p&&p({action:m,location:W.location,delta:1})}function j(Q,$){m="REPLACE";let oe=Tm(W.location,Q,$);y=E();let se=hv(oe,y),Ee=W.createHref(oe);f.replaceState(se,"",Ee),u&&p&&p({action:m,location:W.location,delta:0})}function G(Q){return bw(Q)}let W={get action(){return m},get location(){return r(o,f)},listen(Q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(cv,w),p=Q,()=>{o.removeEventListener(cv,w),p=null}},createHref(Q){return e(o,Q)},createURL:G,encodeLocation(Q){let $=G(Q);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:j,go(Q){return f.go(Q)}};return W}function bw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Gl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function F0(r,e,n="/"){return ww(r,e,n,!1)}function ww(r,e,n,s){let o=typeof e=="string"?mo(e):e,u=Ji(o.pathname||"/",n);if(u==null)return null;let f=G0(r);Sw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=Pw(u);m=Mw(f[p],y,s)}return m}function G0(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ot(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Wi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ot(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),G0(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:Nw(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of K0(u.path))o(u,f,m)}),e}function K0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=K0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Sw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Ow(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Aw=/^:[\w-]+$/,Rw=3,Cw=2,Iw=1,Dw=10,xw=-2,fv=r=>r==="*";function Nw(r,e){let n=r.split("/"),s=n.length;return n.some(fv)&&(s+=xw),e&&(s+=Cw),n.filter(o=>!fv(o)).reduce((o,u)=>o+(Aw.test(u)?Rw:u===""?Iw:Dw),s)}function Ow(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Mw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),S=p.route;if(!w&&y&&n&&!s[s.length-1].route.index&&(w=lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Wi([u,w.pathname]),pathnameBase:jw(Wi([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=Wi([u,w.pathnameBase]))}return f}function lh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Vw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:w},S)=>{if(E==="*"){let G=m[S]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const j=m[S];return w&&!j?y[E]=void 0:y[E]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function Vw(r,e=!1,n=!0){yi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Pw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ji(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function kw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?mo(r):r;return{pathname:n?n.startsWith("/")?n:Lw(n,e):e,search:zw(s),hash:Bw(o)}}function Lw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function am(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Uw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Q0(r){let e=Uw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Y0(r,e,n,s=!1){let o;typeof r=="string"?o=mo(r):(o={...r},ot(!o.pathname||!o.pathname.includes("?"),am("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),am("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),am("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}m=w>=0?e[w]:"/"}let p=kw(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Wi=r=>r.join("/").replace(/\/\/+/g,"/"),jw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),zw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Bw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function qw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var X0=["POST","PUT","PATCH","DELETE"];new Set(X0);var Hw=["GET",...X0];new Set(Hw);var po=B.createContext(null);po.displayName="DataRouter";var Ih=B.createContext(null);Ih.displayName="DataRouterState";B.createContext(!1);var $0=B.createContext({isTransitioning:!1});$0.displayName="ViewTransition";var Fw=B.createContext(new Map);Fw.displayName="Fetchers";var Gw=B.createContext(null);Gw.displayName="Await";var Ei=B.createContext(null);Ei.displayName="Navigation";var iu=B.createContext(null);iu.displayName="Location";var sr=B.createContext({outlet:null,matches:[],isDataRoute:!1});sr.displayName="Route";var $m=B.createContext(null);$m.displayName="RouteError";function Kw(r,{relative:e}={}){ot(ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(Ei),{hash:o,pathname:u,search:f}=su(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Wi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function ru(){return B.useContext(iu)!=null}function Ti(){return ot(ru(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(iu).location}var W0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z0(r){B.useContext(Ei).static||B.useLayoutEffect(r)}function Dh(){let{isDataRoute:r}=B.useContext(sr);return r?sS():Qw()}function Qw(){ot(ru(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(po),{basename:e,navigator:n}=B.useContext(Ei),{matches:s}=B.useContext(sr),{pathname:o}=Ti(),u=JSON.stringify(Q0(s)),f=B.useRef(!1);return Z0(()=>{f.current=!0}),B.useCallback((p,y={})=>{if(yi(f.current,W0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=Y0(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Wi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}B.createContext(null);function su(r,{relative:e}={}){let{matches:n}=B.useContext(sr),{pathname:s}=Ti(),o=JSON.stringify(Q0(n));return B.useMemo(()=>Y0(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Yw(r,e){return J0(r,e)}function J0(r,e,n,s){ot(ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(Ei),{matches:u}=B.useContext(sr),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",E=f&&f.route;{let $=E&&E.path||"";eE(p,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let w=Ti(),S;if(e){let $=typeof e=="string"?mo(e):e;ot(y==="/"||$.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${$.pathname}" was given in the \`location\` prop.`),S=$}else S=w;let j=S.pathname||"/",G=j;if(y!=="/"){let $=y.replace(/^\//,"").split("/");G="/"+j.replace(/^\//,"").split("/").slice($.length).join("/")}let W=F0(r,{pathname:G});yi(E||W!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),yi(W==null||W[W.length-1].route.element!==void 0||W[W.length-1].route.Component!==void 0||W[W.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=Jw(W&&W.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:Wi([y,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?y:Wi([y,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),u,n,s);return e&&Q?B.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},Q):Q}function Xw(){let r=rS(),e=qw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,f)}var $w=B.createElement(Xw,null),Ww=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?B.createElement(sr.Provider,{value:this.props.routeContext},B.createElement($m.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zw({routeContext:r,match:e,children:n}){let s=B.useContext(po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(sr.Provider,{value:r},n)}function Jw(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:w}=n,S=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let w,S=!1,j=null,G=null;n&&(w=u&&y.route.id?u[y.route.id]:void 0,j=y.route.errorElement||$w,f&&(m<0&&E===0?(eE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,G=null):m===E&&(S=!0,G=y.route.hydrateFallbackElement||null)));let W=e.concat(o.slice(0,E+1)),Q=()=>{let $;return w?$=j:S?$=G:y.route.Component?$=B.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=p,B.createElement(Zw,{match:y,routeContext:{outlet:p,matches:W,isDataRoute:n!=null},children:$})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?B.createElement(Ww,{location:n.location,revalidation:n.revalidation,component:j,error:w,children:Q(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):Q()},null)}function Wm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eS(r){let e=B.useContext(po);return ot(e,Wm(r)),e}function tS(r){let e=B.useContext(Ih);return ot(e,Wm(r)),e}function nS(r){let e=B.useContext(sr);return ot(e,Wm(r)),e}function Zm(r){let e=nS(r),n=e.matches[e.matches.length-1];return ot(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function iS(){return Zm("useRouteId")}function rS(){let r=B.useContext($m),e=tS("useRouteError"),n=Zm("useRouteError");return r!==void 0?r:e.errors?.[n]}function sS(){let{router:r}=eS("useNavigate"),e=Zm("useNavigate"),n=B.useRef(!1);return Z0(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{yi(n.current,W0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var dv={};function eE(r,e,n){!e&&!dv[r]&&(dv[r]=!0,yi(!1,n))}B.memo(aS);function aS({routes:r,future:e,state:n}){return J0(r,void 0,n,e)}function Ga(r){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oS({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ot(!ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=mo(n));let{pathname:p="/",search:y="",hash:E="",state:w=null,key:S="default"}=n,j=B.useMemo(()=>{let G=Ji(p,f);return G==null?null:{location:{pathname:G,search:y,hash:E,state:w,key:S},navigationType:s}},[f,p,y,E,w,S,s]);return yi(j!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:B.createElement(Ei.Provider,{value:m},B.createElement(iu.Provider,{children:e,value:j}))}function lS({children:r,location:e}){return Yw(bm(r),e)}function bm(r,e=[]){let n=[];return B.Children.forEach(r,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){n.push.apply(n,bm(s.props.children,u));return}ot(s.type===Ga,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=bm(s.props.children,u)),n.push(f)}),n}var $c="get",Wc="application/x-www-form-urlencoded";function xh(r){return r!=null&&typeof r.tagName=="string"}function uS(r){return xh(r)&&r.tagName.toLowerCase()==="button"}function cS(r){return xh(r)&&r.tagName.toLowerCase()==="form"}function hS(r){return xh(r)&&r.tagName.toLowerCase()==="input"}function fS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function dS(r,e){return r.button===0&&(!e||e==="_self")&&!fS(r)}var qc=null;function mS(){if(qc===null)try{new FormData(document.createElement("form"),0),qc=!1}catch{qc=!0}return qc}var pS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function om(r){return r!=null&&!pS.has(r)?(yi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):r}function gS(r,e){let n,s,o,u,f;if(cS(r)){let m=r.getAttribute("action");s=m?Ji(m,e):null,n=r.getAttribute("method")||$c,o=om(r.getAttribute("enctype"))||Wc,u=new FormData(r)}else if(uS(r)||hS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Ji(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||$c,o=om(r.getAttribute("formenctype"))||om(m.getAttribute("enctype"))||Wc,u=new FormData(m,r),!mS()){let{name:y,type:E,value:w}=r;if(E==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,w)}}else{if(xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$c,s=null,o=Wc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function yS(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ji(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function _S(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ES(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await _S(u,n);return f.links?f.links():[]}return[]}));return SS(s.flat(1).filter(vS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function mv(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function TS(r,e,{includeHydrateFallback:n}={}){return bS(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function bS(r){return[...new Set(r)]}function wS(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function SS(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(wS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function tE(){let r=B.useContext(po);return Jm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function AS(){let r=B.useContext(Ih);return Jm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ep=B.createContext(void 0);ep.displayName="FrameworkContext";function nE(){let r=B.useContext(ep);return Jm(r,"You must render this element inside a <HydratedRouter> element"),r}function RS(r,e){let n=B.useContext(ep),[s,o]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:w}=e,S=B.useRef(null);B.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let W=$=>{$.forEach(oe=>{f(oe.isIntersecting)})},Q=new IntersectionObserver(W,{threshold:.5});return S.current&&Q.observe(S.current),()=>{Q.disconnect()}}},[r]),B.useEffect(()=>{if(s){let W=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(W)}}},[s]);let j=()=>{o(!0)},G=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Ol(m,j),onBlur:Ol(p,G),onMouseEnter:Ol(y,j),onMouseLeave:Ol(E,G),onTouchStart:Ol(w,j)}]:[!1,S,{}]}function Ol(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function CS({page:r,...e}){let{router:n}=tE(),s=B.useMemo(()=>F0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?B.createElement(DS,{page:r,matches:s,...e}):null}function IS(r){let{manifest:e,routeModules:n}=nE(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return ES(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function DS({page:r,matches:e,...n}){let s=Ti(),{manifest:o,routeModules:u}=nE(),{basename:f}=tE(),{loaderData:m,matches:p}=AS(),y=B.useMemo(()=>mv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=B.useMemo(()=>mv(r,e,p,o,s,"assets"),[r,e,p,o,s]),w=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let G=new Set,W=!1;if(e.forEach($=>{let oe=o.routes[$.route.id];!oe||!oe.hasLoader||(!y.some(se=>se.route.id===$.route.id)&&$.route.id in m&&u[$.route.id]?.shouldRevalidate||oe.hasClientLoader?W=!0:G.add($.route.id))}),G.size===0)return[];let Q=yS(r,f,"data");return W&&G.size>0&&Q.searchParams.set("_routes",e.filter($=>G.has($.route.id)).map($=>$.route.id).join(",")),[Q.pathname+Q.search]},[f,m,s,o,y,e,r,u]),S=B.useMemo(()=>TS(E,o),[E,o]),j=IS(E);return B.createElement(B.Fragment,null,w.map(G=>B.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),S.map(G=>B.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),j.map(({key:G,link:W})=>B.createElement("link",{key:G,nonce:n.nonce,...W})))}function xS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var iE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iE&&(window.__reactRouterVersion="7.8.0")}catch{}function NS({basename:r,children:e,window:n}){let s=B.useRef();s.current==null&&(s.current=vw({window:n,v5Compat:!0}));let o=s.current,[u,f]=B.useState({action:o.action,location:o.location}),m=B.useCallback(p=>{B.startTransition(()=>f(p))},[f]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(oS,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var rE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wa=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:w,...S},j){let{basename:G}=B.useContext(Ei),W=typeof y=="string"&&rE.test(y),Q,$=!1;if(typeof y=="string"&&W&&(Q=y,iE))try{let C=new URL(window.location.href),O=y.startsWith("//")?new URL(C.protocol+y):new URL(y),V=Ji(O.pathname,G);O.origin===C.origin&&V!=null?y=V+O.search+O.hash:$=!0}catch{yi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let oe=Kw(y,{relative:o}),[se,Ee,he]=RS(s,S),Ie=PS(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function M(C){e&&e(C),C.defaultPrevented||Ie(C)}let A=B.createElement("a",{...S,...he,href:Q||oe,onClick:$||u?e:M,ref:xS(j,Ee),target:p,"data-discover":!W&&n==="render"?"true":void 0});return se&&!W?B.createElement(B.Fragment,null,A,B.createElement(CS,{page:oe})):A});Wa.displayName="Link";var OS=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let w=su(f,{relative:y.relative}),S=Ti(),j=B.useContext(Ih),{navigator:G,basename:W}=B.useContext(Ei),Q=j!=null&&zS(w)&&m===!0,$=G.encodeLocation?G.encodeLocation(w).pathname:w.pathname,oe=S.pathname,se=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(oe=oe.toLowerCase(),se=se?se.toLowerCase():null,$=$.toLowerCase()),se&&W&&(se=Ji(se,W)||se);const Ee=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let he=oe===$||!o&&oe.startsWith($)&&oe.charAt(Ee)==="/",Ie=se!=null&&(se===$||!o&&se.startsWith($)&&se.charAt($.length)==="/"),M={isActive:he,isPending:Ie,isTransitioning:Q},A=he?e:void 0,C;typeof s=="function"?C=s(M):C=[s,he?"active":null,Ie?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(M):u;return B.createElement(Wa,{...y,"aria-current":A,className:C,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(M):p)});OS.displayName="NavLink";var MS=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=$c,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:w,...S},j)=>{let G=US(),W=jS(m,{relative:y}),Q=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&rE.test(m),oe=se=>{if(p&&p(se),se.defaultPrevented)return;se.preventDefault();let Ee=se.nativeEvent.submitter,he=Ee?.getAttribute("formmethod")||f;G(Ee||se.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:w})};return B.createElement("form",{ref:j,method:Q,action:W,onSubmit:s?p:oe,...S,"data-discover":!$&&r==="render"?"true":void 0})});MS.displayName="Form";function VS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sE(r){let e=B.useContext(po);return ot(e,VS(r)),e}function PS(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Dh(),p=Ti(),y=su(r,{relative:u});return B.useCallback(E=>{if(dS(E,e)){E.preventDefault();let w=n!==void 0?n:Gl(p)===Gl(y);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var kS=0,LS=()=>`__${String(++kS)}__`;function US(){let{router:r}=sE("useSubmit"),{basename:e}=B.useContext(Ei),n=iS();return B.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=gS(s,e);if(o.navigate===!1){let E=o.fetcherKey||LS();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function jS(r,{relative:e}={}){let{basename:n}=B.useContext(Ei),s=B.useContext(sr);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...su(r||".",{relative:e})},f=Ti();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Wi([n,u.pathname])),Gl(u)}function zS(r,{relative:e}={}){let n=B.useContext($0);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=sE("useViewTransitionState"),o=su(r,{relative:e});if(!n.isTransitioning)return!1;let u=Ji(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Ji(n.nextLocation.pathname,s)||n.nextLocation.pathname;return lh(o.pathname,f)!=null||lh(o.pathname,u)!=null}const BS=()=>{};var pv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},qS=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},oE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,j=y&63;p||(j=64,f||(S=64)),s.push(n[E],n[w],n[S],n[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(aE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):qS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||w==null)throw new HS;const S=u<<2|m>>4;if(s.push(S),y!==64){const j=m<<4&240|y>>2;if(s.push(j),w!==64){const G=y<<6&192|w;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class HS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FS=function(r){const e=aE(r);return oE.encodeByteArray(e,!0)},uh=function(r){return FS(r).replace(/\./g,"")},lE=function(r){try{return oE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=()=>GS().__FIREBASE_DEFAULTS__,QS=()=>{if(typeof process>"u"||typeof pv>"u")return;const r=pv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},YS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&lE(r[1]);return e&&JSON.parse(e)},Nh=()=>{try{return BS()||KS()||QS()||YS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},uE=r=>Nh()?.emulatorHosts?.[r],XS=r=>{const e=uE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},cE=()=>Nh()?.config,hE=r=>Nh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[uh(JSON.stringify(n)),uh(JSON.stringify(f)),""].join(".")}const jl={};function ZS(){const r={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?r.emulator.push(e):r.prod.push(e);return r}function JS(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let gv=!1;function dE(r,e){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||jl[r]===e||jl[r]||gv)return;jl[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=ZS().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,j){S.setAttribute("width","24"),S.setAttribute("id",j),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{gv=!0,f()},S}function E(S,j){S.setAttribute("id",j),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=JS(s),j=n("text"),G=document.getElementById(j)||document.createElement("span"),W=n("learnmore"),Q=document.getElementById(W)||document.createElement("a"),$=n("preprendIcon"),oe=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const se=S.element;m(se),E(Q,W);const Ee=y();p(oe,$),se.append(oe,G,Q,Ee),document.body.appendChild(se)}u?(G.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function tA(){const r=Nh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function rA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sA(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function aA(){return!tA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oA(){try{return typeof indexedDB=="object"}catch{return!1}}function lA(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="FirebaseError";class ar extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=uA,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,au.prototype.create)}}class au{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?cA(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ar(o,m,s)}}function cA(r,e){return r.replace(hA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const hA=/\{\$([^}]+)}/g;function fA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Fs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(yv(u)&&yv(f)){if(!Fs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function yv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ml(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Vl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function dA(r,e){const n=new mA(r,e);return n.subscribe.bind(n)}class mA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");pA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=lm),o.error===void 0&&(o.error=lm),o.complete===void 0&&(o.complete=lm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pA(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(r){return r&&r._delegate?r._delegate:r}class Gs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new $S;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_A(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yA(r){return r===Bs?void 0:r}function _A(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const EA={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},TA=Me.INFO,bA={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},wA=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=bA[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tp{constructor(e){this.name=e,this._logLevel=TA,this._logHandler=wA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const SA=(r,e)=>e.some(n=>r instanceof n);let _v,vv;function AA(){return _v||(_v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RA(){return vv||(vv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mE=new WeakMap,wm=new WeakMap,pE=new WeakMap,um=new WeakMap,np=new WeakMap;function CA(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Hr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&mE.set(n,r)}).catch(()=>{}),np.set(e,r),e}function IA(r){if(wm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});wm.set(r,e)}let Sm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return wm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||pE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function DA(r){Sm=r(Sm)}function xA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(cm(this),e,...n);return pE.set(s,e.sort?e.sort():[e]),Hr(s)}:RA().includes(r)?function(...e){return r.apply(cm(this),e),Hr(mE.get(this))}:function(...e){return Hr(r.apply(cm(this),e))}}function NA(r){return typeof r=="function"?xA(r):(r instanceof IDBTransaction&&IA(r),SA(r,AA())?new Proxy(r,Sm):r)}function Hr(r){if(r instanceof IDBRequest)return CA(r);if(um.has(r))return um.get(r);const e=NA(r);return e!==r&&(um.set(r,e),np.set(e,r)),e}const cm=r=>np.get(r);function OA(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Hr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Hr(f.result),p.oldVersion,p.newVersion,Hr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const MA=["get","getKey","getAll","getAllKeys","count"],VA=["put","add","delete","clear"],hm=new Map;function Ev(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(hm.get(e))return hm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=VA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||MA.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return hm.set(e,u),u}DA(r=>({...r,get:(e,n,s)=>Ev(e,n)||r.get(e,n,s),has:(e,n)=>!!Ev(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function kA(r){return r.getComponent()?.type==="VERSION"}const Am="@firebase/app",Tv="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new tp("@firebase/app"),LA="@firebase/app-compat",UA="@firebase/analytics-compat",jA="@firebase/analytics",zA="@firebase/app-check-compat",BA="@firebase/app-check",qA="@firebase/auth",HA="@firebase/auth-compat",FA="@firebase/database",GA="@firebase/data-connect",KA="@firebase/database-compat",QA="@firebase/functions",YA="@firebase/functions-compat",XA="@firebase/installations",$A="@firebase/installations-compat",WA="@firebase/messaging",ZA="@firebase/messaging-compat",JA="@firebase/performance",e2="@firebase/performance-compat",t2="@firebase/remote-config",n2="@firebase/remote-config-compat",i2="@firebase/storage",r2="@firebase/storage-compat",s2="@firebase/firestore",a2="@firebase/ai",o2="@firebase/firestore-compat",l2="firebase",u2="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="[DEFAULT]",c2={[Am]:"fire-core",[LA]:"fire-core-compat",[jA]:"fire-analytics",[UA]:"fire-analytics-compat",[BA]:"fire-app-check",[zA]:"fire-app-check-compat",[qA]:"fire-auth",[HA]:"fire-auth-compat",[FA]:"fire-rtdb",[GA]:"fire-data-connect",[KA]:"fire-rtdb-compat",[QA]:"fire-fn",[YA]:"fire-fn-compat",[XA]:"fire-iid",[$A]:"fire-iid-compat",[WA]:"fire-fcm",[ZA]:"fire-fcm-compat",[JA]:"fire-perf",[e2]:"fire-perf-compat",[t2]:"fire-rc",[n2]:"fire-rc-compat",[i2]:"fire-gcs",[r2]:"fire-gcs-compat",[s2]:"fire-fst",[o2]:"fire-fst-compat",[a2]:"fire-vertex","fire-js":"fire-js",[l2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,h2=new Map,Cm=new Map;function bv(r,e){try{r.container.addComponent(e)}catch(n){er.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ro(r){const e=r.name;if(Cm.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;Cm.set(e,r);for(const n of ch.values())bv(n,r);for(const n of h2.values())bv(n,r);return!0}function ip(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Mn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new au("app","Firebase",f2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=u2;function gE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Rm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Fr.create("bad-app-name",{appName:String(o)});if(n||(n=cE()),!n)throw Fr.create("no-options");const u=ch.get(o);if(u){if(Fs(n,u.options)&&Fs(s,u.config))return u;throw Fr.create("duplicate-app",{appName:o})}const f=new vA(o);for(const p of Cm.values())f.addComponent(p);const m=new d2(n,s,f);return ch.set(o,m),m}function yE(r=Rm){const e=ch.get(r);if(!e&&r===Rm&&cE())return gE();if(!e)throw Fr.create("no-app",{appName:r});return e}function Gr(r,e,n){let s=c2[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(f.join(" "));return}ro(new Gs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="firebase-heartbeat-database",p2=1,Kl="firebase-heartbeat-store";let fm=null;function _E(){return fm||(fm=OA(m2,p2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Fr.create("idb-open",{originalErrorMessage:r.message})})),fm}async function g2(r){try{const n=(await _E()).transaction(Kl),s=await n.objectStore(Kl).get(vE(r));return await n.done,s}catch(e){if(e instanceof ar)er.warn(e.message);else{const n=Fr.create("idb-get",{originalErrorMessage:e?.message});er.warn(n.message)}}}async function wv(r,e){try{const s=(await _E()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,vE(r)),await s.done}catch(n){if(n instanceof ar)er.warn(n.message);else{const s=Fr.create("idb-set",{originalErrorMessage:n?.message});er.warn(s.message)}}}function vE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=1024,_2=30;class v2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new T2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Sv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>_2){const o=b2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){er.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Sv(),{heartbeatsToSend:n,unsentEntries:s}=E2(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return er.warn(e),""}}}function Sv(){return new Date().toISOString().substring(0,10)}function E2(r,e=y2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Av(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Av(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class T2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oA()?lA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await g2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Av(r){return uh(JSON.stringify({version:2,heartbeats:r})).length}function b2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(r){ro(new Gs("platform-logger",e=>new PA(e),"PRIVATE")),ro(new Gs("heartbeat",e=>new v2(e),"PRIVATE")),Gr(Am,Tv,r),Gr(Am,Tv,"esm2020"),Gr("fire-js","")}w2("");var S2="firebase",A2="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(S2,A2,"app");function EE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R2=EE,TE=new au("auth","Firebase",EE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new tp("@firebase/auth");function C2(r,...e){hh.logLevel<=Me.WARN&&hh.warn(`Auth (${yo}): ${r}`,...e)}function Zc(r,...e){hh.logLevel<=Me.ERROR&&hh.error(`Auth (${yo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(r,...e){throw rp(r,...e)}function ui(r,...e){return rp(r,...e)}function bE(r,e,n){const s={...R2(),[e]:n};return new au("auth","Firebase",s).create(e,{appName:r.name})}function Zi(r){return bE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return TE.create(r,...e)}function ve(r,e,...n){if(!r)throw rp(e,...n)}function Xi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Zc(e),new Error(e)}function tr(r,e){r||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(){return typeof self<"u"&&self.location?.href||""}function I2(){return Rv()==="http:"||Rv()==="https:"}function Rv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I2()||iA()||"connection"in navigator)?navigator.onLine:!0}function x2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,tr(n>e,"Short delay should be less than long delay!"),this.isMobile=eA()||rA()}get(){return D2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(r,e){tr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M2=new lu(3e4,6e4);function ts(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function or(r,e,n,s,o={}){return SE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=ou({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return nA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&go(r.emulatorConfig.host)&&(y.credentials="include"),wE.fetch()(await AE(r,r.config.apiHost,n,m),y)})}async function SE(r,e,n){r._canInitEmulator=!1;const s={...N2,...e};try{const o=new P2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Hc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Hc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Hc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw bE(r,E,y);qn(r,E)}}catch(o){if(o instanceof ar)throw o;qn(r,"network-request-failed",{message:String(o)})}}async function uu(r,e,n,s,o={}){const u=await or(r,e,n,s,o);return"mfaPendingCredential"in u&&qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function AE(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?sp(r.config,o):`${r.config.apiScheme}://${o}`;return O2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function V2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class P2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ui(this.auth,"network-request-failed")),M2.get())})}}function Hc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ui(r,e,s);return o.customData._tokenResponse=n,o}function Cv(r){return r!==void 0&&r.enterprise!==void 0}class k2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return V2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function L2(r,e){return or(r,"GET","/v2/recaptchaConfig",ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(r,e){return or(r,"POST","/v1/accounts:delete",e)}async function fh(r,e){return or(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j2(r,e=!1){const n=ft(r),s=await n.getIdToken(e),o=ap(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:zl(dm(o.auth_time)),issuedAtTime:zl(dm(o.iat)),expirationTime:zl(dm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function dm(r){return Number(r)*1e3}function ap(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=lE(n);return o?JSON.parse(o):(Zc("Failed to decode base64 JWT payload"),null)}catch(o){return Zc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Iv(r){const e=ap(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ar&&z2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function z2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(r){const e=r.auth,n=await r.getIdToken(),s=await so(r,fh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?RE(o.providerUserInfo):[],f=H2(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function q2(r){const e=ft(r);await Ql(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function RE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(r,e){const n=await SE(r,{},async()=>{const s=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await AE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&go(r.emulatorConfig.host)&&(p.credentials="include"),wE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G2(r,e){return or(r,"POST","/v2/accounts:revokeToken",ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Iv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Iv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await F2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Za;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Bn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new B2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await so(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return j2(this,e)}reload(){return q2(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ql(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await so(this,U2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:w,emailVerified:S,isAnonymous:j,providerData:G,stsTokenManager:W}=n;ve(w&&W,e,"internal-error");const Q=Za.fromJSON(this.name,W);ve(typeof w=="string",e,"internal-error"),Lr(s,e.name),Lr(o,e.name),ve(typeof S=="boolean",e,"internal-error"),ve(typeof j=="boolean",e,"internal-error"),Lr(u,e.name),Lr(f,e.name),Lr(m,e.name),Lr(p,e.name),Lr(y,e.name),Lr(E,e.name);const $=new Bn({uid:w,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:j,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:Q,createdAt:y,lastLoginAt:E});return G&&Array.isArray(G)&&($.providerData=G.map(oe=>({...oe}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(e,n,s=!1){const o=new Za;o.updateFromServerResponse(n);const u=new Bn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ql(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?RE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Za;m.updateFromIdToken(s);const p=new Bn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=new Map;function $i(r){tr(r instanceof Function,"Expected a class definition");let e=Dv.get(r);return e?(tr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Dv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CE.type="NONE";const xv=CE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ja{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Jc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Jc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fh(this.auth,{idToken:e}).catch(()=>{});return n?Bn._fromGetAccountInfoResponse(this.auth,n,e):null}return Bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ja($i(xv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||$i(xv);const f=Jc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let w;if(typeof E=="string"){const S=await fh(e,{idToken:E}).catch(()=>{});if(!S)break;w=await Bn._fromGetAccountInfoResponse(e,S,E)}else w=Bn._fromJSON(e,E);y!==u&&(m=w),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ja(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ja(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ME(e))return"Blackberry";if(VE(e))return"Webos";if(DE(e))return"Safari";if((e.includes("chrome/")||xE(e))&&!e.includes("edge/"))return"Chrome";if(OE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function IE(r=Zt()){return/firefox\//i.test(r)}function DE(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xE(r=Zt()){return/crios\//i.test(r)}function NE(r=Zt()){return/iemobile/i.test(r)}function OE(r=Zt()){return/android/i.test(r)}function ME(r=Zt()){return/blackberry/i.test(r)}function VE(r=Zt()){return/webos/i.test(r)}function op(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function K2(r=Zt()){return op(r)&&!!window.navigator?.standalone}function Q2(){return sA()&&document.documentMode===10}function PE(r=Zt()){return op(r)||OE(r)||VE(r)||ME(r)||/windows phone/i.test(r)||NE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(r,e=[]){let n;switch(r){case"Browser":n=Nv(Zt());break;case"Worker":n=`${Nv(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(r,e={}){return or(r,"GET","/v2/passwordPolicy",ts(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=6;class W2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ov(this),this.idTokenSubscription=new Ov(this),this.beforeStateQueue=new Y2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ja.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fh(this,{idToken:e}),s=await Bn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ql(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=x2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(Zi(this));const n=e?ft(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await X2(this),n=new W2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new au("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await G2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$i(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[$i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&C2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $s(r){return ft(r)}class Ov{constructor(e){this.auth=e,this.observer=null,this.addObserver=dA(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J2(r){Oh=r}function LE(r){return Oh.loadJS(r)}function eR(){return Oh.recaptchaEnterpriseScript}function tR(){return Oh.gapiScript}function nR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class iR{constructor(){this.enterprise=new rR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class rR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const sR="recaptcha-enterprise",UE="NO_RECAPTCHA";class aR{constructor(e){this.type=sR,this.auth=$s(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{L2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new k2(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Cv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(UE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Cv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=eR();p.length!==0&&(p+=m),LE(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Mv(r,e,n,s=!1,o=!1){const u=new aR(r);let f;if(o)f=UE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Vv(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Mv(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Mv(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(r,e){const n=ip(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Fs(u,e??{}))return o;qn(o,"already-initialized")}return n.initialize({options:e})}function lR(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map($i);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function uR(r,e,n){const s=$s(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=jE(e),{host:f,port:m}=cR(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Fs(y,s.config.emulator)&&Fs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,go(f)?(fE(`${u}//${f}${p}`),dE("Auth",!0)):hR()}function jE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function cR(r){const e=jE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Pv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Pv(f)}}}function Pv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function hR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,n){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function fR(r,e){return or(r,"POST","/v1/accounts:update",e)}async function dR(r,e){return or(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(r,e){return uu(r,"POST","/v1/accounts:signInWithPassword",ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(r,e){return uu(r,"POST","/v1/accounts:signInWithEmailLink",ts(r,e))}async function gR(r,e){return uu(r,"POST","/v1/accounts:signInWithEmailLink",ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends lp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Yl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Yl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vv(e,n,"signInWithPassword",mR);case"emailLink":return pR(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vv(e,s,"signUpPassword",dR);case"emailLink":return gR(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(r,e){return uu(r,"POST","/v1/accounts:signInWithIdp",ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="http://localhost";class Ks extends lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ks(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return eo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,eo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eo(e,n)}buildRequest(){const e={requestUri:yR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ou(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vR(r){const e=Ml(Vl(r)).link,n=e?Ml(Vl(e)).deep_link_id:null,s=Ml(Vl(r)).deep_link_id;return(s?Ml(Vl(s)).link:null)||s||n||e||r}class up{constructor(e){const n=Ml(Vl(e)),s=n.apiKey??null,o=n.oobCode??null,u=_R(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=vR(e);try{return new up(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.providerId=nr.PROVIDER_ID}static credential(e,n){return Yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=up.parseLink(n);return ve(s,"argument-error"),Yl._fromEmailAndCode(e,s.code,s.tenantId)}}nr.PROVIDER_ID="password";nr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends zE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends cu{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ks._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return jr.credential(n,s)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends cu{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends cu{constructor(){super("twitter.com")}static credential(e,n){return Ks._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Br.credential(n,s)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(r,e){return uu(r,"POST","/v1/accounts:signUp",ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Bn._fromIdTokenResponse(e,s,o),f=kv(s);return new Yr({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=kv(s);return new Yr({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function kv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BE(r){if(Mn(r.app))return Promise.reject(Zi(r));const e=$s(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Yr({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await ER(e,{returnSecureToken:!0}),s=await Yr._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends ar{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new dh(e,n,s,o)}}function qE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(r,u,e,s):u})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(r){return new Set(r.map(({providerId:e})=>e).filter(e=>!!e))}async function HE(r,e,n=!1){const s=await so(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Yr._forOperation(r,"link",s)}async function bR(r,e,n){await Ql(e);const s=TR(e.providerData);ve(s.has(n)===r,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FE(r,e,n=!1){const{auth:s}=r;if(Mn(s.app))return Promise.reject(Zi(s));const o="reauthenticate";try{const u=await so(r,qE(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=ap(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),Yr._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GE(r,e,n=!1){if(Mn(r.app))return Promise.reject(Zi(r));const s="signIn",o=await qE(r,s,e),u=await Yr._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function wR(r,e){return GE($s(r),e)}async function SR(r,e){const n=ft(r);return await bR(!1,n,e.providerId),HE(n,e)}async function Lv(r,e){return FE(ft(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(r){const e=$s(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function RR(r,e,n){return Mn(r.app)?Promise.reject(Zi(r)):wR(ft(r),nr.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&AR(r),s})}function CR(r,e){return IR(ft(r),null,e)}async function IR(r,e,n){const{auth:s}=r,u={idToken:await r.getIdToken(),returnSecureToken:!0};n&&(u.password=n);const f=await so(r,fR(s,u));await r._updateTokensIfNecessary(f,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(r,e){return ft(r).setPersistence(e)}function DR(r,e,n,s){return ft(r).onIdTokenChanged(e,n,s)}function xR(r,e,n){return ft(r).beforeAuthStateChanged(e,n)}function NR(r,e,n,s){return ft(r).onAuthStateChanged(e,n,s)}function QE(r){return ft(r).signOut()}async function OR(r){return ft(r).delete()}const mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=1e3,VR=10;class XE extends YE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Q2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,VR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},MR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XE.type="LOCAL";const cp=XE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E extends YE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$E.type="SESSION";const WE=$E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Mh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await PR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=hp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function LR(r){ci().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function UR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jR(){return navigator?.serviceWorker?.controller||null}function zR(){return ZE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="firebaseLocalStorageDb",BR=1,ph="firebaseLocalStorage",eT="fbase_key";class hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vh(r,e){return r.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function qR(){const r=indexedDB.deleteDatabase(JE);return new hu(r).toPromise()}function xm(){const r=indexedDB.open(JE,BR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ph,{keyPath:eT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ph)?e(s):(s.close(),await qR(),e(await xm()))})})}async function Uv(r,e,n){const s=Vh(r,!0).put({[eT]:e,value:n});return new hu(s).toPromise()}async function HR(r,e){const n=Vh(r,!1).get(e),s=await new hu(n).toPromise();return s===void 0?null:s.value}function jv(r,e){const n=Vh(r,!0).delete(e);return new hu(n).toPromise()}const FR=800,GR=3;class tT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>GR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(zR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await UR(),!this.activeServiceWorker)return;this.sender=new kR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xm();return await Uv(e,mh,"1"),await jv(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Uv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>HR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Vh(o,!1).getAll();return new hu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tT.type="LOCAL";const KR=tT;new lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(r,e){return e?$i(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YR(r){return GE(r.auth,new fp(r),r.bypassAuthState)}function XR(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),FE(n,new fp(r),r.bypassAuthState)}async function $R(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),HE(n,new fp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YR;case"linkViaPopup":case"linkViaRedirect":return $R;case"reauthViaPopup":case"reauthViaRedirect":return XR;default:qn(this.auth,"internal-error")}}resolve(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new lu(2e3,1e4);class $a extends nT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const e=hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WR.get())};e()}}$a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="pendingRedirect",eh=new Map;class JR extends nT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const s=await eC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eC(r,e){const n=iC(e),s=nC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function tC(r,e){eh.set(r._key(),e)}function nC(r){return $i(r._redirectPersistence)}function iC(r){return Jc(ZR,r.config.apiKey,r.name)}async function rC(r,e,n=!1){if(Mn(r.app))return Promise.reject(Zi(r));const s=$s(r),o=QR(s,e),f=await new JR(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=600*1e3;class aC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!iT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ui(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sC&&this.cachedEventUids.clear(),this.cachedEventUids.has(zv(e))}saveEventToCache(e){this.cachedEventUids.add(zv(e)),this.lastProcessedEventTime=Date.now()}}function zv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function iT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function oC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(r,e={}){return or(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cC=/^https?/;async function hC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await lC(r);for(const n of e)try{if(fC(n))return}catch{}qn(r,"unauthorized-domain")}function fC(r){const e=Im(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!cC.test(n))return!1;if(uC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new lu(3e4,6e4);function Bv(){const r=ci().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function mC(r){return new Promise((e,n)=>{function s(){Bv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bv(),n(ui(r,"network-request-failed"))},timeout:dC.get()})}if(ci().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ci().gapi?.load)s();else{const o=nR("iframefcb");return ci()[o]=()=>{gapi.load?s():n(ui(r,"network-request-failed"))},LE(`${tR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw th=null,e})}let th=null;function pC(r){return th=th||mC(r),th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new lu(5e3,15e3),yC="__/auth/iframe",_C="emulator/auth/iframe",vC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TC(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?sp(e,_C):`https://${r.config.authDomain}/${yC}`,s={apiKey:e.apiKey,appName:r.name,v:yo},o=EC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ou(s).slice(1)}`}async function bC(r){const e=await pC(r),n=ci().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:TC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ui(r,"network-request-failed"),m=ci().setTimeout(()=>{u(f)},gC.get());function p(){ci().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SC=500,AC=600,RC="_blank",CC="http://localhost";class qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IC(r,e,n,s=SC,o=AC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...wC,width:s.toString(),height:o.toString(),top:u,left:f},y=Zt().toLowerCase();n&&(m=xE(y)?RC:n),IE(y)&&(e=e||CC,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[j,G])=>`${S}${j}=${G},`,"");if(K2(y)&&m!=="_self")return DC(e||"",m),new qv(null);const w=window.open(e||"",m,E);ve(w,r,"popup-blocked");try{w.focus()}catch{}return new qv(w)}function DC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="__/auth/handler",NC="emulator/auth/handler",OC=encodeURIComponent("fac");async function Hv(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:yo,eventId:o};if(e instanceof zE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",fA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof cu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${OC}=${encodeURIComponent(p)}`:"";return`${MC(r)}?${ou(m).slice(1)}${y}`}function MC({config:r}){return r.emulator?sp(r,NC):`https://${r.authDomain}/${xC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="webStorageSupport";class VC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WE,this._completeRedirectFn=rC,this._overrideRedirectResult=tC}async _openPopup(e,n,s,o){tr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Hv(e,n,s,Im(),o);return IC(e,u,hp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Hv(e,n,s,Im(),o);return LR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(tr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await bC(e),s=new aC(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mm,{type:mm},o=>{const u=o?.[0]?.[mm];u!==void 0&&n(!!u),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PE()||DE()||op()}}const PC=VC;var Fv="@firebase/auth",Gv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UC(r){ro(new Gs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kE(r)},y=new Z2(s,o,u,p);return lR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ro(new Gs("auth-internal",e=>{const n=$s(e.getProvider("auth").getImmediate());return(s=>new kC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(Fv,Gv,LC(r)),Gr(Fv,Gv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=300,zC=hE("authIdTokenMaxAge")||jC;let Kv=null;const BC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>zC)return;const o=n?.token;Kv!==o&&(Kv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Xl(r=yE()){const e=ip(r,"auth");if(e.isInitialized())return e.getImmediate();const n=oR(r,{popupRedirectResolver:PC,persistence:[KR,cp,WE]}),s=hE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=BC(u.toString());xR(n,f,()=>f(n.currentUser)),DR(n,m=>f(m))}}const o=uE("auth");return o&&uR(n,`http://${o}`),n}function qC(){return document.getElementsByTagName("head")?.[0]??document}J2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ui("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",qC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UC("Browser");var Qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kr,rT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,A){function C(){}C.prototype=A.prototype,M.D=A.prototype,M.prototype=new C,M.prototype.constructor=M,M.C=function(O,V,k){for(var D=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)D[tt-2]=arguments[tt];return A.prototype[V].apply(O,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,A,C){C||(C=0);var O=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)O[V]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(V=0;16>V;++V)O[V]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=M.g[0],C=M.g[1],V=M.g[2];var k=M.g[3],D=A+(k^C&(V^k))+O[0]+3614090360&4294967295;A=C+(D<<7&4294967295|D>>>25),D=k+(V^A&(C^V))+O[1]+3905402710&4294967295,k=A+(D<<12&4294967295|D>>>20),D=V+(C^k&(A^C))+O[2]+606105819&4294967295,V=k+(D<<17&4294967295|D>>>15),D=C+(A^V&(k^A))+O[3]+3250441966&4294967295,C=V+(D<<22&4294967295|D>>>10),D=A+(k^C&(V^k))+O[4]+4118548399&4294967295,A=C+(D<<7&4294967295|D>>>25),D=k+(V^A&(C^V))+O[5]+1200080426&4294967295,k=A+(D<<12&4294967295|D>>>20),D=V+(C^k&(A^C))+O[6]+2821735955&4294967295,V=k+(D<<17&4294967295|D>>>15),D=C+(A^V&(k^A))+O[7]+4249261313&4294967295,C=V+(D<<22&4294967295|D>>>10),D=A+(k^C&(V^k))+O[8]+1770035416&4294967295,A=C+(D<<7&4294967295|D>>>25),D=k+(V^A&(C^V))+O[9]+2336552879&4294967295,k=A+(D<<12&4294967295|D>>>20),D=V+(C^k&(A^C))+O[10]+4294925233&4294967295,V=k+(D<<17&4294967295|D>>>15),D=C+(A^V&(k^A))+O[11]+2304563134&4294967295,C=V+(D<<22&4294967295|D>>>10),D=A+(k^C&(V^k))+O[12]+1804603682&4294967295,A=C+(D<<7&4294967295|D>>>25),D=k+(V^A&(C^V))+O[13]+4254626195&4294967295,k=A+(D<<12&4294967295|D>>>20),D=V+(C^k&(A^C))+O[14]+2792965006&4294967295,V=k+(D<<17&4294967295|D>>>15),D=C+(A^V&(k^A))+O[15]+1236535329&4294967295,C=V+(D<<22&4294967295|D>>>10),D=A+(V^k&(C^V))+O[1]+4129170786&4294967295,A=C+(D<<5&4294967295|D>>>27),D=k+(C^V&(A^C))+O[6]+3225465664&4294967295,k=A+(D<<9&4294967295|D>>>23),D=V+(A^C&(k^A))+O[11]+643717713&4294967295,V=k+(D<<14&4294967295|D>>>18),D=C+(k^A&(V^k))+O[0]+3921069994&4294967295,C=V+(D<<20&4294967295|D>>>12),D=A+(V^k&(C^V))+O[5]+3593408605&4294967295,A=C+(D<<5&4294967295|D>>>27),D=k+(C^V&(A^C))+O[10]+38016083&4294967295,k=A+(D<<9&4294967295|D>>>23),D=V+(A^C&(k^A))+O[15]+3634488961&4294967295,V=k+(D<<14&4294967295|D>>>18),D=C+(k^A&(V^k))+O[4]+3889429448&4294967295,C=V+(D<<20&4294967295|D>>>12),D=A+(V^k&(C^V))+O[9]+568446438&4294967295,A=C+(D<<5&4294967295|D>>>27),D=k+(C^V&(A^C))+O[14]+3275163606&4294967295,k=A+(D<<9&4294967295|D>>>23),D=V+(A^C&(k^A))+O[3]+4107603335&4294967295,V=k+(D<<14&4294967295|D>>>18),D=C+(k^A&(V^k))+O[8]+1163531501&4294967295,C=V+(D<<20&4294967295|D>>>12),D=A+(V^k&(C^V))+O[13]+2850285829&4294967295,A=C+(D<<5&4294967295|D>>>27),D=k+(C^V&(A^C))+O[2]+4243563512&4294967295,k=A+(D<<9&4294967295|D>>>23),D=V+(A^C&(k^A))+O[7]+1735328473&4294967295,V=k+(D<<14&4294967295|D>>>18),D=C+(k^A&(V^k))+O[12]+2368359562&4294967295,C=V+(D<<20&4294967295|D>>>12),D=A+(C^V^k)+O[5]+4294588738&4294967295,A=C+(D<<4&4294967295|D>>>28),D=k+(A^C^V)+O[8]+2272392833&4294967295,k=A+(D<<11&4294967295|D>>>21),D=V+(k^A^C)+O[11]+1839030562&4294967295,V=k+(D<<16&4294967295|D>>>16),D=C+(V^k^A)+O[14]+4259657740&4294967295,C=V+(D<<23&4294967295|D>>>9),D=A+(C^V^k)+O[1]+2763975236&4294967295,A=C+(D<<4&4294967295|D>>>28),D=k+(A^C^V)+O[4]+1272893353&4294967295,k=A+(D<<11&4294967295|D>>>21),D=V+(k^A^C)+O[7]+4139469664&4294967295,V=k+(D<<16&4294967295|D>>>16),D=C+(V^k^A)+O[10]+3200236656&4294967295,C=V+(D<<23&4294967295|D>>>9),D=A+(C^V^k)+O[13]+681279174&4294967295,A=C+(D<<4&4294967295|D>>>28),D=k+(A^C^V)+O[0]+3936430074&4294967295,k=A+(D<<11&4294967295|D>>>21),D=V+(k^A^C)+O[3]+3572445317&4294967295,V=k+(D<<16&4294967295|D>>>16),D=C+(V^k^A)+O[6]+76029189&4294967295,C=V+(D<<23&4294967295|D>>>9),D=A+(C^V^k)+O[9]+3654602809&4294967295,A=C+(D<<4&4294967295|D>>>28),D=k+(A^C^V)+O[12]+3873151461&4294967295,k=A+(D<<11&4294967295|D>>>21),D=V+(k^A^C)+O[15]+530742520&4294967295,V=k+(D<<16&4294967295|D>>>16),D=C+(V^k^A)+O[2]+3299628645&4294967295,C=V+(D<<23&4294967295|D>>>9),D=A+(V^(C|~k))+O[0]+4096336452&4294967295,A=C+(D<<6&4294967295|D>>>26),D=k+(C^(A|~V))+O[7]+1126891415&4294967295,k=A+(D<<10&4294967295|D>>>22),D=V+(A^(k|~C))+O[14]+2878612391&4294967295,V=k+(D<<15&4294967295|D>>>17),D=C+(k^(V|~A))+O[5]+4237533241&4294967295,C=V+(D<<21&4294967295|D>>>11),D=A+(V^(C|~k))+O[12]+1700485571&4294967295,A=C+(D<<6&4294967295|D>>>26),D=k+(C^(A|~V))+O[3]+2399980690&4294967295,k=A+(D<<10&4294967295|D>>>22),D=V+(A^(k|~C))+O[10]+4293915773&4294967295,V=k+(D<<15&4294967295|D>>>17),D=C+(k^(V|~A))+O[1]+2240044497&4294967295,C=V+(D<<21&4294967295|D>>>11),D=A+(V^(C|~k))+O[8]+1873313359&4294967295,A=C+(D<<6&4294967295|D>>>26),D=k+(C^(A|~V))+O[15]+4264355552&4294967295,k=A+(D<<10&4294967295|D>>>22),D=V+(A^(k|~C))+O[6]+2734768916&4294967295,V=k+(D<<15&4294967295|D>>>17),D=C+(k^(V|~A))+O[13]+1309151649&4294967295,C=V+(D<<21&4294967295|D>>>11),D=A+(V^(C|~k))+O[4]+4149444226&4294967295,A=C+(D<<6&4294967295|D>>>26),D=k+(C^(A|~V))+O[11]+3174756917&4294967295,k=A+(D<<10&4294967295|D>>>22),D=V+(A^(k|~C))+O[2]+718787259&4294967295,V=k+(D<<15&4294967295|D>>>17),D=C+(k^(V|~A))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+k&4294967295}s.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var C=A-this.blockSize,O=this.B,V=this.h,k=0;k<A;){if(V==0)for(;k<=C;)o(this,M,k),k+=this.blockSize;if(typeof M=="string"){for(;k<A;)if(O[V++]=M.charCodeAt(k++),V==this.blockSize){o(this,O),V=0;break}}else for(;k<A;)if(O[V++]=M[k++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=A},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var C=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=C&255,C/=256;for(this.u(M),M=Array(16),A=C=0;4>A;++A)for(var O=0;32>O;O+=8)M[C++]=this.g[A]>>>O&255;return M};function u(M,A){var C=m;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=A(M)}function f(M,A){this.h=A;for(var C=[],O=!0,V=M.length-1;0<=V;V--){var k=M[V]|0;O&&k==A||(C[V]=k,O=!1)}this.g=C}var m={};function p(M){return-128<=M&&128>M?u(M,function(A){return new f([A|0],0>A?-1:0)}):new f([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return Q(y(-M));for(var A=[],C=1,O=0;M>=C;O++)A[O]=M/C|0,C*=4294967296;return new f(A,0)}function E(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return Q(E(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(A,8)),O=w,V=0;V<M.length;V+=8){var k=Math.min(8,M.length-V),D=parseInt(M.substring(V,V+k),A);8>k?(k=y(Math.pow(A,k)),O=O.j(k).add(y(D))):(O=O.j(C),O=O.add(y(D)))}return O}var w=p(0),S=p(1),j=p(16777216);r=f.prototype,r.m=function(){if(W(this))return-Q(this).m();for(var M=0,A=1,C=0;C<this.g.length;C++){var O=this.i(C);M+=(0<=O?O:4294967296+O)*A,A*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(G(this))return"0";if(W(this))return"-"+Q(this).toString(M);for(var A=y(Math.pow(M,6)),C=this,O="";;){var V=Ee(C,A).g;C=$(C,V.j(A));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(M);if(C=V,G(C))return k+O;for(;6>k.length;)k="0"+k;O=k+O}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function G(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function W(M){return M.h==-1}r.l=function(M){return M=$(this,M),W(M)?-1:G(M)?0:1};function Q(M){for(var A=M.g.length,C=[],O=0;O<A;O++)C[O]=~M.g[O];return new f(C,~M.h).add(S)}r.abs=function(){return W(this)?Q(this):this},r.add=function(M){for(var A=Math.max(this.g.length,M.g.length),C=[],O=0,V=0;V<=A;V++){var k=O+(this.i(V)&65535)+(M.i(V)&65535),D=(k>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);O=D>>>16,k&=65535,D&=65535,C[V]=D<<16|k}return new f(C,C[C.length-1]&-2147483648?-1:0)};function $(M,A){return M.add(Q(A))}r.j=function(M){if(G(this)||G(M))return w;if(W(this))return W(M)?Q(this).j(Q(M)):Q(Q(this).j(M));if(W(M))return Q(this.j(Q(M)));if(0>this.l(j)&&0>M.l(j))return y(this.m()*M.m());for(var A=this.g.length+M.g.length,C=[],O=0;O<2*A;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<M.g.length;V++){var k=this.i(O)>>>16,D=this.i(O)&65535,tt=M.i(V)>>>16,We=M.i(V)&65535;C[2*O+2*V]+=D*We,oe(C,2*O+2*V),C[2*O+2*V+1]+=k*We,oe(C,2*O+2*V+1),C[2*O+2*V+1]+=D*tt,oe(C,2*O+2*V+1),C[2*O+2*V+2]+=k*tt,oe(C,2*O+2*V+2)}for(O=0;O<A;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=A;O<2*A;O++)C[O]=0;return new f(C,0)};function oe(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function se(M,A){this.g=M,this.h=A}function Ee(M,A){if(G(A))throw Error("division by zero");if(G(M))return new se(w,w);if(W(M))return A=Ee(Q(M),A),new se(Q(A.g),Q(A.h));if(W(A))return A=Ee(M,Q(A)),new se(Q(A.g),A.h);if(30<M.g.length){if(W(M)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var C=S,O=A;0>=O.l(M);)C=he(C),O=he(O);var V=Ie(C,1),k=Ie(O,1);for(O=Ie(O,2),C=Ie(C,2);!G(O);){var D=k.add(O);0>=D.l(M)&&(V=V.add(C),k=D),O=Ie(O,1),C=Ie(C,1)}return A=$(M,V.j(A)),new se(V,A)}for(V=w;0<=M.l(A);){for(C=Math.max(1,Math.floor(M.m()/A.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),k=y(C),D=k.j(A);W(D)||0<D.l(M);)C-=O,k=y(C),D=k.j(A);G(k)&&(k=S),V=V.add(k),M=$(M,D)}return new se(V,M)}r.A=function(M){return Ee(this,M).h},r.and=function(M){for(var A=Math.max(this.g.length,M.g.length),C=[],O=0;O<A;O++)C[O]=this.i(O)&M.i(O);return new f(C,this.h&M.h)},r.or=function(M){for(var A=Math.max(this.g.length,M.g.length),C=[],O=0;O<A;O++)C[O]=this.i(O)|M.i(O);return new f(C,this.h|M.h)},r.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),C=[],O=0;O<A;O++)C[O]=this.i(O)^M.i(O);return new f(C,this.h^M.h)};function he(M){for(var A=M.g.length+1,C=[],O=0;O<A;O++)C[O]=M.i(O)<<1|M.i(O-1)>>>31;return new f(C,M.h)}function Ie(M,A){var C=A>>5;A%=32;for(var O=M.g.length-C,V=[],k=0;k<O;k++)V[k]=0<A?M.i(k+C)>>>A|M.i(k+C+1)<<32-A:M.i(k+C);return new f(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,rT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Kr=f}).apply(typeof Qv<"u"?Qv:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sT,Pl,aT,nh,Nm,oT,lT,uT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var U=c[b];if(!(U in _))break e;_=_[U]}c=c[c.length-1],b=_[c],g=g(b),g!=b&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,b=!1,U={next:function(){if(!b&&_<c.length){var Y=_++;return{value:g(Y,c[Y]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function S(c,g,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,S.apply(null,arguments)}function j(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function G(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,U,Y){for(var ae=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ae[ke-2]=arguments[ke];return g.prototype[U].apply(b,ae)}}function W(c){const g=c.length;if(0<g){const _=Array(g);for(let b=0;b<g;b++)_[b]=c[b];return _}return[]}function Q(c,g){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const U=c.length||0,Y=b.length||0;c.length=U+Y;for(let ae=0;ae<Y;ae++)c[U+ae]=b[ae]}else c.push(b)}}class ${constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function oe(c){return/^[\s\xa0]*$/.test(c)}function se(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Ee(c){return Ee[" "](c),c}Ee[" "]=function(){};var he=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function Ie(c,g,_){for(const b in c)g.call(_,c[b],b,c)}function M(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function A(c){const g={};for(const _ in c)g[_]=c[_];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let _,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(_ in b)c[_]=b[_];for(let Y=0;Y<C.length;Y++)_=C[Y],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function V(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function k(c){m.setTimeout(()=>{throw c},0)}function D(){var c=we;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class tt{constructor(){this.h=this.g=null}add(g,_){const b=We.get();b.set(g,_),this.h?this.h.next=b:this.g=b,this.h=b}}var We=new $(()=>new P,c=>c.reset());class P{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,le=!1,we=new tt,x=()=>{const c=m.Promise.resolve(void 0);ie=()=>{c.then(K)}};var K=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){k(_)}var g=We;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}le=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function Re(c,g){if(ne.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(he){e:{try{Ee(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}G(Re,ne);var pe={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Hn(c,g,_,b,U){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!b,this.ha=U,this.key=++Je,this.da=this.fa=!1}function lr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function bi(c){this.src=c,this.g={},this.h=0}bi.prototype.add=function(c,g,_,b,U){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ae=ss(c,g,b,U);return-1<ae?(g=c[ae],_||(g.fa=!1)):(g=new Hn(g,this.src,Y,!!b,U),g.fa=_,c.push(g)),g};function rs(c,g){var _=g.type;if(_ in c.g){var b=c.g[_],U=Array.prototype.indexOf.call(b,g,void 0),Y;(Y=0<=U)&&Array.prototype.splice.call(b,U,1),Y&&(lr(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ss(c,g,_,b){for(var U=0;U<c.length;++U){var Y=c[U];if(!Y.da&&Y.listener==g&&Y.capture==!!_&&Y.ha==b)return U}return-1}var as="closure_lm_"+(1e6*Math.random()|0),bo={};function _u(c,g,_,b,U){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)_u(c,g[Y],_,b,U);return null}return _=vu(_),c&&c[Nt]?c.K(g,_,y(b)?!!b.capture:!1,U):vn(c,g,_,!1,b,U)}function vn(c,g,_,b,U,Y){if(!g)throw Error("Invalid event type");var ae=y(U)?!!U.capture:!!U,ke=ea(c);if(ke||(c[as]=ke=new bi(c)),_=ke.add(g,_,b,ae,Y),_.proxy)return _;if(b=Jh(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ce||(U=ae),U===void 0&&(U=!1),c.addEventListener(g.toString(),b,U);else if(c.attachEvent)c.attachEvent(os(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Jh(){function c(_){return g.call(c.src,c.listener,_)}const g=ef;return c}function wo(c,g,_,b,U){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)wo(c,g[Y],_,b,U);else b=y(b)?!!b.capture:!!b,_=vu(_),c&&c[Nt]?(c=c.i,g=String(g).toString(),g in c.g&&(Y=c.g[g],_=ss(Y,_,b,U),-1<_&&(lr(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[g],c.h--)))):c&&(c=ea(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ss(g,_,b,U)),(_=-1<c?g[c]:null)&&Js(_))}function Js(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Nt])rs(g.i,c);else{var _=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(_,b,c.capture):g.detachEvent?g.detachEvent(os(_),b):g.addListener&&g.removeListener&&g.removeListener(b),(_=ea(g))?(rs(_,c),_.h==0&&(_.src=null,g[as]=null)):lr(c)}}}function os(c){return c in bo?bo[c]:bo[c]="on"+c}function ef(c,g){if(c.da)c=!0;else{g=new Re(g,this);var _=c.listener,b=c.ha||c.src;c.fa&&Js(c),c=_.call(b,g)}return c}function ea(c){return c=c[as],c instanceof bi?c:null}var So="__closure_events_fn_"+(1e9*Math.random()>>>0);function vu(c){return typeof c=="function"?c:(c[So]||(c[So]=function(g){return c.handleEvent(g)}),c[So])}function ut(){X.call(this),this.i=new bi(this),this.M=this,this.F=null}G(ut,X),ut.prototype[Nt]=!0,ut.prototype.removeEventListener=function(c,g,_,b){wo(this,c,g,_,b)};function Fe(c,g){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new ne(g,c);else if(g instanceof ne)g.target=g.target||c;else{var U=g;g=new ne(b,c),O(g,U)}if(U=!0,_)for(var Y=_.length-1;0<=Y;Y--){var ae=g.g=_[Y];U=un(ae,b,!0,g)&&U}if(ae=g.g=c,U=un(ae,b,!0,g)&&U,U=un(ae,b,!1,g)&&U,_)for(Y=0;Y<_.length;Y++)ae=g.g=_[Y],U=un(ae,b,!1,g)&&U}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],b=0;b<_.length;b++)lr(_[b]);delete c.g[g],c.h--}}this.F=null},ut.prototype.K=function(c,g,_,b){return this.i.add(String(c),g,!1,_,b)},ut.prototype.L=function(c,g,_,b){return this.i.add(String(c),g,!0,_,b)};function un(c,g,_,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,Y=0;Y<g.length;++Y){var ae=g[Y];if(ae&&!ae.da&&ae.capture==_){var ke=ae.listener,At=ae.ha||ae.src;ae.fa&&rs(c.i,ae),U=ke.call(At,b)!==!1&&U}}return U&&!b.defaultPrevented}function Kt(c,g,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Eu(c){c.g=Kt(()=>{c.g=null,c.i&&(c.i=!1,Eu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class tf extends X{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Eu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(c){X.call(this),this.h=c,this.g={}}G(ls,X);var us=[];function cs(c){Ie(c.g,function(g,_){this.g.hasOwnProperty(_)&&Js(g)},c),c.g={}}ls.prototype.N=function(){ls.aa.N.call(this),cs(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=m.JSON.stringify,ta=m.JSON.parse,hs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ao(){}Ao.prototype.h=null;function Ro(c){return c.h||(c.h=c.i())}function Co(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){ne.call(this,"d")}G(Si,ne);function Io(){ne.call(this,"c")}G(Io,ne);var Fn={},Do=null;function ur(){return Do=Do||new ut}Fn.La="serverreachability";function na(c){ne.call(this,Fn.La,c)}G(na,ne);function cr(c){const g=ur();Fe(g,new na(g))}Fn.STAT_EVENT="statevent";function Tu(c,g){ne.call(this,Fn.STAT_EVENT,c),this.stat=g}G(Tu,ne);function it(c){const g=ur();Fe(g,new Tu(g,c))}Fn.Ma="timingevent";function St(c,g){ne.call(this,Fn.Ma,c),this.size=g}G(St,ne);function yt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function xo(c,g,_,b,U,Y){c.info(function(){if(c.g)if(Y)for(var ae="",ke=Y.split("&"),At=0;At<ke.length;At++){var Le=ke[At].split("=");if(1<Le.length){var Mt=Le[0];Le=Le[1];var Rt=Mt.split("_");ae=2<=Rt.length&&Rt[1]=="type"?ae+(Mt+"="+Le+"&"):ae+(Mt+"=redacted&")}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+g+`
`+_+`
`+ae})}function nf(c,g,_,b,U,Y,ae){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+g+`
`+_+`
`+Y+" "+ae})}function hr(c,g,_,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+fs(c,_)+(b?" "+b:"")})}function bu(c,g){c.info(function(){return"TIMEOUT: "+g})}En.prototype.info=function(){};function fs(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var Y=U[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ae=1;ae<U.length;ae++)U[ae]=""}}}}return Pn(_)}catch{return g}}var fr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function Kn(){}G(Kn,Ao),Kn.prototype.g=function(){return new XMLHttpRequest},Kn.prototype.i=function(){return{}},Gn=new Kn;function Jt(c,g,_,b){this.j=c,this.i=g,this.l=_,this.R=b||1,this.U=new ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var No={},ia={};function kn(c,g,_){c.L=1,c.v=ys(cn(g)),c.m=_,c.P=!0,Ri(c,null)}function Ri(c,g){c.F=Date.now(),ds(c),c.A=cn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Lo(_.i,"t",b),c.C=0,_=c.j.J,c.h=new dt,c.g=Uu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new tf(S(c.Y,c,c.g),c.O)),g=c.U,_=c.g,b=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(us[0]=U.toString()),U=us);for(var Y=0;Y<U.length;Y++){var ae=_u(_,U[Y],b||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),cr(),xo(c.i,c.u,c.A,c.l,c.R,c.m)}Jt.prototype.ca=function(c){c=c.target;const g=this.M;g&&Sn(c)==3?g.j():this.Y(c)},Jt.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Sn(this.g);var g=this.g.Ba();const Vi=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||xu(this.g)))){this.J||Rt!=4||g==7||(g==8||0>=Vi?cr(3):cr(2)),dr(this);var _=this.g.Z();this.X=_;t:if(wu(this)){var b=xu(this.g);c="";var U=b.length,Y=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),Qn(this);var ae="";break t}this.h.i=new m.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(Y&&g==U-1)});b.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,nf(this.i,this.u,this.A,this.l,this.R,Rt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,At=this.g;if((ke=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oe(ke)){var Le=ke;break t}}Le=null}if(_=Le)hr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ms(this,_);else{this.o=!1,this.s=3,it(12),Ut(this),Qn(this);break e}}if(this.P){_=!0;let jt;for(;!this.J&&this.C<ae.length;)if(jt=Su(this,ae),jt==ia){Rt==4&&(this.s=4,it(14),_=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==No){this.s=4,it(15),hr(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else hr(this.i,this.l,jt,null),ms(this,jt);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||ae.length!=0||this.h.h||(this.s=1,it(16),_=!1),this.o=this.o&&_,!_)hr(this.i,this.l,ae,"[Invalid Chunked Response]"),Ut(this),Qn(this);else if(0<ae.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),As(Mt),Mt.M=!0,it(11))}}else hr(this.i,this.l,ae,null),ms(this,ae);Rt==4&&Ut(this),this.o&&!this.J&&(Rt==4?Pu(this.j,this):(this.o=!1,ds(this)))}else lf(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Ut(this),Qn(this)}}}catch{}finally{}};function wu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Su(c,g){var _=c.C,b=g.indexOf(`
`,_);return b==-1?ia:(_=Number(g.substring(_,b)),isNaN(_)?No:(b+=1,b+_>g.length?ia:(g=g.slice(b,b+_),c.C=b+_,g)))}Jt.prototype.cancel=function(){this.J=!0,Ut(this)};function ds(c){c.S=Date.now()+c.I,Au(c,c.I)}function Au(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yt(S(c.ba,c),g)}function dr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Jt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(bu(this.i,this.A),this.L!=2&&(cr(),it(17)),Ut(this),this.s=2,Qn(this)):Au(this,this.S-c)};function Qn(c){c.j.G==0||c.J||Pu(c.j,c)}function Ut(c){dr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,cs(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ms(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Oo(_.h,c))){if(!c.K&&Oo(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)pa(_),da(_);else break e;qo(_),it(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=yt(S(_.Za,_),6e3));if(1>=sa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mi(_,11)}else if((c.K||_.g==c)&&pa(_),!oe(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let Le=U[g];if(_.T=Le[0],Le=Le[1],_.G==2)if(Le[0]=="c"){_.K=Le[1],_.ia=Le[2];const Mt=Le[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const Rt=Le[4];Rt!=null&&(_.Aa=Rt,_.j.info("SVER="+_.Aa));const Vi=Le[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(b=1.5*Vi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const jt=c.g;if(jt){const ei=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var Y=b.h;Y.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(aa(Y,Y.h),Y.h=null))}if(b.D){const Fo=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(b.ya=Fo,Qe(b.I,b.D,Fo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var ae=c;if(b.qa=Lu(b,b.J?b.ia:null,b.W),ae.K){en(b.h,ae);var ke=ae,At=b.L;At&&(ke.I=At),ke.B&&(dr(ke),ds(ke)),b.g=ae}else Mu(b);0<_.i.length&&ma(_)}else Le[0]!="stop"&&Le[0]!="close"||Mi(_,7);else _.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Mi(_,7):zo(_):Le[0]!="noop"&&_.l&&_.l.ta(Le),_.v=0)}}cr(4)}catch{}}var Ru=class{constructor(c,g){this.g=c,this.map=g}};function Ci(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ra(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function sa(c){return c.h?1:c.g?c.g.size:0}function Oo(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function aa(c,g){c.g?c.g.add(g):c.h=g}function en(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Ci.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Mo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return W(c.i)}function rf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,b=0;b<_;b++)g.push(c[b]);return g}g=[],_=0;for(b in c)g[_++]=c[b];return g}function oa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const b in c)g[_++]=b;return g}}}function Vo(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=oa(c),b=rf(c),U=b.length,Y=0;Y<U;Y++)g.call(void 0,b[Y],_&&_[Y],c)}var ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sf(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),U=null;if(0<=b){var Y=c[_].substring(0,b);U=c[_].substring(b+1)}else Y=c[_];g(Y,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function _t(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _t){this.h=c.h,gs(this,c.j),this.o=c.o,this.g=c.g,mr(this,c.s),this.l=c.l;var g=c.i,_=new Di;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Ii(this,_),this.m=c.m}else c&&(g=String(c).match(ps))?(this.h=!1,gs(this,g[1]||"",!0),this.o=Tn(g[2]||""),this.g=Tn(g[3]||"",!0),mr(this,g[4]),this.l=Tn(g[5]||"",!0),Ii(this,g[6]||"",!0),this.m=Tn(g[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}_t.prototype.toString=function(){var c=[],g=this.j;g&&c.push(_s(g,Po,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(_s(g,Po,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(_s(_,_.charAt(0)=="/"?af:ko,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",_s(_,la)),c.join("")};function cn(c){return new _t(c)}function gs(c,g,_){c.j=_?Tn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function mr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ii(c,g,_){g instanceof Di?(c.i=g,Iu(c.i,c.h)):(_||(g=_s(g,of)),c.i=new Di(g,c.h))}function Qe(c,g,_){c.i.set(g,_)}function ys(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Tn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _s(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Cu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Cu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Po=/[#\/\?@]/g,ko=/[#\?:]/g,af=/[#\?]/g,of=/[#\?@]/g,la=/#/g;function Di(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function bn(c){c.g||(c.g=new Map,c.h=0,c.i&&sf(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Di.prototype,r.add=function(c,g){bn(this),this.i=null,c=Yn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function xi(c,g){bn(c),g=Yn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ni(c,g){return bn(c),g=Yn(c,g),c.g.has(g)}r.forEach=function(c,g){bn(this),this.g.forEach(function(_,b){_.forEach(function(U){c.call(g,U,b,this)},this)},this)},r.na=function(){bn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let b=0;b<g.length;b++){const U=c[b];for(let Y=0;Y<U.length;Y++)_.push(g[b])}return _},r.V=function(c){bn(this);let g=[];if(typeof c=="string")Ni(this,c)&&(g=g.concat(this.g.get(Yn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return bn(this),this.i=null,c=Yn(this,c),Ni(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Lo(c,g,_){xi(c,g),0<_.length&&(c.i=null,c.g.set(Yn(c,g),W(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var b=g[_];const Y=encodeURIComponent(String(b)),ae=this.V(b);for(b=0;b<ae.length;b++){var U=Y;ae[b]!==""&&(U+="="+encodeURIComponent(String(ae[b]))),c.push(U)}}return this.i=c.join("&")};function Yn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Iu(c,g){g&&!c.j&&(bn(c),c.i=null,c.g.forEach(function(_,b){var U=b.toLowerCase();b!=U&&(xi(this,b),Lo(this,U,_))},c)),c.j=g}function vs(c,g){const _=new En;if(m.Image){const b=new Image;b.onload=j(wn,_,"TestLoadImage: loaded",!0,g,b),b.onerror=j(wn,_,"TestLoadImage: error",!1,g,b),b.onabort=j(wn,_,"TestLoadImage: abort",!1,g,b),b.ontimeout=j(wn,_,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function Ln(c,g){const _=new En,b=new AbortController,U=setTimeout(()=>{b.abort(),wn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(Y=>{clearTimeout(U),Y.ok?wn(_,"TestPingServer: ok",!0,g):wn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),wn(_,"TestPingServer: error",!1,g)})}function wn(c,g,_,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(_)}catch{}}function Es(){this.g=new hs}function Xn(c,g,_){const b=_||"";try{Vo(c,function(U,Y){let ae=U;y(U)&&(ae=Pn(U)),g.push(b+Y+"="+encodeURIComponent(ae))})}catch(U){throw g.push(b+"type="+encodeURIComponent("_badmap")),U}}function pr(c){this.l=c.Ub||null,this.j=c.eb||!1}G(pr,Ao),pr.prototype.g=function(){return new Oi(this.l,this.j)},pr.prototype.i=function(c){return function(){return c}}({});function Oi(c,g){ut.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(Oi,ut),r=Oi.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Wn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?$n(this):Wn(this),this.readyState==3&&Uo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,$n(this))},r.Qa=function(c){this.g&&(this.response=c,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jo(c){let g="";return Ie(c,function(_,b){g+=b,g+=":",g+=_,g+=`\r
`}),g}function Ot(c,g,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=jo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,g,_))}function qe(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(qe,ut);var ua=/^https?$/i,Ts=["POST","PUT"];r=qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?Ro(this.o):Ro(Gn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){Du(this,Y);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)_.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())_.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ts,g,void 0))||b||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of _)this.g.setRequestHeader(Y,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Du(this,Y)}};function Du(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ca(c),Zn(c)}function ca(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),Zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ha(this):this.bb())},r.bb=function(){ha(this)};function ha(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Sn(c)!=4||c.Z()!=2)){if(c.u&&Sn(c)==4)Kt(c.Ea,0,c);else if(Fe(c,"readystatechange"),Sn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var b;if(b=ae===0){var U=String(c.D).match(ps)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),b=!ua.test(U?U.toLowerCase():"")}_=b}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var Y=2<Sn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",ca(c)}}finally{Zn(c)}}}}function Zn(c,g){if(c.g){bs(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Fe(c,"ready");try{_.onreadystatechange=b}catch{}}}function bs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Sn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ta(g)}};function xu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lf(c){const g={};c=(c.g&&2<=Sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(oe(c[b]))continue;var _=V(c[b]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=g[U]||[];g[U]=Y,Y.push(_)}M(g,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function fa(c){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,c),this.cb=ws("retryDelaySeedMs",1e4,c),this.Wa=ws("forwardChannelMaxRetries",2,c),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ci(c&&c.concurrentRequestLimit),this.Da=new Es,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=fa.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,b){it(0),this.W=c,this.H=g||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Lu(this,null,this.W),ma(this)};function zo(c){if(Nu(c),c.G==3){var g=c.U++,_=cn(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",g),Qe(_,"TYPE","terminate"),Ss(c,_),g=new Jt(c,c.j,g),g.L=2,g.v=ys(cn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Uu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ds(g)}ku(c)}function da(c){c.g&&(As(c),c.g.cancel(),c.g=null)}function Nu(c){da(c),c.u&&(m.clearTimeout(c.u),c.u=null),pa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ma(c){if(!ra(c.h)&&!c.s){c.s=!0;var g=c.Ga;ie||x(),le||(ie(),le=!0),we.add(g,c),c.B=0}}function uf(c,g){return sa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yt(S(c.Ga,c,g),Ho(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Jt(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=A(Y),O(Y,this.S)):Y=this.S),this.m!==null||this.O||(U.H=Y,Y=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Ou(this,U,g),_=cn(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),Ss(this,_),Y&&(this.O?g="headers="+encodeURIComponent(String(jo(Y)))+"&"+g:this.m&&Ot(_,this.m,Y)),aa(this.h,U),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",g),Qe(_,"SID","null"),U.T=!0,kn(U,_,null)):kn(U,_,g),this.G=2}}else this.G==3&&(c?Bo(this,c):this.i.length==0||ra(this.h)||Bo(this))};function Bo(c,g){var _;g?_=g.l:_=c.U++;const b=cn(c.I);Qe(b,"SID",c.K),Qe(b,"RID",_),Qe(b,"AID",c.T),Ss(c,b),c.m&&c.o&&Ot(b,c.m,c.o),_=new Jt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Ou(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),aa(c.h,_),kn(_,b,g)}function Ss(c,g){c.H&&Ie(c.H,function(_,b){Qe(g,b,_)}),c.l&&Vo({},function(_,b){Qe(g,b,_)})}function Ou(c,g,_){_=Math.min(c.i.length,_);var b=c.l?S(c.l.Na,c.l,c):null;e:{var U=c.i;let Y=-1;for(;;){const ae=["count="+_];Y==-1?0<_?(Y=U[0].g,ae.push("ofs="+Y)):Y=0:ae.push("ofs="+Y);let ke=!0;for(let At=0;At<_;At++){let Le=U[At].g;const Mt=U[At].map;if(Le-=Y,0>Le)Y=Math.max(0,U[At].g-100),ke=!1;else try{Xn(Mt,ae,"req"+Le+"_")}catch{b&&b(Mt)}}if(ke){b=ae.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,b}function Mu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ie||x(),le||(ie(),le=!0),we.add(g,c),c.v=0}}function qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yt(S(c.Fa,c),Ho(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yt(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),da(this),Vu(this))};function As(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Vu(c){c.g=new Jt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=cn(c.qa);Qe(g,"RID","rpc"),Qe(g,"SID",c.K),Qe(g,"AID",c.T),Qe(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(g,"TO",c.ja),Qe(g,"TYPE","xmlhttp"),Ss(c,g),c.m&&c.o&&Ot(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ys(cn(g)),_.m=null,_.P=!0,Ri(_,c)}r.Za=function(){this.C!=null&&(this.C=null,da(this),qo(this),it(19))};function pa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Pu(c,g){var _=null;if(c.g==g){pa(c),As(c),c.g=null;var b=2}else if(Oo(c.h,g))_=g.D,en(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;b=ur(),Fe(b,new St(b,_)),ma(c)}else Mu(c);else if(U=g.s,U==3||U==0&&0<g.X||!(b==1&&uf(c,g)||b==2&&qo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),U){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function Ho(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Mi(c,g){if(c.j.info("Error code "+g),g==2){var _=S(c.fb,c),b=c.Xa;const U=!b;b=new _t(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||gs(b,"https"),ys(b),U?vs(b.toString(),_):Ln(b.toString(),_)}else it(2);c.G=0,c.l&&c.l.sa(g),ku(c),Nu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function ku(c){if(c.G=0,c.ka=[],c.l){const g=Mo(c.h);(g.length!=0||c.i.length!=0)&&(Q(c.ka,g),Q(c.ka,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.ra()}}function Lu(c,g,_){var b=_ instanceof _t?cn(_):new _t(_);if(b.g!="")g&&(b.g=g+"."+b.g),mr(b,b.s);else{var U=m.location;b=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var Y=new _t(null);b&&gs(Y,b),g&&(Y.g=g),U&&mr(Y,U),_&&(Y.l=_),b=Y}return _=c.D,g=c.ya,_&&g&&Qe(b,_,g),Qe(b,"VER",c.la),Ss(c,b),b}function Uu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new qe(new pr({eb:_})):new qe(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}r=ju.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ga(){}ga.prototype.g=function(c,g){return new tn(c,g)};function tn(c,g){ut.call(this),this.g=new fa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!oe(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!oe(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Jn(this)}G(tn,ut),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){zo(this.g)},tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Pn(c),c=_);g.i.push(new Ru(g.Ya++,c)),g.G==3&&ma(g)},tn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,tn.aa.N.call(this)};function zu(c){Si.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}G(zu,Si);function Bu(){Io.call(this),this.status=1}G(Bu,Io);function Jn(c){this.g=c}G(Jn,ju),Jn.prototype.ua=function(){Fe(this.g,"a")},Jn.prototype.ta=function(c){Fe(this.g,new zu(c))},Jn.prototype.sa=function(c){Fe(this.g,new Bu)},Jn.prototype.ra=function(){Fe(this.g,"b")},ga.prototype.createWebChannel=ga.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,uT=function(){return new ga},lT=function(){return ur()},oT=Fn,Nm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,nh=fr,Ai.COMPLETE="complete",aT=Ai,Co.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Pl=Co,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,sT=qe}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const Yv="@firebase/firestore",Xv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new tp("@firebase/firestore");function Ka(){return Qs.logLevel}function ue(r,...e){if(Qs.logLevel<=Me.DEBUG){const n=e.map(dp);Qs.debug(`Firestore (${_o}): ${r}`,...n)}}function ir(r,...e){if(Qs.logLevel<=Me.ERROR){const n=e.map(dp);Qs.error(`Firestore (${_o}): ${r}`,...n)}}function ao(r,...e){if(Qs.logLevel<=Me.WARN){const n=e.map(dp);Qs.warn(`Firestore (${_o}): ${r}`,...n)}}function dp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,cT(r,s,n)}function cT(r,e,n){let s=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ir(s),new Error(s)}function He(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||cT(e,o,s)}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class FC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GC{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Qr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Qr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new hT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class KC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new KC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $v{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $v(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $v(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=XC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Om(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return pm(o)===pm(u)?Ve(o,u):pm(o)?1:-1}return Ve(r.length,e.length)}const $C=55296,WC=57343;function pm(r){const e=r.charCodeAt(0);return e>=$C&&e<=WC}function oo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="__name__";class ai{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ai?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ai.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=ai.isNumericId(e),o=ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ai.extractNumericId(e).compare(ai.extractNumericId(n)):Om(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kr.fromString(e.substring(4,e.length-2))}}class at extends ai{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new at(n)}static emptyPath(){return new at([])}}const ZC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends ai{construct(e,n,s){return new Ft(e,n,s)}static isValidIdentifier(e){return ZC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wv}static keyField(){return new Ft([Wv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(at.fromString(e))}static fromName(e){return new ge(at.fromString(e).popFirst(5))}static empty(){return new ge(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(r,e,n){if(!n)throw new de(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function e4(r,e,n,s){if(e===!0&&s===!0)throw new de(re.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Zv(r){if(!ge.isDocumentKey(r))throw new de(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function pp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function hi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pp(r);throw new de(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(r,e){const n={typeString:r};return e&&(n.value=e),n}function fu(r,e){if(!fT(r))throw new de(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new de(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=-62135596800,e0=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*e0);return new nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Jv)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/e0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fu(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:bt("string",nt._jsonSchemaVersion),seconds:bt("number"),nanoseconds:bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new nt(0,0))}static max(){return new Se(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function t4(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new nt(n+1,0):new nt(n,s));return new Xr(o,ge.empty(),e)}function n4(r){return new Xr(r.readTime,r.key,$l)}class Xr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xr(Se.min(),ge.empty(),$l)}static max(){return new Xr(Se.max(),ge.empty(),$l)}}function i4(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==r4)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,s)=>{n(e)})}static reject(e){return new te((n,s)=>{s(e)})}static waitFor(e){return new te((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next(o=>o?te.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new te((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new te((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function a4(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ph.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp=-1;function kh(r){return r==null}function gh(r){return r===0&&1/r==-1/0}function o4(r){return typeof r=="number"&&Number.isInteger(r)&&!gh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="";function l4(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=t0(e)),e=u4(r.get(n),e);return t0(e)}function u4(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case dT:n+="";break;default:n+=u}}return n}function t0(r){return r+dT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ns(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function mT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ht(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new i0(this.data.getIterator())}getIteratorFrom(e){return new i0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class i0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new _n([])}unionWith(e){let n=new xt(Ft.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new pT("Invalid base64 string: "+u):u}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const c4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(r){if(He(!!r,39018),typeof r=="string"){let e=0;const n=c4.exec(r);if(He(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Wr(r){return typeof r=="string"?Gt.fromBase64String(r):Gt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="server_timestamp",yT="__type__",_T="__previous_value__",vT="__local_write_time__";function yp(r){return(r?.mapValue?.fields||{})[yT]?.stringValue===gT}function Lh(r){const e=r.mapValue.fields[_T];return yp(e)?Lh(e):e}function Wl(r){const e=$r(r.mapValue.fields[vT].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,s,o,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const yh="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="__type__",f4="__max__",Kc={mapValue:{}},TT="__vector__",_h="value";function Zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?yp(r)?4:m4(r)?9007199254740991:d4(r)?10:11:Te(28295,{value:r})}function _i(r,e){if(r===e)return!0;const n=Zr(r);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Wl(r).isEqual(Wl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=$r(o.timestampValue),m=$r(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Wr(o.bytesValue).isEqual(Wr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?gh(f)===gh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return oo(r.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(n0(f)!==n0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!_i(f[p],m[p])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function Jl(r,e){return(r.values||[]).find(n=>_i(n,e))!==void 0}function lo(r,e){if(r===e)return 0;const n=Zr(r),s=Zr(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=gt(u.integerValue||u.doubleValue),p=gt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return r0(r.timestampValue,e.timestampValue);case 4:return r0(Wl(r),Wl(e));case 5:return Om(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Wr(u),p=Wr(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ve(m[y],p[y]);if(E!==0)return E}return Ve(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ve(gt(u.latitude),gt(f.latitude));return m!==0?m:Ve(gt(u.longitude),gt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return s0(r.arrayValue,e.arrayValue);case 10:return function(u,f){const m=u.fields||{},p=f.fields||{},y=m[_h]?.arrayValue,E=p[_h]?.arrayValue,w=Ve(y?.values?.length||0,E?.values?.length||0);return w!==0?w:s0(y,E)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Kc.mapValue&&f===Kc.mapValue)return 0;if(u===Kc.mapValue)return 1;if(f===Kc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const S=Om(p[w],E[w]);if(S!==0)return S;const j=lo(m[p[w]],y[E[w]]);if(j!==0)return j}return Ve(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function r0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=$r(r),s=$r(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function s0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=lo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function uo(r){return Mm(r)}function Mm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=$r(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Wr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ge.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Mm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Mm(n.fields[f])}`;return o+"}"}(r.mapValue):Te(61005,{value:r})}function ih(r){switch(Zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(r);return e?16+ih(e):16;case 5:return 2*r.stringValue.length;case 6:return Wr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ih(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ns(s.fields,(u,f)=>{o+=u.length+ih(f)}),o}(r.mapValue);default:throw Te(13486,{value:r})}}function Vm(r){return!!r&&"integerValue"in r}function _p(r){return!!r&&"arrayValue"in r}function a0(r){return!!r&&"nullValue"in r}function o0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function rh(r){return!!r&&"mapValue"in r}function d4(r){return(r?.mapValue?.fields||{})[ET]?.stringValue===TT}function Bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ns(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Bl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(r.arrayValue.values[n]);return e}return{...r}}function m4(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===f4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=Ft.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Bl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ns(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new ln(Bl(this.value))}}function bT(r){const e=[];return ns(r.fields,(n,s)=>{const o=new Ft([n]);if(rh(s)){const u=bT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Se.min(),Se.min(),Se.min(),ln.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Se.min(),Se.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Se.min(),Se.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.position=e,this.inclusive=n}}function l0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=lo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function u0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!_i(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function p4(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{}class Dt extends wT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new y4(e,n,s):n==="array-contains"?new E4(e,s):n==="in"?new T4(e,s):n==="not-in"?new b4(e,s):n==="array-contains-any"?new w4(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new _4(e,s):new v4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lo(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends wT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new vi(e,n)}matches(e){return ST(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ST(r){return r.op==="and"}function AT(r){return g4(r)&&ST(r)}function g4(r){for(const e of r.filters)if(e instanceof vi)return!1;return!0}function Pm(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+uo(r.value);if(AT(r))return r.filters.map(e=>Pm(e)).join(",");{const e=r.filters.map(n=>Pm(n)).join(",");return`${r.op}(${e})`}}function RT(r,e){return r instanceof Dt?function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&_i(s.value,o.value)}(r,e):r instanceof vi?function(s,o){return o instanceof vi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&RT(f,o.filters[m]),!0):!1}(r,e):void Te(19439)}function CT(r){return r instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`}(r):r instanceof vi?function(n){return n.op.toString()+" {"+n.getFilters().map(CT).join(" ,")+"}"}(r):"Filter"}class y4 extends Dt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class _4 extends Dt{constructor(e,n){super(e,"in",n),this.keys=IT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class v4 extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=IT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function IT(r,e){return(e.arrayValue?.values||[]).map(n=>ge.fromName(n.referenceValue))}class E4 extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _p(n)&&Jl(n.arrayValue,this.value)}}class T4 extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class b4 extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class w4 extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_p(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Jl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function c0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new S4(r,e,n,s,o,u,f)}function vp(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Pm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>uo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>uo(s)).join(",")),e.Te=n}return e.Te}function Ep(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!p4(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!RT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!u0(r.startAt,e.startAt)&&u0(r.endAt,e.endAt)}function km(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function A4(r,e,n,s,o,u,f,m){return new Uh(r,e,n,s,o,u,f,m)}function jh(r){return new Uh(r)}function h0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function R4(r){return r.collectionGroup!==null}function ql(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xt(Ft.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Eh(u,s))}),n.has(Ft.keyField().canonicalString())||e.Ie.push(new Eh(Ft.keyField(),s))}return e.Ie}function fi(r){const e=Ae(r);return e.Ee||(e.Ee=C4(e,ql(r))),e.Ee}function C4(r,e){if(r.limitType==="F")return c0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Eh(o.field,u)});const n=r.endAt?new vh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new vh(r.startAt.position,r.startAt.inclusive):null;return c0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Lm(r,e,n){return new Uh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function zh(r,e){return Ep(fi(r),fi(e))&&r.limitType===e.limitType}function DT(r){return`${vp(fi(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>CT(o)).join(", ")}]`),kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>uo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>uo(o)).join(",")),`Target(${s})`}(fi(r))}; limitType=${r.limitType})`}function Bh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=l0(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,ql(s),o)||s.endAt&&!function(f,m,p){const y=l0(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,ql(s),o))}(r,e)}function I4(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function xT(r){return(e,n)=>{let s=!1;for(const o of ql(r)){const u=D4(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function D4(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?lo(p,y):Te(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ns(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return mT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=new lt(ge.comparator);function rr(){return x4}const NT=new lt(ge.comparator);function kl(...r){let e=NT;for(const n of r)e=e.insert(n.key,n);return e}function OT(r){let e=NT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function qs(){return Hl()}function MT(){return Hl()}function Hl(){return new Ws(r=>r.toString(),(r,e)=>r.isEqual(e))}const N4=new lt(ge.comparator),O4=new xt(ge.comparator);function Pe(...r){let e=O4;for(const n of r)e=e.add(n);return e}const M4=new xt(Ve);function V4(){return M4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function VT(r){return{integerValue:""+r}}function P4(r,e){return o4(e)?VT(e):Tp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this._=void 0}}function k4(r,e,n){return r instanceof Th?function(o,u){const f={fields:{[yT]:{stringValue:gT},[vT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&yp(u)&&(u=Lh(u)),u&&(f.fields[_T]=u),{mapValue:f}}(n,e):r instanceof eu?kT(r,e):r instanceof tu?LT(r,e):function(o,u){const f=PT(o,u),m=f0(f)+f0(o.Ae);return Vm(f)&&Vm(o.Ae)?VT(m):Tp(o.serializer,m)}(r,e)}function L4(r,e,n){return r instanceof eu?kT(r,e):r instanceof tu?LT(r,e):n}function PT(r,e){return r instanceof bh?function(s){return Vm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Th extends qh{}class eu extends qh{constructor(e){super(),this.elements=e}}function kT(r,e){const n=UT(e);for(const s of r.elements)n.some(o=>_i(o,s))||n.push(s);return{arrayValue:{values:n}}}class tu extends qh{constructor(e){super(),this.elements=e}}function LT(r,e){let n=UT(e);for(const s of r.elements)n=n.filter(o=>!_i(o,s));return{arrayValue:{values:n}}}class bh extends qh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function f0(r){return gt(r.integerValue||r.doubleValue)}function UT(r){return _p(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function U4(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof eu&&o instanceof eu||s instanceof tu&&o instanceof tu?oo(s.elements,o.elements,_i):s instanceof bh&&o instanceof bh?_i(s.Ae,o.Ae):s instanceof Th&&o instanceof Th}(r.transform,e.transform)}class j4{constructor(e,n){this.version=e,this.transformResults=n}}class di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Hh{}function jT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new BT(r.key,di.none()):new du(r.key,r.data,di.none());{const n=r.data,s=ln.empty();let o=new xt(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new is(r.key,s,new _n(o.toArray()),di.none())}}function z4(r,e,n){r instanceof du?function(o,u,f){const m=o.value.clone(),p=m0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof is?function(o,u,f){if(!sh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=m0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(zT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Fl(r,e,n,s){return r instanceof du?function(u,f,m,p){if(!sh(u.precondition,f))return m;const y=u.value.clone(),E=p0(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof is?function(u,f,m,p){if(!sh(u.precondition,f))return m;const y=p0(u.fieldTransforms,p,f),E=f.data;return E.setAll(zT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,s):function(u,f,m){return sh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function B4(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=PT(s.transform,o||null);u!=null&&(n===null&&(n=ln.empty()),n.set(s.field,u))}return n||null}function d0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&oo(s,o,(u,f)=>U4(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class du extends Hh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class is extends Hh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function zT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function m0(r,e,n){const s=new Map;He(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,L4(f,m,n[o]))}return s}function p0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,k4(u,f,e))}return s}class BT extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q4 extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&z4(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=MT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=jT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(n,s)=>d0(n,s))&&oo(this.baseMutations,e.baseMutations,(n,s)=>d0(n,s))}}class bp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return N4}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new bp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,je;function K4(r){switch(r){case re.OK:return Te(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function qT(r){if(r===void 0)return ir("GRPC error has no .code"),re.UNKNOWN;switch(r){case Tt.OK:return re.OK;case Tt.CANCELLED:return re.CANCELLED;case Tt.UNKNOWN:return re.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return re.INTERNAL;case Tt.UNAVAILABLE:return re.UNAVAILABLE;case Tt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Tt.NOT_FOUND:return re.NOT_FOUND;case Tt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Tt.ABORTED:return re.ABORTED;case Tt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Tt.DATA_LOSS:return re.DATA_LOSS;default:return Te(39323,{code:r})}}(je=Tt||(Tt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new Kr([4294967295,4294967295],0);function g0(r){const e=Q4().encode(r),n=new rT;return n.update(e),new Uint8Array(n.digest())}function y0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Kr([n,s],0),new Kr([o,u],0)]}class wp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(s<0)throw new Ll(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Kr.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Kr.fromNumber(s)));return o.compare(Y4)===1&&(o=new Kr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=g0(e),[s,o]=y0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new wp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=g0(e),[s,o]=y0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Fh(Se.min(),o,new lt(Ve),rr(),Pe())}}class mu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new mu(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class HT{constructor(e,n){this.targetId=e,this.Ce=n}}class FT{constructor(e,n,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class _0{constructor(){this.ve=0,this.Fe=v0(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new mu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=v0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class X4{constructor(e){this.Ge=e,this.ze=new Map,this.je=rr(),this.Je=Qc(),this.He=Qc(),this.Ye=new lt(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(km(u))if(s===0){const f=new ge(u.path);this.et(n,f,Wt.newNoDocument(f,Se.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Wr(s).toUint8Array()}catch(p){if(p instanceof pT)return ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new wp(f,o,u)}catch(p){return ao(p instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&km(m.target)){const p=new ge(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Wt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Pe();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new Fh(e,n,this.Ye,this.je,s);return this.je=rr(),this.Je=Qc(),this.He=Qc(),this.Ye=new lt(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new _0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new xt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new xt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qc(){return new lt(ge.comparator)}function v0(){return new lt(ge.comparator)}const $4={asc:"ASCENDING",desc:"DESCENDING"},W4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z4={and:"AND",or:"OR"};class J4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Um(r,e){return r.useProto3Json||kh(e)?e:{value:e}}function wh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function eI(r,e){return wh(r,e.toTimestamp())}function mi(r){return He(!!r,49232),Se.fromTimestamp(function(n){const s=$r(n);return new nt(s.seconds,s.nanos)}(r))}function Sp(r,e){return jm(r,e).canonicalString()}function jm(r,e){const n=function(o){return new at(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function KT(r){const e=at.fromString(r);return He(WT(e),10190,{key:e.toString()}),e}function zm(r,e){return Sp(r.databaseId,e.path)}function gm(r,e){const n=KT(e);if(n.get(1)!==r.databaseId.projectId)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(YT(n))}function QT(r,e){return Sp(r.databaseId,e)}function tI(r){const e=KT(r);return e.length===4?at.emptyPath():YT(e)}function Bm(r){return new at(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function YT(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function E0(r,e,n){return{name:zm(r,e),fields:n.value.mapValue.fields}}function nI(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(He(E===void 0||typeof E=="string",58123),Gt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Gt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?re.UNKNOWN:qT(y.code);return new de(E,y.message||"")}(f);n=new FT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gm(r,s.document.name),u=mi(s.document.updateTime),f=s.document.createTime?mi(s.document.createTime):Se.min(),m=new ln({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new ah(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gm(r,s.document),u=s.readTime?mi(s.readTime):Se.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ah([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gm(r,s.document),u=s.removedTargetIds||[];n=new ah([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new G4(o,u),m=s.targetId;n=new HT(m,f)}}return n}function iI(r,e){let n;if(e instanceof du)n={update:E0(r,e.key,e.value)};else if(e instanceof BT)n={delete:zm(r,e.key)};else if(e instanceof is)n={update:E0(r,e.key,e.data),updateMask:fI(e.fieldMask)};else{if(!(e instanceof q4))return Te(16599,{Vt:e.type});n={verify:zm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Th)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof tu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:eI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(r,e.precondition)),n}function rI(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?mi(o.updateTime):mi(u);return f.isEqual(Se.min())&&(f=mi(u)),new j4(f,o.transformResults||[])}(n,e))):[]}function sI(r,e){return{documents:[QT(r,e.path)]}}function aI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=QT(r,o);const u=function(y){if(y.length!==0)return $T(vi.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(S){return{field:Ya(S.field),direction:uI(S.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Um(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:n,parent:o}}function oI(r){let e=tI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const S=XT(w);return S instanceof vi&&AT(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(S=>function(G){return new Eh(Xa(G.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(G.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(w){let S;return S=typeof w=="object"?w.value:w,kh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(w){const S=!!w.before,j=w.values||[];return new vh(j,S)}(n.startAt));let y=null;return n.endAt&&(y=function(w){const S=!w.before,j=w.values||[];return new vh(j,S)}(n.endAt)),A4(e,o,f,u,m,"F",p,y)}function lI(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Xa(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Xa(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xa(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Xa(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(n){return Dt.create(Xa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return vi.create(n.compositeFilter.filters.map(s=>XT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(r):Te(30097,{filter:r})}function uI(r){return $4[r]}function cI(r){return W4[r]}function hI(r){return Z4[r]}function Ya(r){return{fieldPath:r.canonicalString()}}function Xa(r){return Ft.fromServerFormat(r.fieldPath)}function $T(r){return r instanceof Dt?function(n){if(n.op==="=="){if(o0(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NAN"}};if(a0(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(o0(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NAN"}};if(a0(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(n.field),op:cI(n.op),value:n.value}}}(r):r instanceof vi?function(n){const s=n.getFilters().map(o=>$T(o));return s.length===1?s[0]:{compositeFilter:{op:hI(n.op),filters:s}}}(r):Te(54877,{filter:r})}function fI(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.yt=e}}function mI(r){const e=oI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Lm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.Cn=new gI}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Xr.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class gI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new xt(at.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZT=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(ZT,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new co(0)}static cr(){return new co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="LruGarbageCollector",yI=1048576;function w0([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class _I{constructor(e){this.Ir=e,this.buffer=new xt(w0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();w0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(b0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?ue(b0,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.Vr(3e5)})}}class EI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Ph.ce);const s=new _I(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(T0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(y=Date.now(),Ka()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function TI(r,e){return new EI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.changes=new Ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Fl(s.mutation,o,_n.empty(),nt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const o=qs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=kl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=qs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=rr();const f=Hl(),m=function(){return Hl()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof is)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Fl(E.mutation,y,E.mutation.getFieldMask(),nt.now())):f.set(y.key,_n.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>m.set(y,new wI(E,f.get(y)??null))),m))}recalculateAndSaveOverlays(e,n){const s=Hl();let o=new lt((f,m)=>f-m),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||_n.empty();E=m.applyToLocalView(y,E),s.set(p,E);const w=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,w=MT();E.forEach(S=>{if(!u.has(S)){const j=jT(n.get(S),s.get(S));j!==null&&w.set(S,j),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,w))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):R4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(qs());let m=$l,p=u;return f.next(y=>te.forEach(y,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Pe())).next(E=>({batchId:m,changes:OT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const y=function(w,S){return new Uh(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((w,S)=>{f=f.insert(w,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))});let m=kl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&Fl(E.mutation,y,_n.empty(),nt.now()),Bh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:mi(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:mI(o.bundledQuery),readTime:mi(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.overlays=new lt(ge.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=qs();return te.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=qs(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new lt((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=qs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=qs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new F4(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(){this.Qr=new xt(Lt.$r),this.Ur=new xt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Lt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Lt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new ge(new at([])),s=new Lt(n,e),o=new Lt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new at([])),s=new Lt(n,e),o=new Lt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Lt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xt(Lt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new H4(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?gp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new xt(Ve);return n.forEach(o=>{const u=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Lt(new ge(u),0);let m=new xt(Ve);return this.Zr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)},f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,o=>{const u=new Lt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Lt(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.ri=e,this.docs=function(){return new lt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=rr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=rr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||i4(n4(E),s)<=0||(o.has(E.key)||Bh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ii(e,n){return te.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new xI(this)}getSize(e){return te.resolve(this.size)}}class xI extends bI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.persistence=e,this.si=new Ws(n=>vp(n),Ep),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Ap,this.targetCount=0,this.ai=co.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new co(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ph(0),this.li=!1,this.li=!0,this.hi=new CI,this.referenceDelegate=e(this),this.Pi=new NI(this),this.indexManager=new pI,this.remoteDocumentCache=function(o){return new DI(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new dI(n),this.Ii=new AI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new II(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new OI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return te.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class OI extends s4{constructor(e){super(),this.currentSequenceNumber=e}}class Rp{constructor(e){this.persistence=e,this.Ri=new Ap,this.Vi=null}static mi(e){return new Rp(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,s=>{const o=ge.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Sh{constructor(e,n){this.persistence=e,this.pi=new Ws(s=>l4(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=TI(this,n)}static mi(e,n){return new Sh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return te.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?te.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ih(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return aA()?8:a4(Zt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new MI;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ka()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Ka()<=Me.DEBUG&&ue("QueryEngine","Query:",Qa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ka()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(n))):te.resolve())}ys(e,n){if(h0(n))return te.resolve(null);let s=fi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Lm(n,null,"F"),s=fi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(e,Lm(n,null,"F")):this.vs(e,y,n,p)}))})))}ws(e,n,s,o){return h0(n)||o.isEqual(Se.min())?te.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(Ka()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qa(n)),this.vs(e,f,n,t4(o,$l)).next(m=>m))})}Ds(e,n){let s=new xt(xT(e));return n.forEach((o,u)=>{Bh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ka()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.ps.getDocumentsMatchingQuery(e,n,Xr.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="LocalStore",PI=3e8;class kI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new lt(Ve),this.xs=new Ws(u=>vp(u),Ep),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function LI(r,e,n,s){return new kI(r,e,n,s)}async function e1(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Pe();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Ls:y,removedBatchIds:f,addedBatchIds:m}))})})}function UI(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const w=y.batch,S=w.keys();let j=te.resolve();return S.forEach(G=>{j=j.next(()=>E.getEntry(p,G)).next(W=>{const Q=y.docVersions.get(G);He(Q!==null,48541),W.version.compareTo(Q)<0&&(w.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),E.addEntry(W)))})}),j.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Pe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function t1(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function jI(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((E,w)=>{const S=o.get(w);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,w)));let j=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?j=j.withResumeToken(Gt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,s)),o=o.insert(w,j),function(W,Q,$){return W.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=PI?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(S,j,E)&&m.push(n.Pi.updateTargetData(u,j))});let p=rr(),y=Pe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(zI(u,f,e.documentUpdates).next(E=>{p=E.ks,y=E.qs})),!s.isEqual(Se.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return te.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ms=o,u))}function zI(r,e,n){let s=Pe(),o=Pe();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=rr();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(Ip,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{ks:f,qs:o}})}function BI(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=gp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function qI(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new qr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function qm(r,e,n){const s=Ae(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Eo(f))throw f;ue(Ip,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function S0(r,e,n){const s=Ae(r);let o=Se.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const w=Ae(p),S=w.xs.get(E);return S!==void 0?te.resolve(w.Ms.get(S)):w.Pi.getTargetData(y,E)}(s,f,fi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Pe())).next(m=>(HI(s,I4(e),m),{documents:m,Qs:u})))}function HI(r,e,n){let s=r.Os.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(e,s)}class A0{constructor(){this.activeTargetIds=V4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FI{constructor(){this.Mo=new A0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new A0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="ConnectivityMonitor";class C0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(R0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(R0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function Hm(){return Yc===null?Yc=function(){return 268435456+Math.round(2147483648*Math.random())}():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="RestConnection",KI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Hm(),m=this.zo(e,n.toUriEncodedString());ue(ym,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=go(y);return this.Jo(e,m,p,s,E).then(w=>(ue(ym,`Received RPC '${e}' ${f}: `,w),w),w=>{throw ao(ym,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w})}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_o}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=KI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class XI extends QI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Hm();return new Promise((m,p)=>{const y=new sT;y.setWithCredentials(!0),y.listenOnce(aT.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case nh.NO_ERROR:const w=y.getResponseJson();ue(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case nh.TIMEOUT:ue(Xt,`RPC '${e}' ${f} timed out`),p(new de(re.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const S=y.getStatus();if(ue(Xt,`RPC '${e}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const G=j?.error;if(G&&G.status&&G.message){const W=function($){const oe=$.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(oe)>=0?oe:re.UNKNOWN}(G.status);p(new de(W,G.message))}else p(new de(re.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new de(re.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(Xt,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);ue(Xt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)})}T_(e,n,s){const o=Hm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=uT(),m=lT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.I_(w);let S=!1,j=!1;const G=new YI({Yo:Q=>{j?ue(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(S||(ue(Xt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),ue(Xt,`RPC '${e}' stream ${o} sending:`,Q),w.send(Q))},Zo:()=>w.close()}),W=(Q,$,oe)=>{Q.listen($,se=>{try{oe(se)}catch(Ee){setTimeout(()=>{throw Ee},0)}})};return W(w,Pl.EventType.OPEN,()=>{j||(ue(Xt,`RPC '${e}' stream ${o} transport opened.`),G.o_())}),W(w,Pl.EventType.CLOSE,()=>{j||(j=!0,ue(Xt,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(w))}),W(w,Pl.EventType.ERROR,Q=>{j||(j=!0,ao(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),G.a_(new de(re.UNAVAILABLE,"The operation could not be completed")))}),W(w,Pl.EventType.MESSAGE,Q=>{if(!j){const $=Q.data[0];He(!!$,16349);const oe=$,se=oe?.error||oe[0]?.error;if(se){ue(Xt,`RPC '${e}' stream ${o} received error:`,se);const Ee=se.status;let he=function(A){const C=Tt[A];if(C!==void 0)return qT(C)}(Ee),Ie=se.message;he===void 0&&(he=re.INTERNAL,Ie="Unknown error status: "+Ee+" with message "+se.message),j=!0,G.a_(new de(he,Ie)),w.close()}else ue(Xt,`RPC '${e}' stream ${o} received:`,$),G.u_($)}}),W(m,oT.STAT_EVENT,Q=>{Q.stat===Nm.PROXY?ue(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):Q.stat===Nm.NOPROXY&&ue(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{G.__()},0),G}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function _m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(r){return new J4(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="PersistentStream";class i1{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new n1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new de(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ue(I0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ue(I0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $I extends i1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=nI(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?mi(f.readTime):Se.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Bm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=km(p)?{documents:sI(u,p)}:{query:aI(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=GT(u,f.resumeToken);const y=Um(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=wh(u,f.snapshotVersion.toTimestamp());const y=Um(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=lI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Bm(this.serializer),n.removeTarget=e,this.q_(n)}}class WI extends i1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=rI(e.writeResults,e.commitTime),s=mi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Bm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>iI(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{}class JI extends ZI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,jm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(re.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,jm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(re.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class eD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ir(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class tD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{Zs(this)&&(ue(Ys,"Restarting streams for network reachability change."),await async function(p){const y=Ae(p);y.Ea.add(4),await pu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Kh(y)}(this))})}),this.Ra=new eD(s,o)}}async function Kh(r){if(Zs(r))for(const e of r.da)await e(!0)}async function pu(r){for(const e of r.da)await e(!1)}function r1(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Op(n)?Np(n):To(n).O_()&&xp(n,e))}function Dp(r,e){const n=Ae(r),s=To(n);n.Ia.delete(e),s.O_()&&s1(n,e),n.Ia.size===0&&(s.O_()?s.L_():Zs(n)&&n.Ra.set("Unknown"))}function xp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(r).Y_(e)}function s1(r,e){r.Va.Ue(e),To(r).Z_(e)}function Np(r){r.Va=new X4({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),To(r).start(),r.Ra.ua()}function Op(r){return Zs(r)&&!To(r).x_()&&r.Ia.size>0}function Zs(r){return Ae(r).Ea.size===0}function a1(r){r.Va=void 0}async function nD(r){r.Ra.set("Online")}async function iD(r){r.Ia.forEach((e,n)=>{xp(r,e)})}async function rD(r,e){a1(r),Op(r)?(r.Ra.ha(e),Np(r)):r.Ra.set("Unknown")}async function sD(r,e,n){if(r.Ra.set("Online"),e instanceof FT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(r,e)}catch(s){ue(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ah(r,s)}else if(e instanceof ah?r.Va.Ze(e):e instanceof HT?r.Va.st(e):r.Va.tt(e),!n.isEqual(Se.min()))try{const s=await t1(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Gt.EMPTY_BYTE_STRING,E.snapshotVersion)),s1(u,p);const w=new qr(E.target,p,y,E.sequenceNumber);xp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ue(Ys,"Failed to raise snapshot:",s),await Ah(r,s)}}async function Ah(r,e,n){if(!Eo(e))throw e;r.Ea.add(1),await pu(r),r.Ra.set("Offline"),n||(n=()=>t1(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(Ys,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Kh(r)})}function o1(r,e){return e().catch(n=>Ah(r,n,e))}async function Qh(r){const e=Ae(r),n=Jr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gp;for(;aD(e);)try{const o=await BI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,oD(e,o)}catch(o){await Ah(e,o)}l1(e)&&u1(e)}function aD(r){return Zs(r)&&r.Ta.length<10}function oD(r,e){r.Ta.push(e);const n=Jr(r);n.O_()&&n.X_&&n.ea(e.mutations)}function l1(r){return Zs(r)&&!Jr(r).x_()&&r.Ta.length>0}function u1(r){Jr(r).start()}async function lD(r){Jr(r).ra()}async function uD(r){const e=Jr(r);for(const n of r.Ta)e.ea(n.mutations)}async function cD(r,e,n){const s=r.Ta.shift(),o=bp.from(s,e,n);await o1(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Qh(r)}async function hD(r,e){e&&Jr(r).X_&&await async function(s,o){if(function(f){return K4(f)&&f!==re.ABORTED}(o.code)){const u=s.Ta.shift();Jr(s).B_(),await o1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Qh(s)}}(r,e),l1(r)&&u1(r)}async function D0(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),ue(Ys,"RemoteStore received new credentials");const s=Zs(n);n.Ea.add(3),await pu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Kh(n)}async function fD(r,e){const n=Ae(r);e?(n.Ea.delete(2),await Kh(n)):e||(n.Ea.add(2),await pu(n),n.Ra.set("Unknown"))}function To(r){return r.ma||(r.ma=function(n,s,o){const u=Ae(n);return u.sa(),new $I(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:nD.bind(null,r),t_:iD.bind(null,r),r_:rD.bind(null,r),H_:sD.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),Op(r)?Np(r):r.Ra.set("Unknown")):(await r.ma.stop(),a1(r))})),r.ma}function Jr(r){return r.fa||(r.fa=function(n,s,o){const u=Ae(n);return u.sa(),new WI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:lD.bind(null,r),r_:hD.bind(null,r),ta:uD.bind(null,r),na:cD.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Qh(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(Ys,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Mp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vp(r,e){if(ir("AsyncQueue",`${e}: ${r}`),Eo(r))return new de(re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static emptySet(e){return new to(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=kl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new to;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.ga=new lt(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class ho{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new ho(e,n,to.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class mD{constructor(){this.queries=N0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=N0(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new de(re.ABORTED,"Firestore shutting down"))}}function N0(){return new Ws(r=>DT(r),zh)}async function c1(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new dD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Vp(f,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Pp(n)}async function h1(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function pD(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Pp(n)}function gD(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Pp(r){r.Ca.forEach(e=>{e.next()})}var Fm,O0;(O0=Fm||(Fm={})).Ma="default",O0.Cache="cache";class f1{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.key=e}}class m1{constructor(e){this.key=e}}class yD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=xT(e),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new x0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const S=o.get(E),j=Bh(this.query,w)?w:null,G=!!S&&this.mutatedKeys.has(S.key),W=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Q=!1;S&&j?S.data.isEqual(j.data)?G!==W&&(s.track({type:3,doc:j}),Q=!0):this.su(S,j)||(s.track({type:2,doc:j}),Q=!0,(p&&this.eu(j,p)>0||y&&this.eu(j,y)<0)&&(m=!0)):!S&&j?(s.track({type:0,doc:j}),Q=!0):S&&!j&&(s.track({type:1,doc:S}),Q=!0,(p||y)&&(m=!0)),Q&&(j?(f=f.add(j),u=W?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((E,w)=>function(j,G){const W=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:Q})}};return W(j)-W(G)}(E.type,w.type)||this.eu(E.doc,w.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new ho(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new x0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new m1(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new d1(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kp="SyncEngine";class _D{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class vD{constructor(e){this.key=e,this.hu=!1}}class ED{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ws(m=>DT(m),zh),this.Iu=new Map,this.Eu=new Set,this.du=new lt(ge.comparator),this.Au=new Map,this.Ru=new Ap,this.Vu={},this.mu=new Map,this.fu=co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TD(r,e,n=!0){const s=E1(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await p1(s,e,n,!0),o}async function bD(r,e){const n=E1(r);await p1(n,e,!0,!1)}async function p1(r,e,n,s){const o=await qI(r.localStore,fi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await wD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&r1(r.remoteStore,o),m}async function wD(r,e,n,s,o){r.pu=(w,S,j)=>async function(W,Q,$,oe){let se=Q.view.ru($);se.Cs&&(se=await S0(W.localStore,Q.query,!1).then(({documents:M})=>Q.view.ru(M,se)));const Ee=oe&&oe.targetChanges.get(Q.targetId),he=oe&&oe.targetMismatches.get(Q.targetId)!=null,Ie=Q.view.applyChanges(se,W.isPrimaryClient,Ee,he);return V0(W,Q.targetId,Ie.au),Ie.snapshot}(r,w,S,j);const u=await S0(r.localStore,e,!0),f=new yD(e,u.Qs),m=f.ru(u.documents),p=mu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);V0(r,n,y.au);const E=new _D(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function SD(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!zh(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await qm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Dp(s.remoteStore,o.targetId),Gm(s,o.targetId)}).catch(vo)):(Gm(s,o.targetId),await qm(s.localStore,o.targetId,!0))}async function AD(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Dp(n.remoteStore,s.targetId))}async function RD(r,e,n){const s=MD(r);try{const o=await function(f,m){const p=Ae(f),y=nt.now(),E=m.reduce((j,G)=>j.add(G.key),Pe());let w,S;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let G=rr(),W=Pe();return p.Ns.getEntries(j,E).next(Q=>{G=Q,G.forEach(($,oe)=>{oe.isValidDocument()||(W=W.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,G)).next(Q=>{w=Q;const $=[];for(const oe of m){const se=B4(oe,w.get(oe.key).overlayedDocument);se!=null&&$.push(new is(oe.key,se,bT(se.value.mapValue),di.exists(!0)))}return p.mutationQueue.addMutationBatch(j,y,$,m)}).next(Q=>{S=Q;const $=Q.applyToLocalDocumentSet(w,W);return p.documentOverlayCache.saveOverlays(j,Q.batchId,$)})}).then(()=>({batchId:S.batchId,changes:OT(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new lt(Ve)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y}(s,o.batchId,n),await gu(s,o.changes),await Qh(s.remoteStore)}catch(o){const u=Vp(o,"Failed to persist write");n.reject(u)}}async function g1(r,e){const n=Ae(r);try{const s=await jI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?He(f.hu,14607):o.removedDocuments.size>0&&(He(f.hu,42227),f.hu=!1))}),await gu(n,s,e)}catch(s){await vo(s)}}function M0(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ae(f);p.onlineState=m;let y=!1;p.queries.forEach((E,w)=>{for(const S of w.Sa)S.va(m)&&(y=!0)}),y&&Pp(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function CD(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new lt(ge.comparator);f=f.insert(u,Wt.newNoDocument(u,Se.min()));const m=Pe().add(u),p=new Fh(Se.min(),new Map,new lt(Ve),f,m);await g1(s,p),s.du=s.du.remove(u),s.Au.delete(e),Lp(s)}else await qm(s.localStore,e,!1).then(()=>Gm(s,e,n)).catch(vo)}async function ID(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await UI(n.localStore,e);_1(n,s,null),y1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await gu(n,o)}catch(o){await vo(o)}}async function DD(r,e,n){const s=Ae(r);try{const o=await function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(w=>(He(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);_1(s,e,n),y1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await gu(s,o)}catch(o){await vo(o)}}function y1(r,e){(r.mu.get(e)||[]).forEach(n=>{n.resolve()}),r.mu.delete(e)}function _1(r,e,n){const s=Ae(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Gm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||v1(r,s)})}function v1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Dp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Lp(r))}function V0(r,e,n){for(const s of n)s instanceof d1?(r.Ru.addReference(s.key,e),xD(r,s)):s instanceof m1?(ue(kp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||v1(r,s.key)):Te(19791,{wu:s})}function xD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ue(kp,"New document in limbo: "+n),r.Eu.add(s),Lp(r))}function Lp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(at.fromString(e)),s=r.fu.next();r.Au.set(s,new vD(n)),r.du=r.du.insert(n,s),r1(r.remoteStore,new qr(fi(jh(n.path)),s,"TargetPurposeLimboResolution",Ph.ce))}}async function gu(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{f.push(s.pu(p,e,n).then(y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Cp.As(p.targetId,y);u.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(p,y){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(y,S=>te.forEach(S.Es,j=>E.persistence.referenceDelegate.addReference(w,S.targetId,j)).next(()=>te.forEach(S.ds,j=>E.persistence.referenceDelegate.removeReference(w,S.targetId,j)))))}catch(w){if(!Eo(w))throw w;ue(Ip,"Failed to update sequence numbers: "+w)}for(const w of y){const S=w.targetId;if(!w.fromCache){const j=E.Ms.get(S),G=j.snapshotVersion,W=j.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(S,W)}}}(s.localStore,u))}async function ND(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){ue(kp,"User change. New user:",e.toKey());const s=await e1(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new de(re.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gu(n,s.Ls)}}function OD(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function E1(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=g1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CD.bind(null,e),e.Pu.H_=pD.bind(null,e.eventManager),e.Pu.yu=gD.bind(null,e.eventManager),e}function MD(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ID.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DD.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return LI(this.persistence,new VI,e.initialUser,this.serializer)}Cu(e){return new JT(Rp.mi,this.serializer)}Du(e){return new FI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class VD extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof Sh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new vI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new JT(s=>Sh.mi(s,n),this.serializer)}}class Km{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>M0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ND.bind(null,this.syncEngine),await fD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mD}()}createDatastore(e){const n=Gh(e.databaseInfo.databaseId),s=function(u){return new XI(u)}(e.databaseInfo);return function(u,f,m,p){return new JI(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new tD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>M0(this.syncEngine,n,0),function(){return C0.v()?new C0:new GI}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const w=new ED(o,u,f,m,p,y);return E&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Ae(n);ue(Ys,"RemoteStore shutting down."),s.Ea.add(5),await pu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Km.provider={build:()=>new Km};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="FirestoreClient";class PD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=mp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(es,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(es,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Vp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function vm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(es,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await e1(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function P0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await kD(r);ue(es,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>D0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>D0(e.remoteStore,o)),r._onlineComponents=e}async function kD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(es,"Using user provided OfflineComponentProvider");try{await vm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await vm(r,new Rh)}}else ue(es,"Using default OfflineComponentProvider"),await vm(r,new VD(void 0));return r._offlineComponents}async function b1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(es,"Using user provided OnlineComponentProvider"),await P0(r,r._uninitializedComponentsProvider._online)):(ue(es,"Using default OnlineComponentProvider"),await P0(r,new Km))),r._onlineComponents}function LD(r){return b1(r).then(e=>e.syncEngine)}async function Qm(r){const e=await b1(r),n=e.eventManager;return n.onListen=TD.bind(null,e.syncEngine),n.onUnlisten=SD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AD.bind(null,e.syncEngine),n}function UD(r,e,n={}){const s=new Qr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new T1({next:S=>{E.Nu(),f.enqueueAndForget(()=>h1(u,w));const j=S.docs.has(m);!j&&S.fromCache?y.reject(new de(re.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&S.fromCache&&p&&p.source==="server"?y.reject(new de(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),w=new f1(jh(m.path),E,{includeMetadataChanges:!0,qa:!0});return c1(u,w)}(await Qm(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="firestore.googleapis.com",L0=!0;class U0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=S1,this.ssl=L0}else this.host=e.host,this.ssl=e.ssl??L0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yI)throw new de(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w1(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Up{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new HC;switch(s.type){case"firstParty":return new QC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=k0.get(n);s&&(ue("ComponentProvider","Removing Datastore"),k0.delete(n),s.terminate())}(this),Promise.resolve()}}function jD(r,e,n,s={}){r=hi(r,Up);const o=go(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(fE(`https://${m}`),dE("Firestore",!0)),u.host!==S1&&u.host!==m&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Fs(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=$t.MOCK_USER;else{y=WS(s.mockUserToken,r._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new de(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(w)}r._authCredentials=new FC(new hT(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Yh(this.firestore,e,this._query)}}class wt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(fu(n,wt._jsonSchema))return new wt(e,s||null,new ge(at.fromString(n.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:bt("string",wt._jsonSchemaVersion),referencePath:bt("string")};class nu extends Yh{constructor(e,n,s){super(e,n,jh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new ge(e))}withConverter(e){return new nu(this.firestore,e,this._path)}}function oi(r,e,...n){if(r=ft(r),arguments.length===1&&(e=mp.newId()),JC("doc","path",e),r instanceof Up){const s=at.fromString(e,...n);return Zv(s),new wt(r,null,new ge(s))}{if(!(r instanceof wt||r instanceof nu))throw new de(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return Zv(s),new wt(r.firestore,r instanceof nu?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="AsyncQueue";class z0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new n1(this,"async_queue_retry"),this._c=()=>{const s=_m();s&&ue(j0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=_m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=_m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Qr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Eo(e))throw e;ue(j0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,ir("INTERNAL UNHANDLED ERROR: ",B0(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Mp.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:B0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function B0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class fo extends Up{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new z0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z0(e),this._firestoreClient=void 0,await e}}}function zD(r,e){const n=typeof r=="object"?r:yE(),s=typeof r=="string"?r:yh,o=ip(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=XS("firestore");u&&jD(o,...u)}return o}function jp(r){if(r._terminated)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||BD(r),r._firestoreClient}function BD(r){const e=r._freezeSettings(),n=function(o,u,f,m){return new h4(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,w1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new PD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Gt.fromBase64String(e))}catch(n){throw new de(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vn(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fu(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:bt("string",Vn._jsonSchemaVersion),bytes:bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pi._jsonSchemaVersion}}static fromJSON(e){if(fu(e,pi._jsonSchema))return new pi(e.latitude,e.longitude)}}pi._jsonSchemaVersion="firestore/geoPoint/1.0",pi._jsonSchema={type:bt("string",pi._jsonSchemaVersion),latitude:bt("number"),longitude:bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fu(e,gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new gi(e.vectorValues);throw new de(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:bt("string",gi._jsonSchemaVersion),vectorValues:bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=/^__.*__$/;class HD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}class A1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function R1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class Bp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Bp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(R1(this.Ac)&&qD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class FD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Gh(e)}Cc(e,n,s,o=!1){return new Bp({Ac:e,methodName:n,Dc:s,path:Ft.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C1(r){const e=r._freezeSettings(),n=Gh(r._databaseId);return new FD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function GD(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);qp("Data must be an object, but it was:",f,s);const m=I1(s,f);let p,y;if(u.merge)p=new _n(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const S=Ym(e,w,n);if(!f.contains(S))throw new de(re.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);x1(E,S)||E.push(S)}p=new _n(E),y=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=f.fieldTransforms;return new HD(new ln(m),p,y)}class $h extends zp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $h}}function KD(r,e,n,s){const o=r.Cc(1,e,n);qp("Data must be an object, but it was:",o,s);const u=[],f=ln.empty();ns(s,(p,y)=>{const E=Hp(e,p,n);y=ft(y);const w=o.yc(E);if(y instanceof $h)u.push(E);else{const S=Wh(y,w);S!=null&&(u.push(E),f.set(E,S))}});const m=new _n(u);return new A1(f,m,o.fieldTransforms)}function QD(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[Ym(e,s,n)],p=[o];if(u.length%2!=0)throw new de(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Ym(e,u[S])),p.push(u[S+1]);const y=[],E=ln.empty();for(let S=m.length-1;S>=0;--S)if(!x1(y,m[S])){const j=m[S];let G=p[S];G=ft(G);const W=f.yc(j);if(G instanceof $h)y.push(j);else{const Q=Wh(G,W);Q!=null&&(y.push(j),E.set(j,Q))}}const w=new _n(y);return new A1(E,w,f.fieldTransforms)}function Wh(r,e){if(D1(r=ft(r)))return qp("Unsupported field value:",e,r),I1(r,e);if(r instanceof zp)return function(s,o){if(!R1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Wh(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=ft(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return P4(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=nt.fromDate(s);return{timestampValue:wh(o.serializer,u)}}if(s instanceof nt){const u=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(s instanceof pi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:GT(o.serializer,s._byteString)};if(s instanceof wt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof gi)return function(f,m){return{mapValue:{fields:{[ET]:{stringValue:TT},[_h]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Tp(m.serializer,y)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${pp(s)}`)}(r,e)}function I1(r,e){const n={};return mT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ns(r,(s,o)=>{const u=Wh(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function D1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof nt||r instanceof pi||r instanceof Vn||r instanceof wt||r instanceof zp||r instanceof gi)}function qp(r,e,n){if(!D1(n)||!fT(n)){const s=pp(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Ym(r,e,n){if((e=ft(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return Hp(r,e);throw Ch("Field path arguments must be of type string or ",r,!1,void 0,n)}const YD=new RegExp("[~\\*/\\[\\]]");function Hp(r,e,n){if(e.search(YD)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Xh(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ch(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(re.INVALID_ARGUMENT,m+r+p)}function x1(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(O1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XD extends N1{data(){return super.data()}}function O1(r,e){return typeof e=="string"?Hp(r,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WD{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ns(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){const n=e.fields?.[_h].arrayValue?.values?.map(s=>gt(s.doubleValue));return new gi(n)}convertGeoPoint(e){return new pi(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Lh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const n=$r(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);He(WT(s),9688,{name:e});const o=new Zl(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||ir(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Ul{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hs extends N1{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(O1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Hs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hs._jsonSchema={type:bt("string",Hs._jsonSchemaVersion),bundleSource:bt("string","DocumentSnapshot"),bundleName:bt("string"),bundle:bt("string")};class oh extends Hs{data(e={}){return super.data(e)}}class no{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ul(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new oh(this._firestore,this._userDataWriter,s.key,s,new Ul(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:JD(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=no._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(r){r=hi(r,wt);const e=hi(r.firestore,fo);return UD(jp(e),r._key).then(n=>L1(e,r,n))}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:bt("string",no._jsonSchemaVersion),bundleSource:bt("string","QuerySnapshot"),bundleName:bt("string"),bundle:bt("string")};class M1 extends WD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function V1(r,e,n){r=hi(r,wt);const s=hi(r.firestore,fo),o=ZD(r.converter,e);return k1(s,[GD(C1(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,di.none())])}function Xc(r,e,n,...s){r=hi(r,wt);const o=hi(r.firestore,fo),u=C1(o);let f;return f=typeof(e=ft(e))=="string"||e instanceof Xh?QD(u,"updateDoc",r._key,e,n,s):KD(u,"updateDoc",r._key,e),k1(o,[f.toMutation(r._key,di.exists(!0))])}function P1(r,...e){r=ft(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||q0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(q0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof wt)f=hi(r.firestore,fo),m=jh(r._key.path),u={next:p=>{e[s]&&e[s](L1(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=hi(r,Yh);f=hi(p.firestore,fo),m=p._query;const y=new M1(f);u={next:E=>{e[s]&&e[s](new no(f,y,p,E))},error:e[s+1],complete:e[s+2]},$D(r._query)}return function(y,E,w,S){const j=new T1(S),G=new f1(E,j,w);return y.asyncQueue.enqueueAndForget(async()=>c1(await Qm(y),G)),()=>{j.Nu(),y.asyncQueue.enqueueAndForget(async()=>h1(await Qm(y),G))}}(jp(f),m,o,u)}function k1(r,e){return function(s,o){const u=new Qr;return s.asyncQueue.enqueueAndForget(async()=>RD(await LD(s),o,u)),u.promise}(jp(r),e)}function L1(r,e,n){const s=n.docs.get(e._key),o=new M1(r);return new Hs(r,o,e._key,s,new Ul(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){_o=o})(yo),ro(new Gs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new fo(new GC(s.getProvider("auth-internal")),new YC(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(y.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Gr(Yv,Xv,e),Gr(Yv,Xv,"esm2020")})();const ex={apiKey:"AIzaSyDjftuDI6X1gPES91o4zsoN5opGqSsIba0",authDomain:"okimemo-f39f0.firebaseapp.com",projectId:"okimemo-f39f0",storageBucket:"okimemo-f39f0.firebasestorage.app",messagingSenderId:"731154310958",appId:"1:731154310958:web:6f1c1cf709677308b03cbf",measurementId:"G-KZMBNNC9RW"},U1=gE(ex),li=zD(U1),Xs=Xl(U1);function tx(){const r=Ti(),[e,n]=B.useState(!1),s=Dh(),o=B.useContext(yu);function u(){n(w=>!w)}function f(){n(!1)}function m(){document.getElementById("newAccoundDialog").showModal(),n(!1)}function p(){s("/setting"),n(!1)}function y(){document.getElementById("loginDialog").showModal()}async function E(){await QE(Xs),n(!1),alert("")}return R.jsxs(R.Fragment,{children:[R.jsx("button",{onClick:f,className:"fixed inset-0 "+(e?"":"hidden")}),R.jsxs("header",{className:"contentWrapper sticky top-0 flex justify-between z-50 w-full h-10 py-2 bg-slate-50 border-b border-slate-600 text-slate-600 "+(r.pathname=="/"?"hidden":""),children:[R.jsx(Wa,{to:"/",className:"font-bold",children:" app"}),R.jsx("div",{children:R.jsx("button",{onClick:u,className:"w-7 h-7 p-0.5","aria-label":"",children:o?.email?R.jsx("svg",{className:"fill-slate-600 w-full h-full",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",children:R.jsx("path",{d:"M136 192C136 125.7 189.7 72 256 72C322.3 72 376 125.7 376 192C376 258.3 322.3 312 256 312C189.7 312 136 258.3 136 192zM48 546.3C48 447.8 127.8 368 226.3 368L285.7 368C384.2 368 464 447.8 464 546.3C464 562.7 450.7 576 434.3 576L77.7 576C61.3 576 48 562.7 48 546.3zM612.4 196.7L532.4 324.7C528.2 331.4 521 335.6 513.1 336C505.2 336.4 497.6 332.8 492.9 326.4L444.9 262.4C436.9 251.8 439.1 236.8 449.7 228.8C460.3 220.8 475.3 223 483.3 233.6L510.3 269.6L571.7 171.3C578.7 160.1 593.5 156.6 604.8 163.7C616.1 170.8 619.5 185.5 612.4 196.8z"})}):R.jsx("svg",{className:"fill-slate-600 w-full h-full",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",children:R.jsx("path",{d:"M320 312C386.3 312 440 258.3 440 192C440 125.7 386.3 72 320 72C253.7 72 200 125.7 200 192C200 258.3 253.7 312 320 312zM290.3 368C191.8 368 112 447.8 112 546.3C112 562.7 125.3 576 141.7 576L498.3 576C514.7 576 528 562.7 528 546.3C528 447.8 448.2 368 349.7 368L290.3 368z"})})})}),o?.email?R.jsxs("div",{className:"absolute z-10 top-full right-2 py-2 bg-white shadow rounded transition "+(e?"translate-y-0 opacity-100":"translate-y-2 opacity-0 pointer-events-none"),children:[R.jsx("p",{className:"mb-2 px-2 max-w-40 overflow-hidden whitespace-normal overflow-ellipsis",children:o.email}),R.jsx("button",{onClick:p,className:"block w-full text-right py-1 px-2 text-slate-700 bg-white hover:brightness-90 active:brightness-90",children:""}),R.jsx("button",{onClick:E,className:"block w-full text-right py-1 px-2 text-slate-700 bg-white hover:brightness-90 active:brightness-90",children:""})]}):R.jsxs("menu",{className:"absolute z-10 top-full right-2 py-2 bg-white shadow rounded transition "+(e?"translate-y-0 opacity-100":"translate-y-2 opacity-0 pointer-events-none"),children:[R.jsx("li",{className:"text-center py-1 px-4 bg-white hover:brightness-90 active:brightness-90",children:R.jsx("button",{onClick:m,children:""})}),R.jsx("li",{className:"text-center py-1 px-4 bg-white hover:brightness-90 active:brightness-90",children:R.jsx("button",{onClick:y,children:""})})]})]})]})}function nx(){const r=Ti(),e=R.jsx("footer",{className:"fixed bottom-0 w-full py-2 text-center text-sm bg-slate-600/30 text-slate-600",children:"2025 okimemo app"}),n=R.jsxs("menu",{className:"contentWrapper fixed inset-x-0 bottom-0 flex justify-around w-full py-2 text-center text-sm bg-slate-100/95 text-slate-800 backdrop-blur",children:[R.jsx("li",{children:R.jsx(Wa,{to:"memo",className:"text-xs md:text-base py-2 "+(r.pathname=="/memo"?"text-sky-500":"text-slate-600"),children:""})}),R.jsx("li",{children:R.jsx(Wa,{to:"calender",className:"text-xs md:text-base py-2 "+(r.pathname=="/calender"?"text-sky-500":"text-slate-600"),children:""})}),R.jsx("li",{children:R.jsx(Wa,{to:"journal",className:"text-xs md:text-base py-2 "+(r.pathname=="/journal"?"text-sky-500":"text-slate-600"),children:""})})]});return r.pathname=="/"?e:n}function ix(){const[r,e]=B.useState(""),[n,s]=B.useState(""),[o,u]=B.useState("");function f(w){e(w.target.value)}function m(w){s(w.target.value)}function p(w){u(w.target.value)}async function y(w){if(w.preventDefault(),n!=o){alert("");return}try{const S=nr.credential(r,n),j=Xs.currentUser;SR(j,S).then(G=>{const W=G.user;alert(""),console.log(":",W.uid)}),E(w)}catch(S){alert(":"+S)}}function E(w){w.preventDefault(),document.getElementById("newAccoundDialog").close()}return R.jsxs("dialog",{id:"newAccoundDialog",className:"inset-0 m-auto px-8 py-6 bg-white rounded backdrop:backdrop-blur-xs backdrop:backdrop-saturate-50",children:[R.jsx("h2",{className:"text-lg text-teal-700 font-bold mb-4",children:""}),R.jsxs("form",{onSubmit:y,children:[R.jsxs("div",{className:"mb-10",children:[R.jsxs("label",{className:"block text-sm text-slate-600 mb-4",children:[" ",R.jsx("br",{}),R.jsx("input",{type:"email",name:"email",value:r,onChange:f,placeholder:"example@gmail.com",className:"w-48 px-1 rounded-sm border border-slate-600"})]}),R.jsxs("label",{className:"block text-sm text-slate-600 mb-2",children:[" ",R.jsx("br",{}),R.jsx("input",{type:"password",name:"password",value:n,onChange:m,placeholder:"6",className:"w-48 px-1 rounded-sm border border-slate-600"})]}),R.jsxs("label",{className:"block text-sm text-slate-600 mb-2",children:[" ",R.jsx("br",{}),R.jsx("input",{type:"password",name:"checkPassword",value:o,onChange:p,className:"w-48 px-1 rounded-sm border border-slate-600"})]})]}),R.jsxs("div",{className:"flex justify-between",children:[R.jsx("button",{className:"font-bold  bg-gradient-to-b from-teal-500 to-teal-700 border border-teal-700 text-teal-50 rounded px-4",children:""}),R.jsx("button",{onClick:E,className:"font-bold text-teal-700",children:""})]})]})]})}function rx(){const[r,e]=B.useState(""),[n,s]=B.useState("");function o(p){e(p.target.value)}function u(p){s(p.target.value)}async function f(p){p.preventDefault();try{await RR(Xs,r,n),alert(""),m(p)}catch(y){alert(":"+y)}}function m(p){p.preventDefault(),document.getElementById("loginDialog").close()}return R.jsxs("dialog",{id:"loginDialog",className:"inset-0 m-auto px-8 py-6 bg-white rounded backdrop:backdrop-blur-xs backdrop:backdrop-saturate-50",children:[R.jsx("h2",{className:"text-lg text-teal-700 font-bold mb-4",children:""}),R.jsxs("form",{onSubmit:f,children:[R.jsxs("div",{className:"mb-10",children:[R.jsxs("label",{className:"block text-sm text-slate-600 mb-4",children:[" ",R.jsx("br",{}),R.jsx("input",{type:"email",name:"email",value:r,onChange:o,className:"w-48 px-1 rounded-sm border border-slate-600"})]}),R.jsxs("label",{className:"block text-sm text-slate-600 mb-2",children:[" ",R.jsx("br",{}),R.jsx("input",{type:"password",name:"password",value:n,onChange:u,className:"w-48 px-1 rounded-sm border border-slate-600"})]})]}),R.jsxs("div",{className:"flex justify-between",children:[R.jsx("button",{className:"font-bold  bg-gradient-to-b from-teal-500 to-teal-700 border border-teal-700 text-teal-50 rounded px-4",children:""}),R.jsx("button",{onClick:m,className:"font-bold text-teal-700",children:""})]})]})]})}const Zh=[{heading:" ()",place:"",lastDate:new Date(Date.now()-864e5*4),itemName:"",itemInterval:7},{heading:" ()",place:"",lastDate:new Date(Date.now()-864e5*5),itemName:"",itemInterval:15},{heading:" ()",place:"",lastDate:new Date(Date.now()-864e5*7),itemName:"",itemInterval:20}];function sx(){const r=Xl().currentUser,e=Dh();async function n(f){r?.email||KE(Xl(),cp).then(()=>{BE(Xs).then(m=>{const p=oi(li,"users",m.user.uid);io(p).then(E=>{E.exists()||y()});async function y(){await V1(oi(li,"users",m.user.uid),{email:"",createdAt:new Date,memoData:Zh,message:[]})}})}),e(f)}function s(){document.getElementById("newAccoundDialog").showModal()}function o(){document.getElementById("loginDialog").showModal()}async function u(){await QE(Xs),alert("")}return R.jsx(R.Fragment,{children:R.jsxs("div",{className:"absolute inset-0 m-auto w-96 max-w-dvh h-80 px-5 py-10 bg-white/70 rounded",children:[R.jsx("div",{className:"fixed -z-20 inset-0 w-full h-full bg-[url(/topBG_sm.jpg)] bg-cover bg-center opacity-30 saturate-50"}),R.jsx("h1",{className:"font-bold text-2xl text-center mb-12 text-slate-600",children:" app"}),R.jsxs("menu",{className:"flex justify-center mb-8",children:[R.jsxs("button",{onClick:()=>n("/memo"),className:"w-20 h-20 mx-4 rounded bg-gradient-to-br from-teal-500 to-teal-700 text-teal-50 text-sm font-bold text-center shadow shadow-slate-500 active:brightness-90",children:[R.jsx("svg",{className:"w-10 h-10 mx-auto fill-teal-50 mb-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",children:R.jsx("path",{d:"M104 112C90.7 112 80 122.7 80 136L80 184C80 197.3 90.7 208 104 208L152 208C165.3 208 176 197.3 176 184L176 136C176 122.7 165.3 112 152 112L104 112zM256 128C238.3 128 224 142.3 224 160C224 177.7 238.3 192 256 192L544 192C561.7 192 576 177.7 576 160C576 142.3 561.7 128 544 128L256 128zM256 288C238.3 288 224 302.3 224 320C224 337.7 238.3 352 256 352L544 352C561.7 352 576 337.7 576 320C576 302.3 561.7 288 544 288L256 288zM256 448C238.3 448 224 462.3 224 480C224 497.7 238.3 512 256 512L544 512C561.7 512 576 497.7 576 480C576 462.3 561.7 448 544 448L256 448zM80 296L80 344C80 357.3 90.7 368 104 368L152 368C165.3 368 176 357.3 176 344L176 296C176 282.7 165.3 272 152 272L104 272C90.7 272 80 282.7 80 296zM104 432C90.7 432 80 442.7 80 456L80 504C80 517.3 90.7 528 104 528L152 528C165.3 528 176 517.3 176 504L176 456C176 442.7 165.3 432 152 432L104 432z"})}),""]}),R.jsxs("button",{onClick:()=>n("/calender"),className:"w-20 h-20 mx-4 rounded bg-gradient-to-br from-teal-500 to-teal-700 text-teal-50 text-sm font-bold text-center shadow shadow-slate-500 active:brightness-90",children:[R.jsx("svg",{className:"w-10 h-10 mx-auto fill-teal-50 mb-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",children:R.jsx("path",{d:"M224 64C241.7 64 256 78.3 256 96L256 128L384 128L384 96C384 78.3 398.3 64 416 64C433.7 64 448 78.3 448 96L448 128L480 128C515.3 128 544 156.7 544 192L544 480C544 515.3 515.3 544 480 544L160 544C124.7 544 96 515.3 96 480L96 192C96 156.7 124.7 128 160 128L192 128L192 96C192 78.3 206.3 64 224 64zM160 304L160 336C160 344.8 167.2 352 176 352L208 352C216.8 352 224 344.8 224 336L224 304C224 295.2 216.8 288 208 288L176 288C167.2 288 160 295.2 160 304zM288 304L288 336C288 344.8 295.2 352 304 352L336 352C344.8 352 352 344.8 352 336L352 304C352 295.2 344.8 288 336 288L304 288C295.2 288 288 295.2 288 304zM432 288C423.2 288 416 295.2 416 304L416 336C416 344.8 423.2 352 432 352L464 352C472.8 352 480 344.8 480 336L480 304C480 295.2 472.8 288 464 288L432 288zM160 432L160 464C160 472.8 167.2 480 176 480L208 480C216.8 480 224 472.8 224 464L224 432C224 423.2 216.8 416 208 416L176 416C167.2 416 160 423.2 160 432zM304 416C295.2 416 288 423.2 288 432L288 464C288 472.8 295.2 480 304 480L336 480C344.8 480 352 472.8 352 464L352 432C352 423.2 344.8 416 336 416L304 416zM416 432L416 464C416 472.8 423.2 480 432 480L464 480C472.8 480 480 472.8 480 464L480 432C480 423.2 472.8 416 464 416L432 416C423.2 416 416 423.2 416 432z"})}),""]}),R.jsxs("button",{onClick:()=>n("/journal"),className:"w-20 h-20 mx-4 rounded bg-gradient-to-br from-teal-500 to-teal-700 text-teal-50 text-sm font-bold text-center shadow shadow-slate-500 active:brightness-90",children:[R.jsx("svg",{className:"w-10 h-10 mx-auto fill-teal-50 mb-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",children:R.jsx("path",{d:"M480 576L192 576C139 576 96 533 96 480L96 160C96 107 139 64 192 64L496 64C522.5 64 544 85.5 544 112L544 400C544 420.9 530.6 438.7 512 445.3L512 512C529.7 512 544 526.3 544 544C544 561.7 529.7 576 512 576L480 576zM192 448C174.3 448 160 462.3 160 480C160 497.7 174.3 512 192 512L448 512L448 448L192 448zM224 216C224 229.3 234.7 240 248 240L424 240C437.3 240 448 229.3 448 216C448 202.7 437.3 192 424 192L248 192C234.7 192 224 202.7 224 216zM248 288C234.7 288 224 298.7 224 312C224 325.3 234.7 336 248 336L424 336C437.3 336 448 325.3 448 312C448 298.7 437.3 288 424 288L248 288z"})}),""]})]}),r?.email?R.jsxs("div",{className:"text-right mr-4",children:[R.jsx("p",{className:"font-bold text-slate-600 px-2 mb-2",children:r.email}),R.jsx("button",{className:"font-bold text-slate-600 px-2",onClick:u,children:""})]}):R.jsxs("menu",{className:"text-right mr-4",children:[R.jsx("li",{children:R.jsx("button",{onClick:s,className:"font-bold text-slate-600 px-2 mb-2",children:""})}),R.jsx("li",{children:R.jsx("button",{onClick:o,className:"font-bold text-slate-600 px-2",children:""})})]})]})})}const Em={heading:"",place:"",lastDate:new Date,itemName:"",itemInterval:1,imageData:""};function On(r,e){return new Date(r.getTime()+e*864e5)}function Yi(r,e){return Math.ceil((On(r,e).getTime()-Date.now())/864e5)}function ax(){const[r,e]=B.useState([]),[n,s]=B.useState(-1),o=n>=0?r[n]:Em,[u,f]=B.useState(-1),[m,p]=B.useState(Em),y=B.useRef(null),E=B.useRef(null),[w,S]=B.useState(!1),[j,G]=B.useState(!1),[W,Q]=B.useState(!1),$=B.useContext(yu);B.useEffect(()=>{if(console.log("MemoPage useEffect"),$){const P=oi(li,"users",$.uid),ie=P1(P,le=>{console.log("fireSrorememoData");const we=[];for(const x of le.data()?le.data()?.memoData:Zh)x.lastDate=x.lastDate.toDate(),we.push(x);e(we)});return()=>ie()}},[$?.uid]);function oe(P){y.current!=null&&(s(P),y.current.showModal(),y.current.scrollTo(0,0),Q(!0))}function se(){y.current!=null&&(Q(!1),y.current?.close(),s(-1))}async function Ee(){const P=[...r],ie=new Date;if(P[n].lastDate=ie,$){const le=oi(li,"users",$.uid),we=await io(le).then(x=>x?x.data().message:[]);for(we.unshift({date:ie,text:""+r[n].heading+`  
 `+On(P[n].lastDate,P[n].itemInterval).toLocaleDateString()+""});we.length>50;)we.pop();await Xc(le,{memoData:P,message:we})}y.current&&(Q(!1),y.current?.close(),s(-1))}function he(P){f(P),p(r[P]),E.current?.showModal(),E.current?.scrollTo(0,0),G(!0)}function Ie(){f(r.length),p(Em),E.current?.showModal(),E.current?.scrollTo(0,0),G(!0)}function M(P){P.preventDefault(),E.current!=null&&(E.current.close(),f(-1),S(!1),G(!1))}function A(P){p(ie=>({...ie,heading:P.target.value}))}function C(P){p(ie=>({...ie,place:P.target.value}))}function O(P){p(ie=>({...ie,lastDate:new Date(P.target.value)}))}function V(P){p(ie=>({...ie,itemInterval:parseInt(P.target.value),nextDate:new Date(ie.lastDate.getTime()+parseInt(P.target.value)*864e5)}))}function k(P){p(ie=>({...ie,itemName:P.target.value}))}function D(P){P.preventDefault()}async function tt(P){const ie=P.currentTarget.getBoundingClientRect(),le=P.currentTarget.parentElement?.getBoundingClientRect();if(ie.left==le?.left){if(alert(""+m.heading+""),$){const we=oi(li,"users",$.uid),x=[...r];x.splice(u,1);const K=await io(we).then(X=>X?X.data().message:[]);K.unshift({date:new Date,text:""+m.heading+" "}),await Xc(we,{memoData:x,message:K})}M(P)}}async function We(P){if(P.preventDefault(),m.heading.length==0||isNaN(m.itemInterval)||m.itemInterval<=0||m.place.length==0||m.itemName.length==0){S(!0),E.current!=null&&E.current.scrollTo({top:0,behavior:"smooth"});return}const ie=[...r];if(ie[u]=m,$){const le=oi(li,"users",$.uid);if(await Xc(le,{memoData:ie}),u>=r.length){const x=[...(await io(le)).data()?.message];x.unshift({date:new Date,text:""+m.heading+`  
  `+On(m.lastDate,m.itemInterval).toLocaleDateString()+""}),await Xc(le,{message:x})}}M(P)}return R.jsxs(R.Fragment,{children:[R.jsxs("dialog",{ref:y,className:"fixed inset-0 m-auto w-96 h-4/5 overflow-y-scroll px-6 overscroll-contain bg-white rounded transition "+(W?"opacity-100 scale-100":"opacity-90 scale-95 pointer-events-none"),children:[R.jsxs("div",{className:"sticky top-0 w-full flex justify-between py-3 bg-white mb-8",children:[R.jsx("h2",{className:"font-bold text-teal-800",children:o.heading}),R.jsx("button",{className:"block w-7 h-7 p-0.5",onClick:se,children:R.jsx("svg",{className:"w-full h-full fill-slate-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:R.jsx("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"px-2 py-1 w-full bg-teal-50 text-teal-800 text-sm font-bold",children:""}),R.jsx("p",{className:"px-2 py-1 mt-1 mb-4",children:o.place}),R.jsx("h3",{className:"px-2 py-1 w-full bg-teal-50 text-teal-800 text-sm font-bold",children:""}),R.jsxs("p",{className:"px-2 py-1 mt-1 mb-4",children:[o.lastDate.toLocaleDateString()," (",Math.ceil((o.lastDate.getTime()-Date.now())/864e5)==0?"":Math.ceil((o.lastDate.getTime()-Date.now())/864e5)<0?-1*Math.ceil((o.lastDate.getTime()-Date.now())/864e5)+"":Math.ceil((o.lastDate.getTime()-Date.now())/864e5)+"",")"]}),R.jsx("h3",{className:"px-2 py-1 w-full bg-teal-50 text-teal-800 text-sm font-bold",children:""}),R.jsxs("p",{className:"px-2 py-1 mt-1 mb-4",children:[On(o.lastDate,o.itemInterval).toLocaleDateString()," (",Math.ceil((On(o.lastDate,o.itemInterval).getTime()-Date.now())/864e5)==0?"":Math.ceil((On(o.lastDate,o.itemInterval).getTime()-Date.now())/864e5)<0?-1*Math.ceil((On(o.lastDate,o.itemInterval).getTime()-Date.now())/864e5)+"":Math.ceil((On(o.lastDate,o.itemInterval).getTime()-Date.now())/864e5)+"",")"]}),R.jsx("h3",{className:"px-2 py-1 w-full bg-teal-50 text-teal-800 text-sm font-bold",children:""}),R.jsx("p",{className:"px-2 py-1 mt-1 mb-4",children:o.itemName})]}),R.jsx("div",{className:"h-80"}),R.jsxs("div",{className:"sticky bottom-0 inset-x-0 m-auto flex justify-around w-full py-4 bg-white",children:[R.jsx("button",{onClick:Ee,className:"font-bold text-teal-50 bg-gradient-to-b from-teal-500 to-teal-700 border border-teal-700 active:brightness-105 rounded px-4 py-1 "+(Yi(o.lastDate,o.itemInterval)==o.itemInterval?"pointer-events-none opacity-60":""),children:""}),R.jsx("button",{onClick:se,className:"font-bold text-teal-800 active:brightness-105 py-1",children:""})]})]}),R.jsxs("dialog",{ref:E,className:"fixed inset-0 m-auto w-96 h-4/5 overflow-y-scroll px-6 overscroll-contain bg-white rounded transition "+(j?"opacity-100 scale-100":"opacity-90 scale-95 pointer-events-none"),children:[R.jsxs("div",{className:"sticky top-0 w-full flex justify-between py-3 bg-white mb-8",children:[R.jsx("h2",{className:"font-bold text-teal-800",children:u<r.length?" ":""}),R.jsx("button",{className:"block w-7 h-7 p-0.5",onClick:M,children:R.jsx("svg",{className:"w-full h-full fill-slate-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:R.jsx("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})})]}),R.jsxs("form",{onSubmit:We,children:[R.jsx("h3",{className:"text-teal-800 font-bold mb-2",children:""}),R.jsx("input",{type:"text",value:m.heading,onChange:A,className:"px-1 rounded mb-4 "+(w&&m.heading.length==0?"border border-red-800 bg-red-100 placeholder-red-800":"border border-slate-600"),placeholder:""}),R.jsx("h3",{className:"text-teal-800 font-bold mb-2",children:""}),R.jsx("input",{type:"text",value:m.place,onChange:C,className:"px-1 rounded mb-8 "+(w&&m.place.length==0?"border border-red-800 bg-red-100 placeholder-red-800":"border border-slate-600"),placeholder:""}),R.jsx("h3",{className:"text-teal-800 font-bold mb-2",children:""}),R.jsx("input",{type:"date",value:m.lastDate.toISOString().slice(0,10),max:new Date(Date.now()).toISOString().slice(0,10),onChange:O,className:"px-1 border border-slate-600 rounded mb-4"}),R.jsx("h3",{className:"text-teal-800 font-bold mb-2",children:""}),R.jsx("input",{type:"number",value:m.itemInterval,onChange:V,min:1,className:"w-12 px-1 rounded mb-8 "+(w&&isNaN(m.itemInterval)?"border border-red-800 bg-red-100 placeholder-red-800":"border border-slate-600")}),"",R.jsx("h3",{className:"text-teal-800 font-bold mb-2",children:""}),R.jsx("input",{type:"text",value:m.itemName,onChange:k,className:"px-1 rounded mb-8 "+(w&&m.itemName.length==0?"border border-red-800 bg-red-100 placeholder-red-800":"border border-slate-600"),placeholder:""}),u<r.length&&R.jsxs(R.Fragment,{children:[R.jsx("h3",{className:"text-red-800 font-bold mb-2",children:""}),R.jsxs("div",{className:"relative w-full h-8 bg-gray-400 overflow-hidden",children:[R.jsx("button",{onClick:D,className:"absolute z-20 inset-0 text-white peer",children:""}),R.jsx("div",{onTransitionEnd:tt,className:"absolute z-10 inset-0 bg-rose-500 transition -translate-x-full peer-active:translate-x-0 duration-[3s]"})]})]}),R.jsx("div",{className:"h-80"}),R.jsxs("div",{className:"sticky z-40 bottom-0 inset-x-0 m-auto flex justify-around w-full py-4 bg-white",children:[R.jsx("button",{onClick:We,className:"font-bold text-teal-50 bg-gradient-to-b from-teal-500 to-teal-700 border border-teal-700 rounded px-4 py-1",children:u<r.length?"":""}),R.jsx("button",{onClick:M,className:"font-bold text-teal-800 py-1",children:""})]})]})]}),R.jsxs("div",{className:"contentWrapper pt-12",children:[r.map((P,ie)=>R.jsxs("div",{className:"mb-10 max-w-96 mx-auto shadow",children:[R.jsxs("div",{className:"flex justify-between px-2 py-2 bg-teal-600 rounded-t-md",children:[R.jsx("h3",{className:"font-bold text-teal-50 overflow-hidden overflow-ellipsis whitespace-nowrap",children:P.heading}),R.jsx("button",{onClick:()=>he(ie),className:"px-2.5 py-0.5 font-bold text-sm bg-white text-teal-700 active:brightness-75",children:""})]}),R.jsxs("div",{className:"relative px-4 py-4 mb-4 rounded-b-md bg-white active:brightness-90",children:[R.jsx("button",{onClick:()=>oe(ie),className:"absolute inset-0 m-auto","aria-label":""}),R.jsxs("ul",{children:[R.jsxs("li",{className:"text-sm mb-2",children:[R.jsx("span",{className:"font-bold",children:""})," : ",P.place]}),R.jsxs("li",{className:"text-sm mb-4",children:[R.jsx("span",{className:"font-bold",children:""})," : ",R.jsx("span",{className:Yi(P.lastDate,P.itemInterval)<0?"text-red-500":Yi(P.lastDate,P.itemInterval)==P.itemInterval?"text-sky-500":Yi(P.lastDate,P.itemInterval)<=3?"text-amber-500":"",children:Math.ceil((On(P.lastDate,P.itemInterval).getTime()-Date.now())/864e5)==0?"":Math.ceil((On(P.lastDate,P.itemInterval).getTime()-Date.now())/864e5)<0?-1*Math.ceil((On(P.lastDate,P.itemInterval).getTime()-Date.now())/864e5)+"":Math.ceil((On(P.lastDate,P.itemInterval).getTime()-Date.now())/864e5)+""})]}),R.jsxs("li",{className:"relative overflow-hidden w-72 max-w-full h-2 pointer-events-none",children:[R.jsx("div",{className:"absolute top-0 left-0 w-full h-full "+(Yi(P.lastDate,P.itemInterval)<0?"bg-red-400":Yi(P.lastDate,P.itemInterval)==P.itemInterval?"bg-sky-400":Yi(P.lastDate,P.itemInterval)<=3?"bg-amber-400":"bg-teal-400")}),R.jsx("div",{className:"absolute z-10 top-0 right-0 w-full h-full "+(Yi(P.lastDate,P.itemInterval)<0?"bg-slate-400":"bg-slate-200"),style:{width:100-Yi(P.lastDate,P.itemInterval)/P.itemInterval*100+"%"}})]})]}),R.jsx("svg",{className:"absolute inset-y-0 right-4 m-auto w-6 h-6 fill-slate-500 pointer-events-none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:R.jsx("path",{d:"M10 0a10 10 0 1 1 0 20 10 10 0 0 1 0-20zM2 10a8 8 0 1 0 16 0 8 8 0 0 0-16 0zm10.54.7L9 14.25l-1.41-1.41L10.4 10 7.6 7.17 9 5.76 13.24 10l-.7.7z"})})]})]},ie)),R.jsx("button",{onClick:Ie,className:"block w-full max-w-96 mx-auto text-center py-10 mb-80 rounded bg-slate-200 text-slate-800",children:""})]})]})}function ox(){const r=B.useRef(null),e=B.useRef(null),n=B.useRef(null),s=B.useRef(null),[o,u]=B.useState(new Date().getFullYear()),[f,m]=B.useState(new Date().getMonth()),p=new Date(Date.now()).toLocaleDateString(),y=864e5,[E,w]=B.useState(new Date),S=["","","","","","",""],[j,G]=B.useState([]),[W,Q]=B.useState([]),[$,oe]=B.useState([]),[se,Ee]=B.useState([]),[he,Ie]=B.useState([]),[M,A]=B.useState(),[C,O]=B.useState(!1),[V,k]=B.useState(!0),D=B.useContext(yu);B.useEffect(()=>{(async()=>{if(D){const X=oi(li,"users",D.uid),ne=await io(X);if(ne.exists()){const ce=[];for(const[Re,pe]of Object.entries(ne.data().memoData))pe.lastDate=pe.lastDate.toDate(),ce.push(pe);G(ce)}}else G(Zh)})()},[D?.uid]),B.useEffect(()=>{let K=[],X=new Date;for(X.setFullYear(o),X.setMonth(f-1),X.setDate(1);X.getDay()!=0;)X.setDate(X.getDate()-1);for(;K.length<42;)K.push(new Date(X)),X.setDate(X.getDate()+1);for(oe(K),K=[],X=new Date,X.setFullYear(o),X.setMonth(f),X.setDate(1);X.getDay()!=0;)X.setDate(X.getDate()-1);for(;K.length<42;)K.push(new Date(X)),X.setDate(X.getDate()+1);for(Q(K),K=[],X=new Date,X.setFullYear(o),X.setMonth(f+1),X.setDate(1);X.getDay()!=0;)X.setDate(X.getDate()-1);for(;K.length<42;)K.push(new Date(X)),X.setDate(X.getDate()+1);Ee(K),e.current?.scrollIntoView({inline:"end",block:"end"})},[o,f]),B.useEffect(()=>{const K=[];for(const X of W){const ne=Math.floor(X.getTime()/y);let ce=0;for(const Re of j){const pe=Math.floor(Re.lastDate.getTime()/y);pe+Re.itemInterval>ne||(ne-pe)%Re.itemInterval==0&&ce++}K.push(ce)}Ie(K)},[W,j]),B.useEffect(()=>{const K=[],X=Math.floor(E.getTime()/y);for(const ne of j){const ce=Math.floor(ne.lastDate.getTime()/y);ce+ne.itemInterval>X||(X-ce)%ne.itemInterval==0&&K.push(ne)}A(K),setTimeout(()=>{r.current?.scrollTo(0,0)},10)},[E]);function tt(K){let X=f+K,ne=o;X==-1?(ne--,X=11):X==12&&(ne++,X=0),m(()=>X),u(()=>ne)}function We(K){w(K),setTimeout(()=>{r.current&&(r.current.showModal(),O(!0))},10)}function P(){r.current&&r.current.close(),O(!1)}function ie(K){const X=new Date(E);X.setDate(E.getDate()+K),w(X)}function le(){k(!1)}function we(){n.current!=null&&e.current!=null&&(n.current.getBoundingClientRect().left>=0?tt(-1):e.current.getBoundingClientRect().left<0?tt(1):tt(0)),setTimeout(()=>{k(!0)},10)}function x(K,X){return R.jsx("div",{className:"w-full grid grid-rows-6 grid-cols-7 border-x border-slate-400 bg-white",children:K.map((ne,ce)=>R.jsxs("div",{className:"relative h-12 md:h-14 "+(p==ne.toLocaleDateString()?"border-2 border-sky-600":"border border-slate-300"),children:[R.jsx("button",{onClick:()=>We(ne),className:"absolute inset-0","aria-label":ne.toLocaleDateString()}),R.jsx("p",{className:"absolute w-fit h-fit top-1 left-1 text-sm pointer-events-none "+(ne.getMonth()==f&&X==0?"":"text-slate-400"),children:ne.getDate()}),he[ce]>0&&X==0&&R.jsxs("p",{className:"absolute bottom-1 right-1 w-8 md:px-2 md:py-0.5 h-fit m-auto text-sky-50 text-sm text-center bg-sky-500 rounded-lg pointer-events-none "+(V?"":"hidden"),children:[Math.min(he[ce],9),he[ce]>=10&&"+"]})]},ce))})}return R.jsxs(R.Fragment,{children:[R.jsxs("dialog",{ref:r,className:"fixed inset-0 m-auto w-96 h-4/5 overflow-y-scroll px-6 overscroll-contain bg-white rounded transition "+(C?"opacity-100 scale-100":"opacity-90 scale-95 pointer-events-none"),children:[R.jsxs("div",{className:"sticky top-0 w-full flex justify-between py-3 bg-white mb-4 md:mb-8",children:[R.jsx("h2",{className:"font-bold text-teal-800",children:E.toLocaleDateString()}),R.jsx("button",{className:"block w-7 h-7 p-0.5",onClick:P,children:R.jsx("svg",{className:"w-full h-full fill-slate-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:R.jsx("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})})]}),R.jsxs("div",{className:"min-h-full",children:[R.jsxs("p",{className:"font-bold text-slate-400 mb-4 text-sm",children:[" : ",M?.length?M.length+"":""]}),R.jsx("ul",{children:M?.map((K,X)=>R.jsxs("li",{className:"py-2 first:border-y not-first:border-b border-slate-600",children:[R.jsx("h4",{className:"font-bold text-teal-800 mb-2",children:K.heading}),R.jsxs("p",{className:"text-sm",children:[" ",R.jsx("span",{className:"font-bold",children:""})," : ",K.place]}),K.itemName&&R.jsxs("p",{className:"text-sm",children:[" ",R.jsx("span",{className:"font-bold",children:""})," : ",K.itemName]})]},X))})]}),R.jsxs("div",{className:"sticky bottom-0 flex justify-between",children:[R.jsx("button",{className:"w-1/2 py-4",onClick:()=>ie(-1),"aria-label":"",children:R.jsx("svg",{className:"w-6 h-6 mx-auto fill-slate-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",children:R.jsx("path",{d:"M201.4 297.4C188.9 309.9 188.9 330.2 201.4 342.7L361.4 502.7C373.9 515.2 394.2 515.2 406.7 502.7C419.2 490.2 419.2 469.9 406.7 457.4L269.3 320L406.6 182.6C419.1 170.1 419.1 149.8 406.6 137.3C394.1 124.8 373.8 124.8 361.3 137.3L201.3 297.3z"})})}),R.jsx("button",{className:"w-1/2 py-4",onClick:()=>ie(1),"aria-label":"",children:R.jsx("svg",{className:"w-6 h-6 mx-auto fill-slate-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",children:R.jsx("path",{d:"M439.1 297.4C451.6 309.9 451.6 330.2 439.1 342.7L279.1 502.7C266.6 515.2 246.3 515.2 233.8 502.7C221.3 490.2 221.3 469.9 233.8 457.4L371.2 320L233.9 182.6C221.4 170.1 221.4 149.8 233.9 137.3C246.4 124.8 266.7 124.8 279.2 137.3L439.2 297.3z"})})})]})]}),R.jsx("div",{className:"contentWrapper pt-8 md:pt-12 pb-36",children:R.jsxs("div",{className:"max-w-lg mx-auto",children:[R.jsxs("div",{className:"flex justify-between mb-4",children:[R.jsxs("h2",{className:"w-24",children:[o," ",f+1,""]}),R.jsxs("div",{className:"flex",children:[R.jsx("button",{onClick:()=>tt(-1),"aria-label":"",children:R.jsx("svg",{className:"w-7 h-5 px-1 fill-slate-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",children:R.jsx("path",{d:"M201.4 297.4C188.9 309.9 188.9 330.2 201.4 342.7L361.4 502.7C373.9 515.2 394.2 515.2 406.7 502.7C419.2 490.2 419.2 469.9 406.7 457.4L269.3 320L406.6 182.6C419.1 170.1 419.1 149.8 406.6 137.3C394.1 124.8 373.8 124.8 361.3 137.3L201.3 297.3z"})})}),R.jsx("button",{onClick:()=>tt(1),"aria-label":"",children:R.jsx("svg",{className:"w-7 h-5 px-1 fill-slate-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",children:R.jsx("path",{d:"M439.1 297.4C451.6 309.9 451.6 330.2 439.1 342.7L279.1 502.7C266.6 515.2 246.3 515.2 233.8 502.7C221.3 490.2 221.3 469.9 233.8 457.4L371.2 320L233.9 182.6C221.4 170.1 221.4 149.8 233.9 137.3C246.4 124.8 266.7 124.8 279.2 137.3L439.2 297.3z"})})})]})]}),R.jsxs("div",{className:"w-full h-fit",children:[R.jsx("div",{className:"flex justify-around mb-2",children:S.map((K,X)=>R.jsx("p",{className:"w-fit text-center "+(X==0?"text-red-500 ":X==6?"text-blue-600":""),children:K},X))}),R.jsxs("div",{className:"w-full overflow-x-auto whitespace-nowrap snap-x snap-mandatory lg:overflow-hidden",onScroll:le,onScrollEnd:we,children:[R.jsx("div",{className:"inline-block w-full snap-center lg:hidden",ref:n,children:x($,-1)}),R.jsx("div",{className:"inline-block w-full snap-center",ref:e,children:x(W,0)}),R.jsx("div",{className:"inline-block w-full snap-center lg:hidden",ref:s,children:x(se,1)})]})]})]})})]})}const H0=[];function lx(){const[r,e]=B.useState(H0),n=B.useContext(yu);return B.useEffect(()=>{if(n){const s=oi(li,"users",n.uid),o=P1(s,u=>{const f=[];for(const[m,p]of Object.entries(u.data().message))p.date=p.date.toDate(),f.push(p);e(f)});return()=>o()}else e(H0)},[n?.uid]),R.jsx("div",{className:"contentWrapper relative pt-12",children:R.jsxs("div",{className:"w-full h-4/5 overflow-y-auto",children:[r.length==0&&R.jsx("p",{className:"text-slate-400",children:""}),r.map((s,o)=>R.jsxs("div",{className:"w-full px-5 py-5 rounded bg-white shadow my-4",children:[R.jsx("h2",{className:"text-xs text-slate-600 mb-3",children:s.date.toLocaleDateString()}),R.jsx("p",{className:"whitespace-pre-line",children:s.text})]},o)),R.jsx("div",{className:"h-80"})]})})}function ux(){const r=Xl().currentUser,e=Ti(),[n,s]=B.useState(""),[o,u]=B.useState(""),[f,m]=B.useState(""),[p,y]=B.useState(""),[E,w]=B.useState(""),S=Dh();function j(se){u(se.target.value)}function G(se){m(se.target.value)}function W(se){y(se.target.value)}B.useEffect(()=>{r&&s(r.email)},[r?.uid]);async function Q(se){if(se.preventDefault(),!r||!r.email){alert("");return}if(f!=p){alert("");return}const Ee=nr.credential(r?.email?r.email:"",o);try{await Lv(r,Ee),f.length!=0&&await CR(r,f),alert("")}catch(he){alert(":"+he)}}function $(se){w(se.target.value)}async function oe(se){se.preventDefault();const Ee=nr.credential(r?.email?r.email:"",E);try{if(!r)throw"";await Lv(r,Ee),await OR(r),alert(""),S("/")}catch(he){alert(":"+he)}}return B.useEffect(()=>{e.hash&&document.querySelector(e.hash)?.scrollIntoView()},[]),R.jsxs("div",{className:"contentWrapper pt-10 pb-96",children:[R.jsxs("div",{id:"account",className:"mb-10 pb-10 border-b border-b-slate-400 "+(r?.email?"":"opacity-50 pointer-events-none"),children:[R.jsx("h2",{className:" text-slate-600 font-bold  py-2 mb-12",children:""}),R.jsxs("form",{onSubmit:Q,className:"relative w-fit mx-auto",children:[R.jsxs("div",{className:"mb-10",children:[R.jsxs("label",{className:"block text-sm text-slate-600",children:[" ",R.jsx("br",{}),R.jsx("input",{type:"password",name:"reauthPassword",value:o,onChange:j,placeholder:"",className:"w-48 px-1 rounded-sm border border-slate-600 bg-white"})]}),R.jsx("hr",{className:"opacity-40 mt-8 mb-8"}),R.jsxs("label",{className:"block text-sm text-slate-600 mb-2",children:["() ",R.jsx("br",{}),R.jsx("input",{type:"password",name:"password",value:f,onChange:G,placeholder:"6",className:"w-48 px-1 rounded-sm border border-slate-600 bg-white"})]}),R.jsxs("label",{className:"block text-sm text-slate-600 mb-2",children:[" ",R.jsx("br",{}),R.jsx("input",{type:"password",name:"checkPassword",value:p,onChange:W,className:"w-48 px-1 rounded-sm border border-slate-600 bg-white"})]})]}),R.jsx("button",{className:"block ml-auto font-bold  bg-gradient-to-b from-teal-500 to-teal-700 border border-teal-700 text-teal-50 rounded px-4",children:""})]})]}),R.jsxs("div",{id:"deleteAccount",className:"mb-10 "+(r?.email?"":"opacity-50 pointer-events-none"),children:[R.jsx("h2",{className:"text-slate-600 font-bold py-2 mb-12",children:""}),R.jsxs("form",{onSubmit:oe,className:"w-fit mx-auto",children:[R.jsx("input",{type:"password",value:E,onChange:$,className:"w-48 px-1 rounded-sm border border-slate-600 bg-white mb-10",placeholder:""}),R.jsx("button",{onClick:oe,className:"block ml-auto font-bold  bg-gradient-to-b from-red-400 to-red-500 border border-red-800 text-red-50 rounded px-4",children:""})]})]})]})}const yu=B.createContext(null);function cx(){const[r,e]=B.useState();return B.useEffect(()=>{const n=NR(Xs,s=>{s?(console.log(""),e(s)):KE(Xl(),cp).then(()=>{BE(Xs).then(o=>{console.log("");const u=oi(li,"users",o.user.uid);io(u).then(m=>{m.exists()||f()});async function f(){console.log(""),await V1(oi(li,"users",o.user.uid),{email:"",createdAt:new Date,memoData:Zh,message:[]})}})})});return()=>n()},[]),R.jsx(R.Fragment,{children:R.jsxs(yu.Provider,{value:r,children:[R.jsx(ix,{}),R.jsx(rx,{}),R.jsxs(NS,{basename:"/okimemo",children:[R.jsx(tx,{}),R.jsxs(lS,{children:[R.jsx(Ga,{path:"/",element:R.jsx(sx,{})}),R.jsx(Ga,{path:"/memo",element:R.jsx(ax,{})}),R.jsx(Ga,{path:"/calender",element:R.jsx(ox,{})}),R.jsx(Ga,{path:"/journal",element:R.jsx(lx,{})}),R.jsx(Ga,{path:"/setting",element:R.jsx(ux,{})})]}),R.jsx(nx,{})]})]})})}_w.createRoot(document.getElementById("root")).render(R.jsx(B.StrictMode,{children:R.jsx(cx,{})}));
